"use strict";(self.webpackChunksamples=self.webpackChunksamples||[]).push([[179],{654:()=>{function xt(e){return"function"==typeof e}function Pa(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ma=Pa(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ls(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class _i{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(xt(i))try{i()}catch(o){t=o instanceof Ma?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{qd(o)}catch(s){t=t??[],s instanceof Ma?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ma(t)}}add(t){var n;if(t&&t!==this)if(this.closed)qd(t);else{if(t instanceof _i){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ls(n,t)}remove(t){const{_finalizers:n}=this;n&&ls(n,t),t instanceof _i&&t._removeParent(this)}}_i.EMPTY=(()=>{const e=new _i;return e.closed=!0,e})();const Gd=_i.EMPTY;function Wd(e){return e instanceof _i||e&&"closed"in e&&xt(e.remove)&&xt(e.add)&&xt(e.unsubscribe)}function qd(e){xt(e)?e():e.unsubscribe()}const kr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ka={setTimeout(e,t,...n){const{delegate:i}=ka;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ka;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Yd(e){ka.setTimeout(()=>{const{onUnhandledError:t}=kr;if(!t)throw e;t(e)})}function Zd(){}const O_=Hu("C",void 0,void 0);function Hu(e,t,n){return{kind:e,value:t,error:n}}let xr=null;function xa(e){if(kr.useDeprecatedSynchronousErrorHandling){const t=!xr;if(t&&(xr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=xr;if(xr=null,n)throw i}}else e()}class Vu extends _i{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wd(t)&&t.add(this)):this.destination=z_}static create(t,n,i){return new us(t,n,i)}next(t){this.isStopped?$u(function L_(e){return Hu("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$u(function A_(e){return Hu("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$u(O_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const N_=Function.prototype.bind;function ju(e,t){return N_.call(e,t)}class R_{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Ea(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Ea(i)}else Ea(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ea(n)}}}class us extends Vu{constructor(t,n,i){let r;if(super(),xt(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&kr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ju(t.next,o),error:t.error&&ju(t.error,o),complete:t.complete&&ju(t.complete,o)}):r=t}this.destination=new R_(r)}}function Ea(e){kr.useDeprecatedSynchronousErrorHandling?function F_(e){kr.useDeprecatedSynchronousErrorHandling&&xr&&(xr.errorThrown=!0,xr.error=e)}(e):Yd(e)}function $u(e,t){const{onStoppedNotification:n}=kr;n&&ka.setTimeout(()=>n(e,t))}const z_={closed:!0,next:Zd,error:function B_(e){throw e},complete:Zd},Uu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gu(e){return e}let bn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const o=function V_(e){return e&&e instanceof Vu||function H_(e){return e&&xt(e.next)&&xt(e.error)&&xt(e.complete)}(e)&&Wd(e)}(n)?n:new us(n,i,r);return xa(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=Kd(i))((r,o)=>{const s=new us({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[Uu](){return this}pipe(...n){return function Qd(e){return 0===e.length?Gu:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}(n)(this)}toPromise(n){return new(n=Kd(n))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function Kd(e){var t;return null!==(t=e??kr.Promise)&&void 0!==t?t:Promise}const j_=Pa(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oa=(()=>{class e extends bn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new Xd(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new j_}next(n){xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Gd:(this.currentObservers=null,o.push(n),new _i(()=>{this.currentObservers=null,ls(o,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){const n=new bn;return n.source=this,n}}return e.create=(t,n)=>new Xd(t,n),e})();class Xd extends Oa{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:Gd}}function Er(e){return t=>{if(function $_(e){return xt(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Or(e,t,n,i,r){return new U_(e,t,n,i,r)}class U_ extends Vu{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function fr(e){return this instanceof fr?(this.v=e,this):new fr(e)}function np(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Zu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ip=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function rp(e){return xt(e?.then)}function op(e){return xt(e[Uu])}function sp(e){return Symbol.asyncIterator&&xt(e?.[Symbol.asyncIterator])}function ap(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lp=function dC(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function up(e){return xt(e?.[lp])}function cp(e){return function tp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(d){return new Promise(function(p,g){o.push([f,d,p,g])>1||a(f,d)})})}function a(f,d){try{!function l(f){f.value instanceof fr?Promise.resolve(f.value.v).then(u,c):h(o[0][2],f)}(i[f](d))}catch(p){h(o[0][3],p)}}function u(f){a("next",f)}function c(f){a("throw",f)}function h(f,d){f(d),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield fr(n.read());if(r)return yield fr(void 0);yield yield fr(i)}}finally{n.releaseLock()}})}function hp(e){return xt(e?.getReader)}function ji(e){if(e instanceof bn)return e;if(null!=e){if(op(e))return function pC(e){return new bn(t=>{const n=e[Uu]();if(xt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ip(e))return function gC(e){return new bn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(rp(e))return function mC(e){return new bn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Yd)})}(e);if(sp(e))return fp(e);if(up(e))return function vC(e){return new bn(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(hp(e))return function yC(e){return fp(cp(e))}(e)}throw ap(e)}function fp(e){return new bn(t=>{(function wC(e,t){var n,i,r,o;return function Jd(e,t,n,i){return new(n||(n=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(h){s(h)}}function l(c){try{u(i.throw(c))}catch(h){s(h)}}function u(c){c.done?o(c.value):function r(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=np(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function dr(e,t,n,i=0,r=!1){const o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function dp(e,t,n=1/0){return xt(t)?dp((i,r)=>function G_(e,t){return Er((n,i)=>{let r=0;n.subscribe(Or(i,o=>{i.next(e.call(t,o,r++))}))})}((o,s)=>t(i,o,r,s))(ji(e(i,r))),n):("number"==typeof t&&(n=t),Er((i,r)=>function TC(e,t,n,i,r,o,s,a){const l=[];let u=0,c=0,h=!1;const f=()=>{h&&!l.length&&!u&&t.complete()},d=g=>u<i?p(g):l.push(g),p=g=>{o&&t.next(g),u++;let m=!1;ji(n(g,c++)).subscribe(Or(t,w=>{r?.(w),o?d(w):t.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<i;){const w=l.shift();s?dr(t,s,()=>p(w)):p(w)}f()}catch(w){t.error(w)}}))};return e.subscribe(Or(t,d,()=>{h=!0,f()})),()=>{a?.()}}(i,r,e,n)))}const pp=new bn(e=>e.complete());function Qu(e){return e[e.length-1]}function gp(e){return function bC(e){return e&&xt(e.schedule)}(Qu(e))?e.pop():void 0}function mp(e,t=0){return Er((n,i)=>{n.subscribe(Or(i,r=>dr(i,e,()=>i.next(r),t),()=>dr(i,e,()=>i.complete(),t),r=>dr(i,e,()=>i.error(r),t)))})}function vp(e,t=0){return Er((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function yp(e,t){if(!e)throw new Error("Iterable cannot be null");return new bn(n=>{dr(n,t,()=>{const i=e[Symbol.asyncIterator]();dr(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function wp(e,t){return t?function xC(e,t){if(null!=e){if(op(e))return function SC(e,t){return ji(e).pipe(vp(t),mp(t))}(e,t);if(ip(e))return function PC(e,t){return new bn(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(rp(e))return function IC(e,t){return ji(e).pipe(vp(t),mp(t))}(e,t);if(sp(e))return yp(e,t);if(up(e))return function MC(e,t){return new bn(n=>{let i;return dr(n,t,()=>{i=e[lp](),dr(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void n.error(s)}o?n.complete():n.next(r)},0,!0)}),()=>xt(i?.return)&&i.return()})}(e,t);if(hp(e))return function kC(e,t){return yp(cp(e),t)}(e,t)}throw ap(e)}(e,t):ji(e)}function EC(...e){const t=gp(e),n=function DC(e,t){return"number"==typeof Qu(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?ji(i[0]):function _C(e=1/0){return dp(Gu,e)}(n)(wp(i,t)):pp}class OC extends Oa{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Tp(e={}){const{connector:t=(()=>new Oa),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,u=0,c=!1,h=!1;const f=()=>{a?.unsubscribe(),a=void 0},d=()=>{f(),s=l=void 0,c=h=!1},p=()=>{const g=s;d(),g?.unsubscribe()};return Er((g,m)=>{u++,!h&&!c&&f();const w=l=l??t();m.add(()=>{u--,0===u&&!h&&!c&&(a=Ku(p,r))}),w.subscribe(m),!s&&u>0&&(s=new us({next:v=>w.next(v),error:v=>{h=!0,f(),a=Ku(d,n,v),w.error(v)},complete:()=>{c=!0,f(),a=Ku(d,i),w.complete()}}),ji(g).subscribe(s))})(o)}}function Ku(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new us({next:()=>{i.unsubscribe(),e()}});return ji(t(...n)).subscribe(i)}function NC(e,t){return e===t}function rt(e){for(let t in e)if(e[t]===rt)return t;throw Error("Could not find renamed property on target object.")}function Aa(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $t(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($t).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Xu(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const RC=rt({__forward_ref__:rt});function Ju(e){return e.__forward_ref__=Ju,e.toString=function(){return $t(this())},e}function Pe(e){return function ec(e){return"function"==typeof e&&e.hasOwnProperty(RC)&&e.__forward_ref__===Ju}(e)?e():e}function tc(e){return e&&!!e.\u0275providers}const _p="https://g.co/ng/security#xss";class he extends Error{constructor(t,n){super(function La(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ke(e){return"string"==typeof e?e:null==e?"":String(e)}function nc(e,t){throw new he(-201,!1)}function Kn(e,t){null==e&&function Se(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function ut(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Lr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fa(e){return Cp(e,Ra)||Cp(e,bp)}function Cp(e,t){return e.hasOwnProperty(t)?e[t]:null}function Na(e){return e&&(e.hasOwnProperty(ic)||e.hasOwnProperty(UC))?e[ic]:null}const Ra=rt({\u0275prov:rt}),ic=rt({\u0275inj:rt}),bp=rt({ngInjectableDef:rt}),UC=rt({ngInjectorDef:rt});var Ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ue||{});let rc;function Dn(e){const t=rc;return rc=e,t}function Sp(e,t,n){const i=Fa(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Ue.Optional?null:void 0!==t?t:void nc($t(e))}const pt=globalThis,cs={},uc="__NG_DI_FLAG__",Ba="ngTempTokenPath",qC=/\n/gm,Pp="__source";let ro;function pr(e){const t=ro;return ro=e,t}function QC(e,t=Ue.Default){if(void 0===ro)throw new he(-203,!1);return null===ro?Sp(e,void 0,t):ro.get(e,t&Ue.Optional?null:void 0,t)}function Ge(e,t=Ue.Default){return(function Dp(){return rc}()||QC)(Pe(e),t)}function gt(e,t=Ue.Default){return Ge(e,za(t))}function za(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function cc(e){const t=[];for(let n=0;n<e.length;n++){const i=Pe(e[n]);if(Array.isArray(i)){if(0===i.length)throw new he(900,!1);let r,o=Ue.Default;for(let s=0;s<i.length;s++){const a=i[s],l=KC(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(Ge(r,o))}else t.push(Ge(i))}return t}function hs(e,t){return e[uc]=t,e.prototype[uc]=t,e}function KC(e){return e[uc]}function $i(e){return{toString:e}.toString()}var Ha=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ha||{}),ui=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ui||{});const Ci={},Ke=[],Va=rt({\u0275cmp:rt}),hc=rt({\u0275dir:rt}),fc=rt({\u0275pipe:rt}),kp=rt({\u0275mod:rt}),Ui=rt({\u0275fac:rt}),fs=rt({__NG_ELEMENT_ID__:rt}),xp=rt({__NG_ENV_ID__:rt});function Ep(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function dc(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{const o=r,s=n[++i];Ap(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function Op(e){return 3===e||4===e||6===e}function Ap(e){return 64===e.charCodeAt(0)}function ds(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||Lp(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function Lp(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}const Fp="ng-template";function eb(e,t,n){let i=0,r=!0;for(;i<e.length;){let o=e[i++];if("string"==typeof o&&r){const s=e[i++];if(n&&"class"===o&&-1!==Ep(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Np(e){return 4===e.type&&e.value!==Fp}function tb(e,t,n){return t===(4!==e.type||n?e.value:Fp)}function nb(e,t,n){let i=4;const r=e.attrs||[],o=function ob(e){for(let t=0;t<e.length;t++)if(Op(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!tb(e,l,n)||""===l&&1===t.length){if(ci(i))return!1;s=!0}}else{const u=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!eb(e.attrs,u,n)){if(ci(i))return!1;s=!0}continue}const h=ib(8&i?"class":l,r,Np(e),n);if(-1===h){if(ci(i))return!1;s=!0;continue}if(""!==u){let f;f=h>o?"":r[h+1].toLowerCase();const d=8&i?f:null;if(d&&-1!==Ep(d,u,0)||2&i&&u!==f){if(ci(i))return!1;s=!0}}}}else{if(!s&&!ci(i)&&!ci(l))return!1;if(s&&ci(l))continue;s=!1,i=l|1&i}}return ci(i)||s}function ci(e){return 0==(1&e)}function ib(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){const s=t[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function sb(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Rp(e,t,n=!1){for(let i=0;i<t.length;i++)if(nb(e,t[i],n))return!0;return!1}function ab(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Bp(e,t){return e?":not("+t.trim()+")":t}function lb(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!ci(s)&&(t+=Bp(o,r),r=""),i=s,o=o||!ci(i);n++}return""!==r&&(t+=Bp(o,r)),t}function Fn(e){return $i(()=>{const t=Hp(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ha.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ui.Emulated,styles:e.styles||Ke,_:null,schemas:e.schemas||null,tView:null,id:""};Vp(n);const i=e.dependencies;return n.directiveDefs=ja(i,!1),n.pipeDefs=ja(i,!0),n.id=function mb(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function fb(e){return We(e)||Kt(e)}function db(e){return null!==e}function oo(e){return $i(()=>({type:e.type,bootstrap:e.bootstrap||Ke,declarations:e.declarations||Ke,imports:e.imports||Ke,exports:e.exports||Ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zp(e,t){if(null==e)return Ci;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}function Xn(e){return $i(()=>{const t=Hp(e);return Vp(t),t})}function We(e){return e[Va]||null}function Kt(e){return e[hc]||null}function fn(e){return e[fc]||null}function Hp(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ci,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ke,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zp(e.inputs,t),outputs:zp(e.outputs)}}function Vp(e){e.features?.forEach(t=>t(e))}function ja(e,t){if(!e)return null;const n=t?fn:fb;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(db)}const Et=0,ue=1,Ne=2,Tt=3,hi=4,gs=5,sn=6,so=7,At=8,gr=9,ao=10,xe=11,ms=12,jp=13,lo=14,Lt=15,vs=16,uo=17,bi=18,ys=19,$p=20,mr=21,Gi=22,ws=23,Ts=24,Ve=25,pc=1,Up=2,Di=7,co=9,Xt=11;function In(e){return Array.isArray(e)&&"object"==typeof e[pc]}function dn(e){return Array.isArray(e)&&!0===e[pc]}function gc(e){return 0!=(4&e.flags)}function Fr(e){return e.componentOffset>-1}function Ua(e){return 1==(1&e.flags)}function fi(e){return!!e.template}function mc(e){return 0!=(512&e[Ne])}function Nr(e,t){return e.hasOwnProperty(Ui)?e[Ui]:null}let Jt=null,Ga=!1;function Jn(e){const t=Jt;return Jt=e,t}const qp={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Zp(e){if(!Cs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Xp(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Kp(e){e.dirty=!0,function Qp(e){if(void 0===e.liveConsumerNode)return;const t=Ga;Ga=!0;try{for(const n of e.liveConsumerNode)n.dirty||Kp(n)}finally{Ga=t}}(e),e.consumerMarkedDirty?.(e)}function yc(e){return e&&(e.nextProducerIndex=0),Jn(e)}function wc(e,t){if(Jn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Cs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Wa(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Xp(e){ho(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(Zp(n),i!==n.version))return!0}return!1}function Jp(e){if(ho(e),Cs(e))for(let t=0;t<e.producerNode.length;t++)Wa(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Wa(e,t){if(function tg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ho(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)Wa(e.producerNode[i],e.producerIndexOfThis[i]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];ho(r),r.producerIndexOfThis[i]=t}}function Cs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ho(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let ng=null;const sg=()=>{},kb=(()=>({...qp,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:sg}))();class xb{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Rn(){return ag}function ag(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ob),Eb}function Eb(){const e=ug(this),t=e?.current;if(t){const n=e.previous;if(n===Ci)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Ob(e,t,n,i){const r=this.declaredInputs[n],o=ug(e)||function Ab(e,t){return e[lg]=t}(e,{previous:Ci,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new xb(l&&l.currentValue,t,a===Ci),e[i]=t}Rn.ngInherit=!0;const lg="__ngSimpleChanges__";function ug(e){return e[lg]||null}const Si=function(e,t,n){},cg="svg";function mt(e){for(;Array.isArray(e);)e=e[Et];return e}function Pn(e,t){return mt(t[e.index])}function fg(e,t){return e.data[t]}function Bn(e,t){const n=t[e];return In(n)?n:n[Et]}function yr(e,t){return null==t?null:e[t]}function dg(e){e[uo]=0}function zb(e){1024&e[Ne]||(e[Ne]|=1024,gg(e,1))}function pg(e){1024&e[Ne]&&(e[Ne]&=-1025,gg(e,-1))}function gg(e,t){let n=e[Tt];if(null===n)return;n[gs]+=t;let i=n;for(n=n[Tt];null!==n&&(1===t&&1===i[gs]||-1===t&&0===i[gs]);)n[gs]+=t,i=n,n=n[Tt]}const Ie={lFrame:Ig(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yg(){return Ie.bindingsEnabled}function po(){return null!==Ie.skipHydrationRootTNode}function X(){return Ie.lFrame.lView}function qe(){return Ie.lFrame.tView}function Wi(e){return Ie.lFrame.contextLView=e,e[At]}function qi(e){return Ie.lFrame.contextLView=null,e}function en(){let e=wg();for(;null!==e&&64===e.type;)e=e.parent;return e}function wg(){return Ie.lFrame.currentTNode}function Ii(e,t){const n=Ie.lFrame;n.currentTNode=e,n.isParent=t}function Dc(){return Ie.lFrame.isParent}function Sc(){Ie.lFrame.isParent=!1}function pn(){const e=Ie.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function go(){return Ie.lFrame.bindingIndex++}function Kb(e,t){const n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ic(t)}function Ic(e){Ie.lFrame.currentDirectiveIndex=e}function bg(){return Ie.lFrame.currentQueryIndex}function Mc(e){Ie.lFrame.currentQueryIndex=e}function Jb(e){const t=e[ue];return 2===t.type?t.declTNode:1===t.type?e[sn]:null}function Dg(e,t,n){if(n&Ue.SkipSelf){let r=t,o=e;for(;!(r=r.parent,null!==r||n&Ue.Host||(r=Jb(o),null===r||(o=o[lo],10&r.type))););if(null===r)return!1;t=r,e=o}const i=Ie.lFrame=Sg();return i.currentTNode=t,i.lView=e,!0}function kc(e){const t=Sg(),n=e[ue];Ie.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Sg(){const e=Ie.lFrame,t=null===e?null:e.child;return null===t?Ig(e):t}function Ig(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Pg(){const e=Ie.lFrame;return Ie.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Mg=Pg;function xc(){const e=Pg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gn(){return Ie.lFrame.selectedIndex}function Rr(e){Ie.lFrame.selectedIndex=e}function Dt(){const e=Ie.lFrame;return fg(e.tView,e.selectedIndex)}function Ds(){Ie.lFrame.currentNamespace=cg}let xg=!0;function Ya(){return xg}function wr(e){xg=e}function Za(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=c&&(e.destroyHooks??=[]).push(n,c)}}function Qa(e,t,n){Eg(e,t,3,n)}function Ka(e,t,n,i){(3&e[Ne])===n&&Eg(e,t,n,i)}function Ec(e,t){let n=e[Ne];(3&n)===t&&(n&=8191,n+=1,e[Ne]=n)}function Eg(e,t,n,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&e[uo]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[uo]+=65536),(a<o||-1==o)&&(sD(e,n,t,l),e[uo]=(4294901760&e[uo])+l+2),l++}function Og(e,t){Si(4,e,t);const n=Jn(null);try{t.call(e)}finally{Jn(n),Si(5,e,t)}}function sD(e,t,n,i){const r=n[i]<0,o=n[i+1],a=e[r?-n[i]:n[i]];r?e[Ne]>>13<e[uo]>>16&&(3&e[Ne])===t&&(e[Ne]+=8192,Og(a,o)):Og(a,o)}const mo=-1;class Ss{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Ac(e){return e!==mo}function Is(e){return 32767&e}function Ps(e,t){let n=function cD(e){return e>>16}(e),i=t;for(;n>0;)i=i[lo],n--;return i}let Lc=!0;function Xa(e){const t=Lc;return Lc=e,t}const Ag=255,Lg=5;let hD=0;const Pi={};function Ja(e,t){const n=Fg(e,t);if(-1!==n)return n;const i=t[ue];i.firstCreatePass&&(e.injectorIndex=t.length,Fc(i.data,e),Fc(t,null),Fc(i.blueprint,null));const r=el(e,t),o=e.injectorIndex;if(Ac(r)){const s=Is(r),a=Ps(r,t),l=a[ue].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function Fc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fg(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function el(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=jg(r),null===i)return mo;if(n++,r=r[lo],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return mo}function Nc(e,t,n){!function fD(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(fs)&&(i=n[fs]),null==i&&(i=n[fs]=hD++);const r=i&Ag;t.data[e+(r>>Lg)]|=1<<r}(e,t,n)}function Ng(e,t,n){if(n&Ue.Optional||void 0!==e)return e;nc()}function Rg(e,t,n,i){if(n&Ue.Optional&&void 0===i&&(i=null),!(n&(Ue.Self|Ue.Host))){const r=e[gr],o=Dn(void 0);try{return r?r.get(t,i,n&Ue.Optional):Sp(t,i,n&Ue.Optional)}finally{Dn(o)}}return Ng(i,0,n)}function Bg(e,t,n,i=Ue.Default,r){if(null!==e){if(2048&t[Ne]&&!(i&Ue.Self)){const s=function wD(e,t,n,i,r){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Ne]&&!(512&s[Ne]);){const a=zg(o,s,n,i|Ue.Self,Pi);if(a!==Pi)return a;let l=o.parent;if(!l){const u=s[$p];if(u){const c=u.get(n,Pi,i);if(c!==Pi)return c}l=jg(s),s=s[lo]}o=l}return r}(e,t,n,i,Pi);if(s!==Pi)return s}const o=zg(e,t,n,i,Pi);if(o!==Pi)return o}return Rg(t,n,i,r)}function zg(e,t,n,i,r){const o=function gD(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(fs)?e[fs]:void 0;return"number"==typeof t?t>=0?t&Ag:vD:t}(n);if("function"==typeof o){if(!Dg(t,e,i))return i&Ue.Host?Ng(r,0,i):Rg(t,n,i,r);try{let s;if(s=o(i),null!=s||i&Ue.Optional)return s;nc()}finally{Mg()}}else if("number"==typeof o){let s=null,a=Fg(e,t),l=mo,u=i&Ue.Host?t[Lt][sn]:null;for((-1===a||i&Ue.SkipSelf)&&(l=-1===a?el(e,t):t[a+8],l!==mo&&Vg(i,!1)?(s=t[ue],a=Is(l),t=Ps(l,t)):a=-1);-1!==a;){const c=t[ue];if(Hg(o,a,c.data)){const h=pD(a,t,n,s,i,u);if(h!==Pi)return h}l=t[a+8],l!==mo&&Vg(i,t[ue].data[a+8]===u)&&Hg(o,a,t)?(s=c,a=Is(l),t=Ps(l,t)):a=-1}}return r}function pD(e,t,n,i,r,o){const s=t[ue],a=s.data[e+8],c=tl(a,s,n,null==i?Fr(a)&&Lc:i!=s&&0!=(3&a.type),r&Ue.Host&&o===a);return null!==c?Br(t,s,c,a):Pi}function tl(e,t,n,i,r){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,f=r?a+c:e.directiveEnd;for(let d=i?a:a+c;d<f;d++){const p=s[d];if(d<l&&n===p||d>=l&&p.type===n)return d}if(r){const d=s[l];if(d&&fi(d)&&d.type===n)return l}return null}function Br(e,t,n,i){let r=e[n];const o=t.data;if(function aD(e){return e instanceof Ss}(r)){const s=r;s.resolving&&function BC(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new he(-200,`Circular dependency in DI detected for ${e}${n}`)}(function it(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ke(e)}(o[n]));const a=Xa(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Dn(s.injectImpl):null;Dg(e,i,Ue.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function oD(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=ag(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&Dn(u),Xa(a),s.resolving=!1,Mg()}}return r}function Hg(e,t,n){return!!(n[t+(e>>Lg)]&1<<e)}function Vg(e,t){return!(e&Ue.Self||e&Ue.Host&&t)}class mn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Bg(this._tNode,this._lView,t,za(i),n)}}function vD(){return new mn(en(),X())}function jg(e){const t=e[ue],n=t.type;return 2===n?t.declTNode:1===n?e[sn]:null}const yo="__parameters__";function To(e,t,n){return $i(()=>{const i=function zc(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,u,c){const h=l.hasOwnProperty(yo)?l[yo]:Object.defineProperty(l,yo,{value:[]})[yo];for(;h.length<=c;)h.push(null);return(h[c]=h[c]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function Co(e,t){e.forEach(n=>Array.isArray(n)?Co(n,t):t(n))}function Ug(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function nl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function xs(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}const jc=hs(To("Optional"),8),$c=hs(To("SkipSelf"),4);function ll(e){return 128==(128&e.flags)}var Tr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Tr||{});const qD=/^>|^->|<!--|-->|--!>|<!-$/g,YD=/(<|>)/g,ZD="\u200b$1\u200b";const qc=new Map;let QD=0;const Zc="__ngContext__";function an(e,t){In(t)?(e[Zc]=t[ys],function XD(e){qc.set(e[ys],e)}(t)):e[Zc]=t}let Qc;function Kc(e,t){return Qc(e,t)}function As(e){const t=e[Tt];return dn(t)?t[Tt]:t}function hm(e){return dm(e[ms])}function fm(e){return dm(e[hi])}function dm(e){for(;null!==e&&!dn(e);)e=e[hi];return e}function Io(e,t,n,i,r){if(null!=i){let o,s=!1;dn(i)?o=i:In(i)&&(s=!0,i=i[Et]);const a=mt(i);0===e&&null!==n?null==r?vm(t,n,a):zr(t,n,a,r||null,!0):1===e&&null!==n?zr(t,n,a,r||null,!0):2===e?function gl(e,t,n){const i=dl(e,t);i&&function vS(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function TS(e,t,n,i,r){const o=n[Di];o!==mt(n)&&Io(t,e,i,o,r);for(let a=Xt;a<n.length;a++){const l=n[a];Fs(l[ue],l,e,t,i,o)}}(t,e,o,n,r)}}function Xc(e,t){return e.createComment(function im(e){return e.replace(qD,t=>t.replace(YD,ZD))}(t))}function hl(e,t,n){return e.createElement(t,n)}function gm(e,t){const n=e[co],i=n.indexOf(t);pg(t),n.splice(i,1)}function fl(e,t){if(e.length<=Xt)return;const n=Xt+t,i=e[n];if(i){const r=i[vs];null!==r&&r!==e&&gm(r,i),t>0&&(e[n-1][hi]=i[hi]);const o=nl(e,Xt+t);!function uS(e,t){Fs(e,t,t[xe],2,null,null),t[Et]=null,t[sn]=null}(i[ue],i);const s=o[bi];null!==s&&s.detachView(o[ue]),i[Tt]=null,i[hi]=null,i[Ne]&=-129}return i}function Jc(e,t){if(!(256&t[Ne])){const n=t[xe];t[ws]&&Jp(t[ws]),t[Ts]&&Jp(t[Ts]),n.destroyNode&&Fs(e,t,n,3,null,null),function fS(e){let t=e[ms];if(!t)return eh(e[ue],e);for(;t;){let n=null;if(In(t))n=t[ms];else{const i=t[Xt];i&&(n=i)}if(!n){for(;t&&!t[hi]&&t!==e;)In(t)&&eh(t[ue],t),t=t[Tt];null===t&&(t=e),In(t)&&eh(t[ue],t),n=t&&t[hi]}t=n}}(t)}}function eh(e,t){if(!(256&t[Ne])){t[Ne]&=-129,t[Ne]|=256,function mS(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof Ss)){const o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Si(4,a,l);try{l.call(a)}finally{Si(5,a,l)}}else{Si(4,r,o);try{o.call(r)}finally{Si(5,r,o)}}}}}(e,t),function gS(e,t){const n=e.cleanup,i=t[so];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else n[o].call(i[n[o+1]]);null!==i&&(t[so]=null);const r=t[mr];if(null!==r){t[mr]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(e,t),1===t[ue].type&&t[xe].destroy();const n=t[vs];if(null!==n&&dn(t[Tt])){n!==t[Tt]&&gm(n,t);const i=t[bi];null!==i&&i.detachView(e)}!function JD(e){qc.delete(e[ys])}(t)}}function th(e,t,n){return function mm(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[Et];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===ui.None||o===ui.Emulated)return null}return Pn(i,n)}}(e,t.parent,n)}function zr(e,t,n,i,r){e.insertBefore(t,n,i,r)}function vm(e,t,n){e.appendChild(t,n)}function ym(e,t,n,i,r){null!==i?zr(e,t,n,i,r):vm(e,t,n)}function dl(e,t){return e.parentNode(t)}function wm(e,t,n){return _m(e,t,n)}let nh,sh,_m=function Tm(e,t,n){return 40&e.type?Pn(e,n):null};function pl(e,t,n,i){const r=th(e,i,t),o=t[xe],a=wm(i.parent||t[sn],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)ym(o,r,n[l],a,!1);else ym(o,r,n,a,!1);void 0!==nh&&nh(o,i,t,n,r)}function Ls(e,t){if(null!==t){const n=t.type;if(3&n)return Pn(t,e);if(4&n)return ih(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Ls(e,i);{const r=e[t.index];return dn(r)?ih(-1,r):mt(r)}}if(32&n)return Kc(t,e)()||mt(e[t.index]);{const i=bm(e,t);return null!==i?Array.isArray(i)?i[0]:Ls(As(e[Lt]),i):Ls(e,t.next)}}return null}function bm(e,t){return null!==t?e[Lt][sn].projection[t.projection]:null}function ih(e,t){const n=Xt+e+1;if(n<t.length){const i=t[n],r=i[ue].firstChild;if(null!==r)return Ls(i,r)}return t[Di]}function rh(e,t,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===t&&(a&&an(mt(a),i),n.flags|=2),32!=(32&n.flags))if(8&l)rh(e,t,n.child,i,r,o,!1),Io(t,e,r,a,o);else if(32&l){const u=Kc(n,i);let c;for(;c=u();)Io(t,e,r,c,o);Io(t,e,r,a,o)}else 16&l?Sm(e,t,i,n,r,o):Io(t,e,r,a,o);n=s?n.projectionNext:n.next}}function Fs(e,t,n,i,r,o){rh(n,i,e.firstChild,t,r,o,!1)}function Sm(e,t,n,i,r,o){const s=n[Lt],l=s[sn].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Io(t,e,r,l[u],o);else{let u=l;const c=s[Tt];ll(i)&&(u.flags|=128),rh(e,t,u,c,r,o,!0)}}function Im(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Pm(e,t,n){const{mergedAttrs:i,classes:r,styles:o}=n;null!==i&&dc(e,t,i),null!==r&&Im(e,t,r),null!==o&&function CS(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}class Em{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_p})`}}const NS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ko=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ko||{});function fh(e){const t=function Bs(){const e=X();return e&&e[ao].sanitizer}();return t?t.sanitize(ko.URL,e)||"":function Ns(e,t){const n=function OS(e){return e instanceof Em&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${_p})`)}return n===t}(e,"URL")?function _r(e){return e instanceof Em?e.changingThisBreaksApplicationSecurity:e}(e):function lh(e){return(e=String(e)).match(NS)?e:"unsafe:"+e}(ke(e))}class Oe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ut({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wl=new Oe("ENVIRONMENT_INITIALIZER"),zm=new Oe("INJECTOR",-1),Hm=new Oe("INJECTOR_DEF_TYPES");class dh{get(t,n=cs){if(n===cs){const i=new Error(`NullInjectorError: No provider for ${$t(t)}!`);throw i.name="NullInjectorError",i}return n}}function QS(...e){return{\u0275providers:jm(0,e),\u0275fromNgModule:!0}}function jm(e,...t){const n=[],i=new Set;let r;const o=s=>{n.push(s)};return Co(t,s=>{const a=s;Tl(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&$m(r,o),n}function $m(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:r}=e[n];ph(r,o=>{t(o,i)})}}function Tl(e,t,n,i){if(!(e=Pe(e)))return!1;let r=null,o=Na(e);const s=!o&&We(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const l=e.ngModule;if(o=Na(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Tl(u,t,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;i.add(r);try{Co(o.imports,c=>{Tl(c,t,n,i)&&(u||=[],u.push(c))})}finally{}void 0!==u&&$m(u,t)}if(!a){const u=Nr(r)||(()=>new r);t({provide:r,useFactory:u,deps:Ke},r),t({provide:Hm,useValue:r,multi:!0},r),t({provide:wl,useValue:()=>Ge(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const u=e;ph(l,c=>{t(c,u)})}}}return r!==e&&void 0!==e.providers}function ph(e,t){for(let n of e)tc(n)&&(n=n.\u0275providers),Array.isArray(n)?ph(n,t):t(n)}const KS=rt({provide:String,useValue:rt});function gh(e){return null!==e&&"object"==typeof e&&KS in e}function Hr(e){return"function"==typeof e}const mh=new Oe("Set Injector scope."),_l={},JS={};let vh;function Cl(){return void 0===vh&&(vh=new dh),vh}class Ki{}class bl extends Ki{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wh(t,s=>this.processProvider(s)),this.records.set(zm,xo(void 0,this)),r.has("environment")&&this.records.set(Ki,xo(void 0,this));const o=this.records.get(mh);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hm.multi,Ke,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=pr(this),i=Dn(void 0);try{return t()}finally{pr(n),Dn(i)}}get(t,n=cs,i=Ue.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(xp))return t[xp](this);i=za(i);const o=pr(this),s=Dn(void 0);try{if(!(i&Ue.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function o1(e){return"function"==typeof e||"object"==typeof e&&e instanceof Oe}(t)&&Fa(t);l=u&&this.injectableDefInScope(u)?xo(yh(t),_l):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Ue.Self?Cl():this.parent).get(t,n=i&Ue.Optional&&n===cs?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ba]=a[Ba]||[]).unshift($t(t)),o)throw a;return function XC(e,t,n,i){const r=e[Ba];throw t[Pp]&&r.unshift(t[Pp]),e.message=function JC(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=$t(t);if(Array.isArray(t))r=t.map($t).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):$t(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(qC,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Ba]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Dn(s),pr(o)}}resolveInjectorInitializers(){const t=pr(this),n=Dn(void 0);try{const r=this.get(wl.multi,Ke,Ue.Self);for(const o of r)o()}finally{pr(t),Dn(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push($t(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(t){let n=Hr(t=Pe(t))?t:Pe(t&&t.provide);const i=function t1(e){return gh(e)?xo(void 0,e.useValue):xo(function Wm(e,t,n){let i;if(Hr(e)){const r=Pe(e);return Nr(r)||yh(r)}if(gh(e))i=()=>Pe(e.useValue);else if(function Gm(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...cc(e.deps||[]));else if(function Um(e){return!(!e||!e.useExisting)}(e))i=()=>Ge(Pe(e.useExisting));else{const r=Pe(e&&(e.useClass||e.provide));if(!function n1(e){return!!e.deps}(e))return Nr(r)||yh(r);i=()=>new r(...cc(e.deps))}return i}(e),_l)}(t);if(Hr(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=xo(void 0,_l,!0),r.factory=()=>cc(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===_l&&(n.value=JS,n.value=n.factory()),"object"==typeof n.value&&n.value&&function r1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Pe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function yh(e){const t=Fa(e),n=null!==t?t.factory:Nr(e);if(null!==n)return n;if(e instanceof Oe)throw new he(204,!1);if(e instanceof Function)return function e1(e){const t=e.length;if(t>0)throw xs(t,"?"),new he(204,!1);const n=function $C(e){return e&&(e[Ra]||e[bp])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new he(204,!1)}function xo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function wh(e,t){for(const n of e)Array.isArray(n)?wh(n,t):n&&tc(n)?wh(n.\u0275providers,t):t(n)}const Dl=new Oe("AppId",{providedIn:"root",factory:()=>s1}),s1="ng",qm=new Oe("Platform Initializer"),Eo=new Oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ym=new Oe("CSP nonce",{providedIn:"root",factory:()=>function Mo(){if(void 0!==sh)return sh;if(typeof document<"u")return document;throw new he(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zm=(e,t,n)=>null;function Ph(e,t,n=!1){return Zm(e,t,n)}class m1{}class Xm{}class y1{resolveComponentFactory(t){throw function v1(e){const t=Error(`No component factory found for ${$t(e)}.`);return t.ngComponent=e,t}(t)}}let xl=(()=>{class e{static#e=this.NULL=new y1}return e})();function w1(){return Lo(en(),X())}function Lo(e,t){return new Cr(Pn(e,t))}let Cr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=w1}return e})();function T1(e){return e instanceof Cr?e.nativeElement:e}class ev{}let tv=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function _1(){const e=X(),n=Bn(en().index,e);return(In(n)?n:e)[xe]}()}return e})(),C1=(()=>{class e{static#e=this.\u0275prov=ut({token:e,providedIn:"root",factory:()=>null})}return e})();class xh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const b1=new xh("16.2.10"),Eh={};function ov(e,t=null,n=null,i){const r=sv(e,t,n,i);return r.resolveInjectorInitializers(),r}function sv(e,t=null,n=null,i,r=new Set){const o=[n||Ke,QS(e)];return i=i||("object"==typeof e?void 0:$t(e)),new bl(o,t||Cl(),i||null,r)}let Mi=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=cs;static#t=this.NULL=new dh;static create(n,i){if(Array.isArray(n))return ov({name:""},i,n,"");{const r=n.name??"";return ov({name:r},n.parent,n.providers,r)}}static#n=this.\u0275prov=ut({token:e,providedIn:"any",factory:()=>Ge(zm)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function Ah(e){return e.ngOriginalError}class Xi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ah(t);for(;n&&Ah(n);)n=Ah(n);return n||null}}function Fh(e){return t=>{setTimeout(e,void 0,t)}}const vn=class x1 extends Oa{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Fh(o),r&&(r=Fh(r)),s&&(s=Fh(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof _i&&t.add(a),a}};function lv(...e){}class _t{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vn(!1),this.onMicrotaskEmpty=new vn(!1),this.onStable=new vn(!1),this.onError=new vn(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function E1(){const e="function"==typeof pt.requestAnimationFrame;let t=pt[e?"requestAnimationFrame":"setTimeout"],n=pt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function L1(e){const t=()=>{!function A1(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(pt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rh(e),e.isCheckStableRunning=!0,Nh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(function N1(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(r,o,s,a);try{return uv(e),n.invokeTask(r,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),cv(e)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return uv(e),n.invoke(r,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),cv(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Rh(e),Nh(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_t.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(_t.isInAngularZone())throw new he(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,O1,lv,lv);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const O1={};function Nh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function uv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function cv(e){e._nesting--,Nh(e)}class F1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vn,this.onMicrotaskEmpty=new vn,this.onStable=new vn,this.onError=new vn}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const hv=new Oe("",{providedIn:"root",factory:fv});function fv(){const e=gt(_t);let t=!0;return EC(new bn(r=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(t),r.complete()})}),new bn(r=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=e.onUnstable.subscribe(()=>{_t.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Tp()))}let Bh=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ut({token:e,providedIn:"root",factory:()=>new e})}return e})();function Vs(e){for(;e;){e[Ne]|=64;const t=As(e);if(mc(e)&&!t)return e;e=t}return null}const vv=new Oe("",{providedIn:"root",factory:()=>!1});let Ol=null;function _v(e,t){return e[t]??Dv()}function Cv(e,t){const n=Dv();n.producerNode?.length&&(e[t]=Ol,n.lView=e,Ol=bv())}const W1={...qp,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Vs(e.lView)},lView:null};function bv(){return Object.create(W1)}function Dv(){return Ol??=bv(),Ol}const Ae={};function ee(e){Sv(qe(),X(),gn()+e,!1)}function Sv(e,t,n,i){if(!i)if(3==(3&t[Ne])){const o=e.preOrderCheckHooks;null!==o&&Qa(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Ka(t,o,0,n)}Rr(n)}function Le(e,t=Ue.Default){const n=X();return null===n?Ge(e,t):Bg(en(),n,Pe(e),t)}function Al(e,t,n,i,r,o,s,a,l,u,c){const h=t.blueprint.slice();return h[Et]=r,h[Ne]=140|i,(null!==u||e&&2048&e[Ne])&&(h[Ne]|=2048),dg(h),h[Tt]=h[lo]=e,h[At]=n,h[ao]=s||e&&e[ao],h[xe]=a||e&&e[xe],h[gr]=l||e&&e[gr]||null,h[sn]=o,h[ys]=function KD(){return QD++}(),h[Gi]=c,h[$p]=u,h[Lt]=2==t.type?e[Lt]:h,h}function Ro(e,t,n,i,r){let o=e.data[t];if(null===o)o=function zh(e,t,n,i,r){const o=wg(),s=Dc(),l=e.data[t]=function tI(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return po()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,i,r),function Qb(){return Ie.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const s=function bs(){const e=Ie.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ii(o,!0),o}function js(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Iv(e,t,n,i,r){const o=_v(t,ws),s=gn(),a=2&i;try{Rr(-1),a&&t.length>Ve&&Sv(e,t,Ve,!1),Si(a?2:0,r);const u=a?o:null,c=yc(u);try{null!==u&&(u.dirty=!1),n(i,r)}finally{wc(u,c)}}finally{a&&null===t[ws]&&Cv(t,ws),Rr(s),Si(a?3:1,r)}}function Hh(e,t,n){if(gc(t)){const i=Jn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Jn(i)}}}function Vh(e,t,n){yg()&&(function lI(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;Fr(n)&&function gI(e,t,n){const i=Pn(t,e),r=Pv(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Ll(e,Al(e,r,null,s,i,t,null,e[ao].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=a}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Ja(n,t),an(i,t);const s=n.initialInputs;for(let a=r;a<o;a++){const l=e.data[a],u=Br(t,e,a,n);an(u,t),null!==s&&mI(0,a-r,u,l,0,s),fi(l)&&(Bn(n.index,t)[At]=Br(t,e,a,n))}}(e,t,n,Pn(n,t)),64==(64&n.flags)&&Ov(e,t,n))}function jh(e,t,n=Pn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function Pv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=$h(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function $h(e,t,n,i,r,o,s,a,l,u,c){const h=Ve+i,f=h+r,d=function Z1(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Ae);return n}(h,f),p="function"==typeof u?u():u;return d[ue]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let Mv=e=>null;function kv(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];null===i?xv(n,t,r,o):i.hasOwnProperty(r)&&xv(n,t,i[r],o)}return n}function xv(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function Uh(e,t,n,i){if(yg()){const r=null===i?null:{"":-1},o=function cI(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Rp(t,s.selectors,!1))if(i||(i=[]),fi(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Gh(e,t,a.length)}else i.unshift(s),Gh(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Ev(e,t,n,s,r,a),r&&function hI(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const o=n[t[r+1]];if(null==o)throw new he(-301,!1);i.push(t[r],o)}}}(n,i,r)}n.mergedAttrs=ds(n.mergedAttrs,n.attrs)}function Ev(e,t,n,i,r,o){for(let u=0;u<i.length;u++)Nc(Ja(n,t),e,i[u].type);!function dI(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let u=0;u<i.length;u++){const c=i[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=js(e,t,i.length,null);for(let u=0;u<i.length;u++){const c=i[u];n.mergedAttrs=ds(n.mergedAttrs,c.hostAttrs),pI(e,n,t,l,c),fI(l,c,r),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const h=c.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function nI(e,t,n){const r=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<r;c++){const h=o[c],f=n?n.get(h):null,p=f?f.outputs:null;l=kv(h.inputs,c,l,f?f.inputs:null),u=kv(h.outputs,c,u,p);const g=null===l||null===s||Np(t)?null:vI(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,o)}function Ov(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=function Xb(){return Ie.lFrame.currentDirectiveIndex}();try{Rr(o);for(let a=i;a<r;a++){const l=e.data[a],u=t[a];Ic(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&uI(l,u)}}finally{Rr(-1),Ic(s)}}function uI(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function fI(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;fi(t)&&(n[""]=e)}}function pI(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=Nr(r.type)),s=new Ss(o,fi(r),Le);e.blueprint[i]=s,n[i]=s,function sI(e,t,n,i,r){const o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function aI(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,i,o)}}(e,t,i,js(e,n,r.hostVars,Ae),r)}function ki(e,t,n,i,r,o){const s=Pn(e,t);!function Wh(e,t,n,i,r,o,s){if(null==o)e.removeAttribute(t,r,n);else{const a=null==s?ke(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}(t[xe],s,o,e.value,n,i,r)}function mI(e,t,n,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)Av(i,n,s[a++],s[a++],s[a++])}function Av(e,t,n,i,r){const o=Jn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==e.setInput?e.setInput(t,r,n,i):t[i]=r}finally{Jn(o)}}function vI(e,t,n){let i=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Lv(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null,null]}function Fv(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const s=e.data[o];Mc(n[i]),s.contentQueries(2,t[o],o)}}}function Ll(e,t){return e[ms]?e[jp][hi]=t:e[ms]=t,e[jp]=t,t}function qh(e,t,n){Mc(0);const i=Jn(null);try{t(e,n)}finally{Jn(i)}}function Nv(e){return e[so]||(e[so]=[])}function Rv(e){return e.cleanup||(e.cleanup=[])}function zv(e,t){const n=e[gr],i=n?n.get(Xi,null):null;i&&i.handleError(t)}function Yh(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];Av(e.data[s],t[s],i,a,r)}}function er(e,t,n){const i=function qa(e,t){return mt(t[e])}(t,e);!function pm(e,t,n){e.setValue(t,n)}(e[xe],i,n)}function yI(e,t){const n=Bn(t,e),i=n[ue];!function wI(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const r=n[Et];null!==r&&null===n[Gi]&&(n[Gi]=Ph(r,n[gr])),Zh(i,n,n[At])}function Zh(e,t,n){kc(t);try{const i=e.viewQuery;null!==i&&qh(1,i,n);const r=e.template;null!==r&&Iv(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Fv(e,t),e.staticViewQueries&&qh(2,e.viewQuery,n);const o=e.components;null!==o&&function TI(e,t){for(let n=0;n<t.length;n++)yI(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[Ne]&=-5,xc()}}let Hv=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function Mb(e,t,n){const i=Object.create(kb);n&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>Kp(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Xp(i))return;i.hasRun=!0;const s=yc(i);try{i.cleanupFn(),i.cleanupFn=sg,i.fn(r)}finally{wc(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ut({token:e,providedIn:"root",factory:()=>new e})}return e})();function Fl(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Xu(r,a):2==o&&(i=Xu(i,a+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function $s(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];null!==o&&i.push(mt(o)),dn(o)&&Vv(o,i);const s=n.type;if(8&s)$s(e,t,n.child,i);else if(32&s){const a=Kc(n,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=bm(t,n);if(Array.isArray(a))i.push(...a);else{const l=As(t[Lt]);$s(l[ue],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Vv(e,t){for(let n=Xt;n<e.length;n++){const i=e[n],r=i[ue].firstChild;null!==r&&$s(i[ue],i,r,t)}e[Di]!==e[Et]&&t.push(e[Di])}function Nl(e,t,n,i=!0){const r=t[ao],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{jv(e,t,e.template,n)}catch(l){throw i&&zv(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function jv(e,t,n,i){const r=t[Ne];if(256!=(256&r)){t[ao].effectManager?.flush(),kc(t);try{dg(t),function _g(e){return Ie.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Iv(e,t,n,2,i);const s=3==(3&r);if(s){const u=e.preOrderCheckHooks;null!==u&&Qa(t,u,null)}else{const u=e.preOrderHooks;null!==u&&Ka(t,u,0,null),Ec(t,0)}if(function bI(e){for(let t=hm(e);null!==t;t=fm(t)){if(!t[Up])continue;const n=t[co];for(let i=0;i<n.length;i++){zb(n[i])}}}(t),$v(t,2),null!==e.contentQueries&&Fv(e,t),s){const u=e.contentCheckHooks;null!==u&&Qa(t,u)}else{const u=e.contentHooks;null!==u&&Ka(t,u,1),Ec(t,1)}!function Y1(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const i=_v(t,Ts);try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Rr(~o);else{const s=o,a=n[++r],l=n[++r];Kb(a,s),i.dirty=!1;const u=yc(i);try{l(2,t[s])}finally{wc(i,u)}}}}finally{null===t[Ts]&&Cv(t,Ts),Rr(-1)}}(e,t);const a=e.components;null!==a&&Gv(t,a,0);const l=e.viewQuery;if(null!==l&&qh(2,l,i),s){const u=e.viewCheckHooks;null!==u&&Qa(t,u)}else{const u=e.viewHooks;null!==u&&Ka(t,u,2),Ec(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ne]&=-73,pg(t)}finally{xc()}}}function $v(e,t){for(let n=hm(e);null!==n;n=fm(n))for(let i=Xt;i<n.length;i++)Uv(n[i],t)}function DI(e,t,n){Uv(Bn(t,e),n)}function Uv(e,t){if(!function Rb(e){return 128==(128&e[Ne])}(e))return;const n=e[ue],i=e[Ne];if(80&i&&0===t||1024&i||2===t)jv(n,e,n.template,e[At]);else if(e[gs]>0){$v(e,1);const r=n.components;null!==r&&Gv(e,r,1)}}function Gv(e,t,n){for(let i=0;i<t.length;i++)DI(e,t[i],n)}class Us{get rootNodes(){const t=this._lView,n=t[ue];return $s(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(t){this._lView[At]=t}get destroyed(){return 256==(256&this._lView[Ne])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Tt];if(dn(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(fl(t,i),nl(n,i))}this._attachedToViewContainer=!1}Jc(this._lView[ue],this._lView)}onDestroy(t){!function mg(e,t){if(256==(256&e[Ne]))throw new he(911,!1);null===e[mr]&&(e[mr]=[]),e[mr].push(t)}(this._lView,t)}markForCheck(){Vs(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ne]&=-129}reattach(){this._lView[Ne]|=128}detectChanges(){Nl(this._lView[ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hS(e,t){Fs(e,t,t[xe],2,null,null)}(this._lView[ue],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=t}}class SI extends Us{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Nl(t[ue],t,t[At],!1)}checkNoChanges(){}get context(){return null}}class Wv extends xl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=We(t);return new Gs(n,this.ngModule)}}function qv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class PI{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=za(i);const r=this.injector.get(t,Eh,i);return r!==Eh||n===Eh?r:this.parentInjector.get(t,n,i)}}class Gs extends Xm{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=qv(t.inputs);if(null!==n)for(const r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return qv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ub(e){return e.map(lb).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=(r=r||this.ngModule)instanceof Ki?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new PI(t,o):t,a=s.get(ev,null);if(null===a)throw new he(407,!1);const h={rendererFactory:a,sanitizer:s.get(C1,null),effectManager:s.get(Hv,null),afterRenderEventManager:s.get(Bh,null)},f=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",p=i?function Q1(e,t,n,i){const o=i.get(vv,!1)||n===ui.ShadowDom,s=e.selectRootElement(t,o);return function K1(e){Mv(e)}(s),s}(f,i,this.componentDef.encapsulation,s):hl(f,d,function II(e){const t=e.toLowerCase();return"svg"===t?cg:"math"===t?"math":null}(d)),w=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=Ph(p,s,!0));const C=$h(0,null,null,1,0,null,null,null,null,null,null),y=Al(null,C,null,w,null,null,h,f,s,null,v);let T,S;kc(y);try{const _=this.componentDef;let b,I=null;_.findHostDirectiveDefs?(b=[],I=new Map,_.findHostDirectiveDefs(_,b,I),b.push(_)):b=[_];const D=function kI(e,t){const n=e[ue],i=Ve;return e[i]=t,Ro(n,i,2,"#host",null)}(y,p),P=function xI(e,t,n,i,r,o,s){const a=r[ue];!function EI(e,t,n,i){for(const r of e)t.mergedAttrs=ds(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Fl(t,t.mergedAttrs,!0),null!==n&&Pm(i,n,t))}(i,e,t,s);let l=null;null!==t&&(l=Ph(t,r[gr]));const u=o.rendererFactory.createRenderer(t,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const h=Al(r,Pv(n),null,c,r[e.index],e,o,u,null,null,l);return a.firstCreatePass&&Gh(a,e,i.length-1),Ll(r,h),r[e.index]=h}(D,p,_,b,y,h,f);S=fg(C,Ve),p&&function AI(e,t,n,i){if(i)dc(e,n,["ng-version",b1.full]);else{const{attrs:r,classes:o}=function cb(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!ci(r))break;r=o}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&dc(e,n,r),o&&o.length>0&&Im(e,n,o.join(" "))}}(f,_,p,i),void 0!==n&&function LI(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const o=n[r];i.push(null!=o?Array.from(o):null)}}(S,this.ngContentSelectors,n),T=function OI(e,t,n,i,r,o){const s=en(),a=r[ue],l=Pn(s,r);Ev(a,r,s,n,null,i);for(let c=0;c<n.length;c++)an(Br(r,a,s.directiveStart+c,s),r);Ov(a,r,s),l&&an(l,r);const u=Br(r,a,s.directiveStart+s.componentOffset,s);if(e[At]=r[At]=u,null!==o)for(const c of o)c(u,t);return Hh(a,s,e),u}(P,_,b,I,y,[FI]),Zh(C,y,null)}finally{xc()}return new MI(this.componentType,T,Lo(S,y),y,S)}}class MI extends m1{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new SI(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Yh(o[ue],o,r,t,n),this.previousInputValues.set(t,n),Vs(Bn(this._tNode.index,o))}}get injector(){return new mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function FI(){const e=en();Za(X()[ue],e)}function Qh(e){let t=function Yv(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(fi(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new he(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const s=e;s.inputs=Rl(e.inputs),s.inputTransforms=Rl(e.inputTransforms),s.declaredInputs=Rl(e.declaredInputs),s.outputs=Rl(e.outputs);const a=r.hostBindings;a&&zI(e,a);const l=r.viewQuery,u=r.contentQueries;if(l&&RI(e,l),u&&BI(e,u),Aa(e.inputs,r.inputs),Aa(e.declaredInputs,r.declaredInputs),Aa(e.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Aa(s.inputTransforms,r.inputTransforms)),fi(r)&&r.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Qh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function NI(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ds(r.hostAttrs,n=ds(n,r.hostAttrs))}}(i)}function Rl(e){return e===Ci?{}:e===Ke?[]:e}function RI(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function BI(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,o)=>{t(i,r,o),n(i,r,o)}:t}function zI(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}function Bl(e){return!!Kh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Kh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xi(e,t,n){return e[t]=n}function ln(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Vr(e,t,n,i){const r=ln(e,t,n);return ln(e,t+1,i)||r}function Bo(e,t,n,i){const r=X();return ln(r,go(),t)&&(qe(),ki(Dt(),r,e,t,n,i)),Bo}function Ho(e,t,n,i){return ln(e,go(),n)?t+ke(n)+i:Ae}function Hl(e,t,n,i,r,o){const s=X(),a=Ho(s,t,n,i);return a!==Ae&&ki(Dt(),s,e,a,r,o),Hl}function ye(e,t,n,i,r,o,s,a){const l=X(),u=qe(),c=e+Ve,h=u.firstCreatePass?function hP(e,t,n,i,r,o,s,a,l){const u=t.consts,c=Ro(t,e,4,s||null,yr(u,a));Uh(t,n,c,yr(u,l)),Za(t,c);const h=c.tView=$h(2,c,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,i,r,o,s):u.data[c];Ii(h,!1);const f=uy(u,l,h,e);Ya()&&pl(u,l,f,h),an(f,l),Ll(l,l[c]=Lv(f,l,f,h)),Ua(h)&&Vh(u,l,h),null!=s&&jh(l,h,a)}let uy=function cy(e,t,n,i){return wr(!0),t[xe].createComment("")};function Vn(e){return function fo(e,t){return e[t]}(function Zb(){return Ie.lFrame.contextLView}(),Ve+e)}function Q(e,t,n){const i=X();return ln(i,go(),t)&&function Hn(e,t,n,i,r,o,s,a){const l=Pn(t,n);let c,u=t.inputs;!a&&null!=u&&(c=u[i])?(Yh(e,n,c,i,r),Fr(t)&&function rI(e,t){const n=Bn(t,e);16&n[Ne]||(n[Ne]|=64)}(n,t.index)):3&t.type&&(i=function iI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}(qe(),Dt(),i,e,t,i[xe],n,!1),Q}function rf(e,t,n,i,r){const s=r?"class":"style";Yh(e,n,t.inputs[s],s,i)}function Fe(e,t,n,i){const r=X(),o=qe(),s=Ve+e,a=r[xe],l=o.firstCreatePass?function gP(e,t,n,i,r,o){const s=t.consts,l=Ro(t,e,2,i,yr(s,r));return Uh(t,n,l,yr(s,o)),null!==l.attrs&&Fl(l,l.attrs,!1),null!==l.mergedAttrs&&Fl(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,n,i):o.data[s],u=hy(o,r,l,a,t,e);r[s]=u;const c=Ua(l);return Ii(l,!0),Pm(a,u,l),32!=(32&l.flags)&&Ya()&&pl(o,r,u,l),0===function Vb(){return Ie.lFrame.elementDepthCount}()&&an(u,r),function jb(){Ie.lFrame.elementDepthCount++}(),c&&(Vh(o,r,l),Hh(o,l,r)),null!==i&&jh(r,l),Fe}function Ye(){let e=en();Dc()?Sc():(e=e.parent,Ii(e,!1));const t=e;(function Ub(e){return Ie.skipHydrationRootTNode===e})(t)&&function Yb(){Ie.skipHydrationRootTNode=null}(),function $b(){Ie.lFrame.elementDepthCount--}();const n=qe();return n.firstCreatePass&&(Za(n,e),gc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function lD(e){return 0!=(8&e.flags)}(t)&&rf(n,t,X(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function uD(e){return 0!=(16&e.flags)}(t)&&rf(n,t,X(),t.stylesWithoutHost,!1),Ye}function ct(e,t,n,i){return Fe(e,t,n,i),Ye(),ct}let hy=(e,t,n,i,r,o)=>(wr(!0),hl(i,r,function kg(){return Ie.lFrame.currentNamespace}()));function ot(e,t,n){const i=X(),r=qe(),o=e+Ve,s=r.firstCreatePass?function yP(e,t,n,i,r){const o=t.consts,s=yr(o,i),a=Ro(t,e,8,"ng-container",s);return null!==s&&Fl(a,s,!0),Uh(t,n,a,yr(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,n):r.data[o];Ii(s,!0);const a=fy(r,i,s,e);return i[o]=a,Ya()&&pl(r,i,a,s),an(a,i),Ua(s)&&(Vh(r,i,s),Hh(r,s,i)),null!=n&&jh(i,s),ot}function st(){let e=en();const t=qe();return Dc()?Sc():(e=e.parent,Ii(e,!1)),t.firstCreatePass&&(Za(t,e),gc(e)&&t.queries.elementEnd(e)),st}function kn(e,t,n){return ot(e,t,n),st(),kn}let fy=(e,t,n,i)=>(wr(!0),Xc(t[xe],""));function Qs(){return X()}function of(e){return!!e&&"function"==typeof e.then}function dy(e){return!!e&&"function"==typeof e.subscribe}function jn(e,t,n,i){const r=X(),o=qe(),s=en();return function gy(e,t,n,i,r,o,s){const a=Ua(i),u=e.firstCreatePass&&Rv(e),c=t[At],h=Nv(t);let f=!0;if(3&i.type||s){const g=Pn(i,t),m=s?s(g):g,w=h.length,v=s?y=>s(mt(y[i.index])):i.index;let C=null;if(!s&&a&&(C=function _P(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===n&&r[o+1]===i){const a=t[so],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,r,i.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,f=!1;else{o=vy(i,t,c,o,!1);const y=n.listen(m,r,o);h.push(o,y),u&&u.push(r,v,w,w+1)}}else o=vy(i,t,c,o,!1);const d=i.outputs;let p;if(f&&null!==d&&(p=d[r])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const T=t[p[m]][p[m+1]].subscribe(o),S=h.length;h.push(o,T),u&&u.push(r,i.index,S,-(S+1))}}}(o,r,r[xe],s,e,t,i),jn}function my(e,t,n,i){try{return Si(6,t,n),!1!==n(i)}catch(r){return zv(e,r),!1}finally{Si(7,t,n)}}function vy(e,t,n,i,r){return function o(s){if(s===Function)return i;Vs(e.componentOffset>-1?Bn(e.index,t):t);let l=my(t,n,i,s),u=o.__ngNextListenerFn__;for(;u;)l=my(t,n,u,s)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Ee(e=1){return function eD(e){return(Ie.lFrame.contextLView=function tD(e,t){for(;e>0;)t=t[lo],e--;return t}(e,Ie.lFrame.contextLView))[At]}(e)}function CP(e,t){let n=null;const i=function rb(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Rp(e,o,!0):ab(i,o))return r}else n=r}return n}function $n(e,t=""){const n=X(),i=qe(),r=e+Ve,o=i.firstCreatePass?Ro(i,r,1,t,null):i.data[r],s=Uy(i,n,o,t,e);n[r]=s,Ya()&&pl(i,n,s,o),Ii(o,!1)}let Uy=(e,t,n,i,r)=>(wr(!0),function cl(e,t){return e.createText(t)}(t[xe],i));function ni(e){return Xs("",e,""),ni}function Xs(e,t,n){const i=X(),r=Ho(i,e,t,n);return r!==Ae&&er(i,gn(),r),Xs}const Qo="en-US";let fw=Qo;class Ur{}class dk{}class vf extends Ur{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wv(this);const r=function Nn(e,t){const n=e[kp]||null;if(!n&&!0===t)throw new Error(`Type ${$t(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function Ji(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=sv(t,n,[{provide:Ur,useValue:this},{provide:xl,useValue:this.componentFactoryResolver},...i],$t(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class yf extends dk{constructor(t){super(),this.moduleType=t}create(t){return new vf(this.moduleType,t,[])}}function ii(e,t,n,i){return function Ww(e,t,n,i,r,o){const s=t+n;return ln(e,s,r)?xi(e,s+1,o?i.call(o,r):i(r)):ra(e,s+1)}(X(),pn(),e,t,n,i)}function Tf(e,t,n,i,r){return function qw(e,t,n,i,r,o,s){const a=t+n;return Vr(e,a,r,o)?xi(e,a+2,s?i.call(s,r,o):i(r,o)):ra(e,a+2)}(X(),pn(),e,t,n,i,r)}function Gw(e,t,n,i,r,o){return function Yw(e,t,n,i,r,o,s,a){const l=t+n;return function zl(e,t,n,i,r){const o=Vr(e,t,n,i);return ln(e,t+2,r)||o}(e,l,r,o,s)?xi(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):ra(e,l+3)}(X(),pn(),e,t,n,i,r,o)}function ra(e,t){const n=e[t];return n===Ae?void 0:n}function Vk(){return this._results[Symbol.iterator]()}class _f{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new vn)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=_f.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Vk)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=function ei(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function DD(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function $k(e,t,n,i=!0){const r=t[ue];if(function dS(e,t,n,i){const r=Xt+i,o=n.length;i>0&&(n[r-1][hi]=t),i<o-Xt?(t[hi]=n[r],Ug(n,Xt+i,t)):(n.push(t),t[hi]=null),t[Tt]=n;const s=t[vs];null!==s&&n!==s&&function pS(e,t){const n=e[co];t[Lt]!==t[Tt][Tt][Lt]&&(e[Up]=!0),null===n?e[co]=[t]:n.push(t)}(s,t);const a=t[bi];null!==a&&a.insertView(e),t[Ne]|=128}(r,t,e,n),i){const o=ih(n,e),s=t[xe],a=dl(s,e[Di]);null!==a&&function cS(e,t,n,i,r,o){i[Et]=r,i[sn]=t,Fs(e,i,n,1,r,o)}(r,e[sn],s,t,a,o)}}let tr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Wk}return e})();const Uk=tr,Gk=class extends Uk{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){const r=function jk(e,t,n,i){const r=t.tView,a=Al(e,r,n,4096&e[Ne]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[vs]=e[t.index];const u=e[bi];return null!==u&&(a[bi]=u.createEmbeddedView(r)),Zh(r,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:i});return new Us(r)}};function Wk(){return Ql(en(),X())}function Ql(e,t){return 4&e.type?new Gk(t,e,Lo(e,t)):null}let Ai=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Xk}return e})();function Xk(){return r0(en(),X())}const Jk=Ai,t0=class extends Jk{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Lo(this._hostTNode,this._hostLView)}get injector(){return new mn(this._hostTNode,this._hostLView)}get parentInjector(){const t=el(this._hostTNode,this._hostLView);if(Ac(t)){const n=Ps(t,this._hostLView),i=Is(t);return new mn(n[ue].data[i+8],n)}return new mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=n0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(t,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,n,i,r,o){const s=t&&!function ks(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const g=n||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?t:new Gs(We(t)),u=i||this.parentInjector;if(!o&&null==l.ngModule){const m=(s?u:this.parentInjector).get(Ki,null);m&&(o=m)}We(l.componentType??{});const d=l.create(u,r,null,o);return this.insertImpl(d.hostView,a,false),d}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,i){const r=t._lView;if(function Bb(e){return dn(e[Tt])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=r[Tt],c=new t0(u,u[sn],u[Tt]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return $k(a,r,s,!i),t.attachToViewContainerRef(),Ug(Cf(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=n0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=fl(this._lContainer,n);i&&(nl(Cf(this._lContainer),n),Jc(i[ue],i))}detach(t){const n=this._adjustIndex(t,-1),i=fl(this._lContainer,n);return i&&null!=nl(Cf(this._lContainer),n)?new Us(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function n0(e){return e[8]}function Cf(e){return e[8]||(e[8]=[])}function r0(e,t){let n;const i=t[e.index];return dn(i)?n=i:(n=Lv(i,t,null,e),t[e.index]=n,Ll(t,n)),o0(n,t,e,i),new t0(n,e,t)}let o0=function s0(e,t,n,i){if(e[Di])return;let r;r=8&n.type?mt(i):function ex(e,t){const n=e[xe],i=n.createComment(""),r=Pn(t,e);return zr(n,dl(n,r),i,function yS(e,t){return e.nextSibling(t)}(n,r),!1),i}(t,n),e[Di]=r};class bf{constructor(t){this.queryList=t,this.matches=null}clone(){return new bf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Df{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Df(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==h0(t,n).matches&&this.queries[n].setDirty()}}class a0{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class Sf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new Sf(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class If{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new If(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,n,ix(n,o)),this.matchTNodeWithReadOption(t,n,tl(n,t,o,!1,!1))}else i===tr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,tl(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Cr||r===Ai||r===tr&&4&n.type)this.addMatch(n.index,-2);else{const o=tl(n,t,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function ix(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function ox(e,t,n,i){return-1===n?function rx(e,t){return 11&e.type?Lo(e,t):4&e.type?Ql(e,t):null}(t,e):-2===n?function sx(e,t,n){return n===Cr?Lo(t,e):n===tr?Ql(t,e):n===Ai?r0(t,e):void 0}(e,t,i):Br(e,e[ue],n,t)}function l0(e,t,n,i){const r=t[bi].queries[i];if(null===r.matches){const o=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:ox(t,o[u],s[l+1],n.metadata.read))}r.matches=a}return r.matches}function Pf(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const s=l0(e,t,r,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],c=t[-l];for(let h=Xt;h<c.length;h++){const f=c[h];f[vs]===f[Tt]&&Pf(f[ue],f,u,i)}if(null!==c[co]){const h=c[co];for(let f=0;f<h.length;f++){const d=h[f];Pf(d[ue],d,u,i)}}}}}return i}function Li(e){const t=X(),n=qe(),i=bg();Mc(i+1);const r=h0(n,i);if(e.dirty&&function Nb(e){return 4==(4&e[Ne])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?Pf(n,t,i,[]):l0(n,t,r,i);e.reset(o,T1),e.notifyOnChanges()}return!0}return!1}function Fi(e,t,n){const i=qe();i.firstCreatePass&&(function c0(e,t,n){null===e.queries&&(e.queries=new Sf),e.queries.track(new If(t,n))}(i,new a0(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),function u0(e,t,n){const i=new _f(4==(4&n));(function eI(e,t,n,i){const r=Nv(t);r.push(n),e.firstCreatePass&&Rv(e).push(i,r.length-1)})(e,t,i,i.destroy),null===t[bi]&&(t[bi]=new Df),t[bi].queries.push(new bf(i))}(i,X(),t)}function Ni(){return function lx(e,t){return e[bi].queries[t].queryList}(X(),bg())}function h0(e,t){return e.queries.getByIndex(t)}function Ko(e,t){return Ql(e,t)}const xx=new Oe("Application Initializer");let Of=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=gt(xx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const r of this.appInits){const o=r();if(of(o))n.push(o);else if(dy(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const nr=new Oe("LocaleId",{providedIn:"root",factory:()=>gt(nr,Ue.Optional|Ue.SkipSelf)||function Ox(){return typeof $localize<"u"&&$localize.locale||Qo}()});let Fx=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new OC(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const O0=new Oe(""),eu=new Oe("");let Rf,Ff=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rf||(function nE(e){Rf=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(_t),Ge(Nf),Ge(eu))};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac})}return e})(),Nf=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Rf?.findTestabilityInTree(this,n,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Dr=null;const A0=new Oe("AllowMultipleToken"),Bf=new Oe("PlatformDestroyListeners"),L0=new Oe("appBootstrapListener");function R0(e,t,n=[]){const i=`Platform: ${t}`,r=new Oe(i);return(o=[])=>{let s=zf();if(!s||s.injector.get(A0,!1)){const a=[...n,...o,{provide:r,useValue:!0}];e?e(a):function oE(e){if(Dr&&!Dr.get(A0,!1))throw new he(400,!1);(function F0(){!function bb(e){ng=e}(()=>{throw new he(600,!1)})})(),Dr=e;const t=e.get(z0);(function N0(e){e.get(qm,null)?.forEach(n=>n())})(e)}(function B0(e=[],t){return Mi.create({name:t,providers:[{provide:mh,useValue:"platform"},{provide:Bf,useValue:new Set([()=>Dr=null])},...e]})}(a,i))}return function aE(e){const t=zf();if(!t)throw new he(401,!1);return t}()}}function zf(){return Dr?.get(z0)??null}let z0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function lE(e="zone.js",t){return"noop"===e?new F1:"zone.js"===e?new _t(t):e}(i?.ngZone,function H0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function gk(e,t,n){return new vf(e,t,n)}(n.moduleType,this.injector,function G0(e){return[{provide:_t,useFactory:e},{provide:wl,multi:!0,useFactory:()=>{const t=gt(cE,{optional:!0});return()=>t.initialize()}},{provide:U0,useFactory:uE},{provide:hv,useFactory:fv}]}(()=>r)),s=o.injector.get(Xi,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{tu(this._modules,o),a.unsubscribe()})}),function V0(e,t,n){try{const i=n();return of(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(Of);return a.runInitializers(),a.donePromise.then(()=>(function dw(e){Kn(e,"Expected localeId to be defined"),"string"==typeof e&&(fw=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(nr,Qo)||Qo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,i=[]){const r=j0({},i);return function iE(e,t,n){const i=new yf(n);return Promise.resolve(i)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const i=n.injector.get(la);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new he(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(Bf,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Mi))};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function j0(e,t){return Array.isArray(t)?t.reduce(j0,e):{...e,...t}}let la=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=gt(U0),this.zoneIsStable=gt(hv),this.componentTypes=[],this.components=[],this.isStable=gt(Fx).hasPendingTasks.pipe(function LC(e,t){return Er((n,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();n.subscribe(Or(i,l=>{r?.unsubscribe();let u=0;const c=o++;ji(e(l,c)).subscribe(r=Or(i,h=>i.next(t?t(l,h,c,u++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}(n=>n?function AC(...e){return wp(e,gp(e))}(!1):this.zoneIsStable),function FC(e,t=Gu){return e=e??NC,Er((n,i)=>{let r,o=!0;n.subscribe(Or(i,s=>{const a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}(),Tp()),this._injector=gt(Ki)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const r=n instanceof Xm;if(!this._injector.get(Of).done)throw!r&&function ps(e){const t=We(e)||Kt(e)||fn(e);return null!==t&&t.standalone}(n),new he(405,!1);let s;s=r?n:this._injector.get(xl).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function rE(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Ur),u=s.create(Mi.NULL,[],i||s.selector,a),c=u.location.nativeElement,h=u.injector.get(O0,null);return h?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),tu(this.components,u),h?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;tu(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(L0,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>tu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new he(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const U0=new Oe("",{providedIn:"root",factory:()=>gt(Xi).handleError.bind(void 0)});function uE(){const e=gt(_t),t=gt(Xi);return n=>e.runOutsideAngular(()=>t.handleError(n))}let cE=(()=>{class e{constructor(){this.zone=gt(_t),this.applicationRef=gt(la)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Z0{constructor(){}supports(t){return Bl(t)}create(t){return new TE(t)}}const wE=(e,t)=>t;class TE{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wE}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const s=!i||n&&n.currentIndex<K0(i,r,o)?n:i,a=K0(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,c=l-r;if(u!=c){for(let f=0;f<u;f++){const d=f<o.length?o[f]:o[f]=0,p=d+f;c<=p&&p<u&&(o[f]=d+1)}o[s.previousIndex]=c-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Bl(t))throw new he(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),i=!0),n=n._next}else r=0,function qI(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==n&&Object.is(n.trackById,s)?(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new _E(n,i),o,r),t}_verifyReinsertion(t,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Q0),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class _E{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CE{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class Q0{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new CE,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class X0{constructor(){}supports(t){return t instanceof Map||Kh(t)}create(){return new bE}}class bE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Kh(t)))throw new he(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new DE(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class DE{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function J0(){return new ru([new Z0])}let ru=(()=>{class e{static#e=this.\u0275prov=ut({token:e,providedIn:"root",factory:J0});constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||J0()),deps:[[e,new $c,new jc]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new he(901,!1)}}return e})();function eT(){return new ua([new X0])}let ua=(()=>{class e{static#e=this.\u0275prov=ut({token:e,providedIn:"root",factory:eT});constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||eT()),deps:[[e,new $c,new jc]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new he(901,!1)}}return e})();const PE=R0(null,"core",[]);let ME=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(la))};static#t=this.\u0275mod=oo({type:e});static#n=this.\u0275inj=Lr({})}return e})(),Gf=null;function Wf(){return Gf}class VE{}const Wr=new Oe("DocumentToken");class xO{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let id=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new xO(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),wT(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{wT(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(Le(Ai),Le(tr),Le(ru))};static#t=this.\u0275dir=Xn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function wT(e,t){e.context.$implicit=t.item}let mu=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new EO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){TT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){TT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(Le(Ai),Le(tr))};static#t=this.\u0275dir=Xn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class EO{constructor(){this.$implicit=null,this.ngIf=null}}function TT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${$t(t)}'.`)}class rd{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let fa=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const i of this._defaultViews)i.enforceState(n)}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=Xn({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return e})(),od=(()=>{class e{constructor(n,i,r){this.ngSwitch=r,r._addCase(),this._view=new rd(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||e)(Le(Ai),Le(tr),Le(fa,9))};static#t=this.\u0275dir=Xn({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return e})(),sd=(()=>{class e{constructor(n,i,r){r._addDefault(new rd(n,i))}static#e=this.\u0275fac=function(i){return new(i||e)(Le(Ai),Le(tr),Le(fa,9))};static#t=this.\u0275dir=Xn({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return e})(),mi=(()=>{class e{constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[r,o]=n.split("."),s=-1===r.indexOf("-")?void 0:Tr.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||e)(Le(Cr),Le(ua),Le(tv))};static#t=this.\u0275dir=Xn({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),vu=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||e)(Le(Ai))};static#t=this.\u0275dir=Xn({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Rn]})}return e})(),bT=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=oo({type:e});static#n=this.\u0275inj=Lr({})}return e})();function ST(e){return"server"===e}class MA extends VE{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hd extends MA{static makeCurrent(){!function HE(e){Gf||(Gf=e)}(new hd)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function kA(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}();return null==n?null:function xA(e){Tu=Tu||document.createElement("a"),Tu.setAttribute("href",e);const t=Tu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function PO(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Tu,pa=null,OA=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac})}return e})();const fd=new Oe("EventManagerPlugins");let xT=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new he(5101,!1);return this._eventNameToPlugin.set(n,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(fd),Ge(_t))};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac})}return e})();class ET{constructor(t){this._doc=t}}const dd="ng-app-id";let OT=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ST(o),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${dd}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){const r=this.styleRef;if(r.has(n)){const o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(dd),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(dd,this.appId),s}}addStyleToHost(n,i){const r=this.getStyleElement(n,i);n.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Wr),Ge(Dl),Ge(Ym,8),Ge(Eo))};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac})}return e})();const pd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gd=/%COMP%/g,NA=new Oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function LT(e,t){return t.map(n=>n.replace(gd,e))}let FT=(()=>{class e{constructor(n,i,r,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ST(a),this.defaultRenderer=new md(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ui.ShadowDom&&(i={...i,encapsulation:ui.Emulated});const r=this.getOrCreateRenderer(n,i);return r instanceof RT?r.applyToHost(n):r instanceof vd&&r.applyStyles(),r}getOrCreateRenderer(n,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case ui.Emulated:o=new RT(l,u,i,this.appId,c,s,a,h);break;case ui.ShadowDom:return new HA(l,u,n,i,s,a,this.nonce,h);default:o=new vd(l,u,i,c,s,a,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(xT),Ge(OT),Ge(Dl),Ge(NA),Ge(Wr),Ge(Eo),Ge(_t),Ge(Ym))};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac})}return e})();class md{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(pd[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(NT(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(NT(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new he(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const o=pd[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=pd[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Tr.DashCase|Tr.Important)?t.style.setProperty(n,i,r&Tr.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Tr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){if("string"==typeof t&&!(t=Wf().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function NT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class HA extends md{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=LT(r.id,r.styles);for(const c of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=c,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vd extends md{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?LT(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class RT extends vd{constructor(t,n,i,r,o,s,a,l){const u=r+"-"+i.id;super(t,n,i,o,s,a,l,u),this.contentAttr=function RA(e){return"_ngcontent-%COMP%".replace(gd,e)}(u),this.hostAttr=function BA(e){return"_nghost-%COMP%".replace(gd,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let VA=(()=>{class e extends ET{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Wr))};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac})}return e})();const BT=["alt","control","meta","shift"],jA={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$A={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let UA=(()=>{class e extends ET{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wf().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),BT.forEach(u=>{const c=i.indexOf(u);c>-1&&(i.splice(c,1),s+=u+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=jA[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),BT.forEach(s=>{s!==r&&(0,$A[s])(n)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(Wr))};static#t=this.\u0275prov=ut({token:e,factory:e.\u0275fac})}return e})();const YA=R0(PE,"browser",[{provide:Eo,useValue:"browser"},{provide:qm,useValue:function GA(){hd.makeCurrent()},multi:!0},{provide:Wr,useFactory:function qA(){return function IS(e){sh=e}(document),document},deps:[]}]),ZA=new Oe(""),VT=[{provide:eu,useClass:class EA{addToWindow(t){pt.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new he(5103,!1);return o},pt.getAllAngularTestabilities=()=>t.getAllTestabilities(),pt.getAllAngularRootElements=()=>t.getAllRootElements(),pt.frameworkStabilizers||(pt.frameworkStabilizers=[]),pt.frameworkStabilizers.push(i=>{const r=pt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?Wf().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:O0,useClass:Ff,deps:[_t,Nf,eu]},{provide:Ff,useClass:Ff,deps:[_t,Nf,eu]}],jT=[{provide:mh,useValue:"root"},{provide:Xi,useFactory:function WA(){return new Xi},deps:[]},{provide:fd,useClass:VA,multi:!0,deps:[Wr,_t,Eo]},{provide:fd,useClass:UA,multi:!0,deps:[Wr]},FT,OT,xT,{provide:ev,useExisting:FT},{provide:class oA{},useClass:OA,deps:[]},[]];let QA=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Dl,useValue:n.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(Ge(ZA,12))};static#t=this.\u0275mod=oo({type:e});static#n=this.\u0275inj=Lr({providers:[...jT,...VT],imports:[bT,ME]})}return e})();typeof window<"u"&&window;var qr=function(e){return e[e.Auto=0]="Auto",e[e.Left=2]="Left",e[e.Right=3]="Right",e}(qr||{}),WT=function(e){return e[e.Connector=0]="Connector",e[e.Shape=1]="Shape",e[e.HighlightPath=2]="HighlightPath",e[e.Label=3]="Label",e[e.Background=4]="Background",e[e.Level=5]="Level",e}(WT||{}),qT=function(e){return e[e.Auto=0]="Auto",e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal",e[e.Matrix=3]="Matrix",e}(qT||{}),wd=function(e){return e[e.None=0]="None",e[e.Dot=1]="Dot",e[e.Bevel=2]="Bevel",e[e.Round=3]="Round",e}(wd||{}),qt=function(e){return e[e.Auto=0]="Auto",e[e.True=1]="True",e[e.False=2]="False",e}(qt||{}),ts=function(e){return e[e.None=0]="None",e[e.Parents=1]="Parents",e[e.Children=2]="Children",e}(ts||{}),yi=function(e){return e[e.Center=0]="Center",e[e.Left=1]="Left",e[e.Right=2]="Right",e}(yi||{}),YT=function(e){return e[e.Regular=0]="Regular",e[e.Assistant=1]="Assistant",e[e.SubAssistant=4]="SubAssistant",e[e.Adviser=2]="Adviser",e[e.SubAdviser=5]="SubAdviser",e[e.GeneralPartner=6]="GeneralPartner",e[e.LimitedPartner=7]="LimitedPartner",e[e.AdviserPartner=8]="AdviserPartner",e}(YT||{}),Td=function(e){return e[e.LevelAnnotation=1]="LevelAnnotation",e[e.BackgroundAnnotation=2]="BackgroundAnnotation",e[e.BackgroundAnnotations=3]="BackgroundAnnotations",e[e.BackgroundConnectorAnnotation=4]="BackgroundConnectorAnnotation",e[e.BackgroundHighlightPathAnnotations=5]="BackgroundHighlightPathAnnotations",e[e.Connector=6]="Connector",e[e.ForegroundHighlightPathAnnotations=7]="ForegroundHighlightPathAnnotations",e[e.Highlight=8]="Highlight",e[e.Marker=9]="Marker",e[e.Label=10]="Label",e[e.Cursor=11]="Cursor",e[e.Item=12]="Item",e[e.ForegroundAnnotations=13]="ForegroundAnnotations",e[e.ForegroundConnectorAnnotation=14]="ForegroundConnectorAnnotation",e[e.Annotation=15]="Annotation",e[e.Controls=16]="Controls",e}(Td||{}),si=function(e){return e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e}(si||{}),_d=function(e){return e[e.Default=0]="Default",e[e.CursorOnly=1]="CursorOnly",e[e.HighlightOnly=3]="HighlightOnly",e[e.Inactive=2]="Inactive",e}(_d||{}),Cd=function(e){return e[e.ParentsAndChildren=0]="ParentsAndChildren",e[e.ParentsChildrenSiblingsAndSpouses=1]="ParentsChildrenSiblingsAndSpouses",e}(Cd||{}),or=function(e){return e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.None=4]="None",e}(or||{}),_u=function(e){return e[e.None=0]="None",e[e.PageWidth=1]="PageWidth",e[e.PageHeight=2]="PageHeight",e[e.FitToPage=3]="FitToPage",e[e.AutoSize=5]="AutoSize",e[e.SelectionOnly=6]="SelectionOnly",e}(_u||{}),Cu=function(e){return e[e.Auto=0]="Auto",e[e.TopLeft=8]="TopLeft",e[e.Top=1]="Top",e[e.TopRight=2]="TopRight",e[e.RightTop=11]="RightTop",e[e.Right=3]="Right",e[e.RightBottom=12]="RightBottom",e[e.BottomRight=4]="BottomRight",e[e.Bottom=5]="Bottom",e[e.BottomLeft=6]="BottomLeft",e[e.LeftBottom=10]="LeftBottom",e[e.Left=7]="Left",e[e.LeftTop=9]="LeftTop",e}(Cu||{}),ns=function(e){return e[e.Line=0]="Line",e[e.Move=1]="Move",e[e.QuadraticArc=2]="QuadraticArc",e[e.CubicArc=3]="CubicArc",e[e.Dot=4]="Dot",e}(ns||{}),bd=function(e){return e[e.None=0]="None",e[e.FullStack=1]="FullStack",e}(bd||{}),Dd=function(e){return e[e.Rectangle=0]="Rectangle",e[e.Oval=1]="Oval",e[e.Triangle=2]="Triangle",e[e.CrossOut=3]="CrossOut",e[e.Circle=4]="Circle",e[e.Rhombus=5]="Rhombus",e[e.Wedge=7]="Wedge",e[e.FramedOval=8]="FramedOval",e[e.FramedTriangle=9]="FramedTriangle",e[e.FramedWedge=10]="FramedWedge",e[e.FramedRhombus=11]="FramedRhombus",e[e.None=6]="None",e}(Dd||{}),Yt=function(e){return e[e.Horizontal=0]="Horizontal",e[e.RotateLeft=1]="RotateLeft",e[e.RotateRight=2]="RotateRight",e[e.Auto=3]="Auto",e}(Yt||{}),On=function(e){return e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom",e}(On||{}),ga=function(e){return e[e.Auto=0]="Auto",e[e.Normal=1]="Normal",e[e.Dot=2]="Dot",e[e.Line=3]="Line",e[e.Invisible=4]="Invisible",e}(ga||{});class Ct{constructor(t=0,n=0){this.width=0,this.height=0,this.width=t,this.height=n}getCSS(t="px"){return{width:this.width+t,height:this.height+t}}space(){return this.width*this.height}}class Ri{constructor(t=0,n=0,i=0,r=0,o=null){this.x=t,this.y=n,this.width=i,this.height=r}translate(t,n){return this.x=this.x+t,this.y=this.y+n,this}getCSS(t="px"){return{left:this.x+t,top:this.y+t,width:this.width+t,height:this.height+t}}}class gL{constructor(t,n){this.data=t,this.style=n}}class mL{constructor(t,n,i,r,o,s,a){this.label=t,this.width=n,this.height=i,this.orientation=r,this.horizontalAlignment=o,this.verticalAlignment=s,this.style=a}}class vL{constructor(t,n,i,r,o){this.templateType=t,this.name=n,this.templateRef=i,this.context=r,this.style=o}}class yL{constructor(t){this.layers=[],this.activeLayer=null,this.size=new Ct,this.rect=new Ri,this.hasGraphics=!0,this.isVisible=!0,this.name=t,this.layers=[],this.activeLayer=null}}class wL{constructor(t){this.items=[],this.polylines=[],this.labels=[],this.name=t}reset(){this.items=[],this.polylines=[],this.labels=[]}}class TL{constructor(t){for(var n in this.placeholders={},this.activePlaceholder=null,this.hasGraphics=!0,this.names=[],this.size=t,this.names=[],Td){let i=parseInt(Td[n]);this.names[i]=n}}clean(){this.placeholders={},this.activePlaceholder=null}resize(t,n,i){this.activatePlaceholder(t),this.resizePlaceholder(this.activePlaceholder,0,0,n,i)}position(t,n,i,r,o){this.activatePlaceholder(t),this.resizePlaceholder(this.activePlaceholder,n,i,r,o)}show(t){var n=this.placeholders[t];null!=n&&(n.isVisible=!0)}hide(t){var n=this.placeholders[t];null!=n&&(n.isVisible=!1)}resizePlaceholder(t,n,i,r,o){t.size=new Ct(r,o),t.rect=new Ri(n,i,r,o)}reset(t,n){const i=this.placeholders[t];if(null!=i){const r=i.layers[n];r?.reset()}}activate(t,n){return this.activatePlaceholder(t),this.activateLayer(n),this.activePlaceholder}activatePlaceholder(t){let n=this.placeholders[t];void 0===n&&(n=new yL(t),n.size=this.size,n.rect=new Ri(0,0,n.size.width,n.size.height),this.placeholders[t]=n),this.activePlaceholder=n}activateLayer(t){if(!this.activePlaceholder)throw"No active placeholder";let i=this.activePlaceholder.layers[t];void 0===i&&(i=new wL(this.names[t]),this.activePlaceholder.layers[t]=i),this.activePlaceholder.activeLayer=i}getPlaceholders(){return this.placeholders}text(t,n,i,r,o,s,a,l,u){if(!this.activePlaceholder||!this.activePlaceholder.activeLayer)throw"No active placeholder or layer";this.activePlaceholder.activeLayer.labels.push(new mL(o,i,r,s,a,l,{...u,top:n+"px",left:t+"px"}))}polyline(t){if(!this.activePlaceholder||!this.activePlaceholder.activeLayer)throw"No active placeholder or layer";var i,r,o,n=t.paletteItem.toAttr(),s={};if(void 0!==n.fillColor?(s.fill=n.fillColor,s.fillOpacity=n.opacity):s.fillOpacity=0,void 0!==n.lineWidth&&void 0!==n.borderColor?(s.stroke=n.borderColor,s.strokeWidth=n.lineWidth,s.strokeOpacity=void 0!==n.opacity?n.opacity:1):(s.stroke="transparent",s.strokeWidth=0),null!=n.lineType)switch(i=Math.round(n.lineWidth)||1,n.lineType){case si.Dotted:s.strokeDasharray=i+","+i;break;case si.Dashed:s.strokeDasharray=5*i+","+3*i;break;default:s.strokeDasharray=""}let a="";t.loop(this,function(l){switch(l.segmentType){case ns.Move:a+="M"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5);break;case ns.Line:a+="L"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5);break;case ns.QuadraticArc:a+="Q"+(Math.round(l.cpX)+.5)+" "+(Math.round(l.cpY)+.5)+" "+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5);break;case ns.Dot:l.width===l.height&&l.width/2<=l.cornerRadius?(r=l.width/2,a+="M"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+l.height/2+.5),a+="A"+r+" "+r+" 0 0 0 "+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y)+l.height/2+.5),a+="A"+r+" "+r+" 0 0 0 "+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+l.height/2+.5)):0===l.cornerRadius?(a+="M"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5),a+="L"+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y)+.5),a+="L"+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y+l.height)+.5),a+="L"+(Math.round(l.x)+.5)+" "+(Math.round(l.y+l.height)+.5),a+="L"+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5)):(o=Math.min(l.cornerRadius,Math.min(l.width/2,l.height/2)),a+="M"+(Math.round(l.x)+.5)+" "+(Math.round(l.y+o)+.5),a+="A"+Math.round(o)+" "+Math.round(o)+" 0 0 1 "+(Math.round(l.x+o)+.5)+" "+(Math.round(l.y)+.5),a+="L"+(Math.round(l.x+l.width-o)+.5)+" "+(Math.round(l.y)+.5),a+="A"+Math.round(o)+" "+Math.round(o)+" 0 0 1 "+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y+o)+.5),a+="L"+(Math.round(l.x+l.width)+.5)+" "+(Math.round(l.y+l.height-o)+.5),a+="A"+Math.round(o)+" "+Math.round(o)+" 0 0 1 "+(Math.round(l.x+l.width-o)+.5)+" "+(Math.round(l.y+l.height)+.5),a+="L"+(Math.round(l.x+o)+.5)+" "+(Math.round(l.y+l.height)+.5),a+="A"+Math.round(o)+" "+Math.round(o)+" 0 0 1 "+(Math.round(l.x)+.5)+" "+(Math.round(l.y+l.height-o)+.5),a+="L"+(Math.round(l.x)+.5)+" "+(Math.round(l.y+o)+.5));break;case ns.CubicArc:a+="C"+(Math.round(l.cpX1)+.5)+" "+(Math.round(l.cpY1)+.5)+" "+(Math.round(l.cpX2)+.5)+" "+(Math.round(l.cpY2)+.5)+" "+(Math.round(l.x)+.5)+" "+(Math.round(l.y)+.5)}}),this.activePlaceholder.activeLayer.polylines.push(new gL(a,s))}polylinesBuffer(t){var n=this;t.loop(this,function(i){i.length()>0&&n.polyline(i)})}template(t,n,i,r,o,s,a,l,u,c,h,f,d){if(!this.activePlaceholder||!this.activePlaceholder.activeLayer)throw"No active placeholder or layer";const p=t+o,g=n+s,m=a,w=l;let v={width:m+"px",height:w+"px",top:g+"px",left:p+"px",...d};var C={...f,...u,x:p,y:g,width:m,height:w},y=null;null!==h&&(y=h(C)),this.activePlaceholder.activeLayer.items.push(new vL(u.templateType,u.templateName,y,C,v))}getPxSize(t,n){var i=t;return"string"==typeof t&&(i=t.indexOf("pt")>0?96*parseInt(t,10)/72:t.indexOf("%")>0?parseFloat(t)/100*n:parseInt(t,10)),i}}class Sd{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}getCSS(t="px"){return{left:this.x+t,top:this.y+t}}}function Te(e,t){switch(this.width=0,this.height=0,arguments.length){case 1:this.width=e.width,this.height=e.height;break;case 2:this.width=e,this.height=t}}function is(e){var t=e.getBoundingClientRect(),i=e.ownerDocument.documentElement;return{top:t.top+window.pageYOffset-i.clientTop,left:t.left+window.pageXOffset-i.clientLeft}}Te.prototype.isEmpty=function(){return null===this.width||null===this.height||this.width<0||this.height<0},Te.prototype.invert=function(){var e=this.width;return this.width=this.height,this.height=e,this},Te.prototype.scale=function(e){return this.width=this.width*e,this.height=this.height*e,this},Te.prototype.space=function(){return this.width*this.height},Te.prototype.getCSS=function(e){return{width:this.width+(e=void 0!==e?e:"px"),height:this.height+e}},Te.prototype.cropBySize=function(e){return this.width=Math.min(this.width,e.width),this.height=Math.min(this.height,e.height),this},Te.prototype.maxSize=function(e){return this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height),this},Te.prototype.addThickness=function(e){return this.width=Math.max(0,this.width+e.left+e.right),this.height=Math.max(0,this.height+e.top+e.bottom),this},Te.prototype.removeThickness=function(e){return this.width=Math.max(0,this.width-e.left-e.right),this.height=Math.max(0,this.height-e.top-e.bottom),this},Te.prototype.validate=function(){if(isNaN(this.width)||isNaN(this.height))throw"Invalid size."};class Gn{template(){return this.options}getHashCode(){return""}render(t){return null}constructor(t,n){this.options={...n,templateType:t}}}class bL extends Gn{constructor(){super("annotationLabelTemplate",{})}}class DL extends Gn{constructor(){super("dummyTemplate",{})}render(t){const{onButtonsRender:n}=t;return n()}}class SL extends Gn{constructor(t){super("checkboxTemplate",{selectCheckBoxLabel:t})}}class IL extends Gn{constructor(t,n){super("cursorTemplate",{...t,templateConfig:n})}}class PL extends Gn{constructor(t,n){super("dummyTemplate",t),this.render=n}}class ML extends Gn{constructor(t,n){super("dotHighlightTemplate",{...t,templateConfig:n})}}class kL extends Gn{constructor(t){super("groupTitleTemplate",t)}}class xL extends Gn{constructor(t,n){super("highlightTemplate",{...t,templateConfig:n})}}class EL extends Gn{constructor(t,n){super("itemTemplate",{...t,templateConfig:n})}}class OL extends Gn{constructor(){super("labelAnnotationTemplate",{})}}class AL extends Gn{constructor(t){super("levelBackgroundTemplate",t)}}class LL extends Gn{constructor(t,n){var i=t.levelTitleOrientation;if(t.levelTitleOrientation==Yt.Auto)switch(n){case or.Top:case or.Bottom:i=Yt.RotateRight}super("levelTitleTemplate",{...t,orientation:n,levelTitleOrientation:i})}}class FL extends Gn{constructor(t,n,i){super("dummyTemplate",{...t,itemTemplate:n}),this.render=i}}class ZT{constructor(t){this.factory=t}}function NL(e,t){1&e&&ct(0,"div")}function RL(e,t){1&e&&kn(0)}function BL(e,t){if(1&e&&(Fe(0,"table",4)(1,"tbody")(2,"tr")(3,"td",4),ye(4,RL,1,0,"ng-container",5),Ye()()()()),2&e){const n=Ee(),i=Vn(6);Q("ngStyle",n.tableStyle),ee(3),Q("ngStyle",n.tdStyle),ee(1),Q("ngTemplateOutlet",i)}}function zL(e,t){1&e&&kn(0)}function HL(e,t){if(1&e&&(Fe(0,"div",4),ye(1,zL,1,0,"ng-container",5),Ye()),2&e){const n=Ee(),i=Vn(6);Q("ngStyle",n.divStyle),ee(1),Q("ngTemplateOutlet",i)}}function VL(e,t){1&e&&function wy(e,t=0,n){const i=X(),r=qe(),o=Ro(r,Ve+e,16,null,n||null);null===o.projection&&(o.projection=t),Sc(),(!i[Gi]||po())&&32!=(32&o.flags)&&function wS(e,t,n){Sm(t[xe],0,t,n,th(e,n,t),wm(n.parent||t[sn],n,t))}(r,i,o)}(0)}const jL=["*"];let bu=(()=>{class e{constructor(){this.width=0,this.height=0,this.orientation=Yt.RotateRight,this.horizontalAlignment=yi.Center,this.verticalAlignment=On.Middle,this.hasVerticalAlignment=!1,this.tableStyle={},this.tdStyle={},this.divStyle={}}ngOnChanges(){const n=this.getTransform(this.orientation);let i={};i=this.orientation===Yt.Horizontal?{width:this.width+"px",height:this.height+"px",maxWidth:this.width+"px",maxHeight:this.height+"px"}:{width:this.height+"px",height:this.width+"px",maxWidth:this.height+"px",maxHeight:this.width+"px",left:Math.round(this.width/2-this.height/2)+"px",top:Math.round(this.height/2-this.width/2)+"px"};var r={position:"absolute",padding:0,margin:0,lineHeight:1,textAlign:this.getHorizontalAlignment(this.horizontalAlignment),WebkitTransformOrigin:"center center",MozTransformOrigin:"center center",OTransformOrigin:"center center",msTransformOrigin:"center center",WebkitTransform:n,MozTransform:n,OTransform:n,msTransform:n,transform:n,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",tableLayout:"fixed",...i};this.hasVerticalAlignment=this.verticalAlignment!==On.Top,this.tdStyle={verticalAlign:this.getVerticalAlignment(this.verticalAlignment),padding:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},this.tableStyle={...r,borderCollapse:"collapse"},this.divStyle=r}getTransform(n){let i="";switch(n){case Yt.RotateLeft:i="rotate(-90deg)";break;case Yt.RotateRight:i="rotate(90deg)"}return i}getHorizontalAlignment(n){let i="";switch(n){case yi.Center:i="center";break;case yi.Left:i="left";break;case yi.Right:i="right"}return i}getVerticalAlignment(n){let i="";switch(n){case On.Bottom:i="bottom";break;case On.Middle:i="middle";break;case On.Top:i="top"}return i}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["rotated-text",5,"a"]],inputs:{width:"width",height:"height",orientation:"orientation",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment"},features:[Rn],ngContentSelectors:jL,decls:7,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["tableTemplate",""],["divTemplate",""],["content",""],[3,"ngStyle"],[4,"ngTemplateOutlet"]],template:function(i,r){if(1&i&&(function yy(e){const t=X()[Lt][sn];if(!t.projection){const i=t.projection=xs(e?e.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=e?CP(o,e):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),ye(0,NL,1,0,"div",0),ye(1,BL,5,3,"ng-template",null,1,Ko),ye(3,HL,2,2,"ng-template",null,2,Ko),ye(5,VL,1,0,"ng-template",null,3,Ko)),2&i){const o=Vn(2),s=Vn(4);Q("ngIf",r.hasVerticalAlignment)("ngIfThen",o)("ngIfElse",s)}},dependencies:[mu,vu,mi]})}return e})();class QT{constructor(t={}){this.id=null,this.parent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor="#4169e1",this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor="#4169e1",this.isVisible=!0,this.isActive=!0,this.hasSelectorCheckbox=qt.Auto,this.hasButtons=qt.Auto,this.itemType=YT.Regular,this.adviserPlacementType=qr.Auto,this.childrenPlacementType=qT.Auto,this.levelOffset=null,this.placeAssistantsAboveChildren=qt.Auto,this.placeAdvisersAboveChildren=qt.Auto,this.templateName=null,this.showCallout=qt.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=qt.Auto,this.labelSize=null,this.labelOrientation=Yt.Auto,Object.assign(this,t)}}const St={Auto:0,Left:2,Right:3},tn={Connector:0,Shape:1,HighlightPath:2,Label:3,Background:4,Level:5},KT={Auto:0,Vertical:1,Horizontal:2,Matrix:3},$={AliceBlue:"#f0f8ff",AntiqueWhite:"#faebd7",Aqua:"#00ffff",Aquamarine:"#7fffd4",Azure:"#f0ffff",Beige:"#f5f5dc",Bisque:"#ffe4c4",Black:"#000000",BlanchedAlmond:"#ffebcd",Blue:"#0000ff",BlueViolet:"#8a2be2",Brown:"#a52a2a",BurlyWood:"#deb887",Bronze:"#cd7f32",CadetBlue:"#5f9ea0",ChartReuse:"#7fff00",Chocolate:"#d2691e",Coral:"#ff7f50",CornflowerBlue:"#6495ed",Cornsilk:"#fff8dc",Crimson:"#dc143c",Cyan:"#00ffff",DarkBlue:"#00008b",DarkCyan:"#008b8b",DarkGoldenrod:"#b8860b",DarkGray:"#a9a9a9",DarkGreen:"#006400",DarkKhaki:"#bdb76b",DarkMagenta:"#8b008b",DarkOliveGreen:"#556b2f",Darkorange:"#ff8c00",DarkOrchid:"#9932cc",DarkRed:"#8b0000",DarkSalmon:"#e9967a",DarkSeaGreen:"#8fbc8f",DarkSlateBlue:"#483d8b",DarkSlateGray:"#2f4f4f",DarkTurquoise:"#00ced1",DarkViolet:"#9400d3",DeepPink:"#ff1493",DeepSkyBlue:"#00bfff",DimGray:"#696969",DodgerBlue:"#1e90ff",FireBrick:"#b22222",FloralWhite:"#fffaf0",ForestGreen:"#228b22",Fuchsia:"#ff00ff",Gainsboro:"#dcdcdc",GhostWhite:"#f8f8ff",Gold:"#ffd700",Goldenrod:"#daa520",Gray:"#808080",Green:"#008000",GreenYellow:"#adff2f",Honeydew:"#f0fff0",Hotpink:"#ff69b4",IndianRed:"#cd5c5c",Indigo:"#4b0082",Ivory:"#fffff0",Khaki:"#f0e68c",Lavender:"#e6e6fa",LavenderBlush:"#fff0f5",Lawngreen:"#7cfc00",Lemonchiffon:"#fffacd",LightBlue:"#add8e6",LightCoral:"#f08080",LightCyan:"#e0ffff",LightGoldenrodYellow:"#fafad2",LightGray:"#d3d3d3",LightGreen:"#90ee90",LightPink:"#ffb6c1",LightSalmon:"#ffa07a",LightSeaGreen:"#20b2aa",LightSkyBlue:"#87cefa",LightSlateGray:"#778899",LightSteelBlue:"#b0c4de",LightYellow:"#ffffe0",Lime:"#00ff00",Limegreen:"#32cd32",Linen:"#faf0e6",Magenta:"#ff00ff",Maroon:"#800000",MediumAquamarine:"#66cdaa",MediumBlue:"#0000cd",MediumOrchid:"#ba55d3",MediumPurple:"#9370d8",MediumSeaGreen:"#3cb371",MediumSlateBlue:"#7b68ee",MediumSpringGreen:"#00fa9a",MediumTurquoise:"#48d1cc",MediumVioletRed:"#c71585",MidnightBlue:"#191970",MintCream:"#f5fffa",MistyRose:"#ffe4e1",Moccasin:"#ffe4b5",NavajoWhite:"#ffdead",Navy:"#000080",Oldlace:"#fdf5e6",Olive:"#808000",Olivedrab:"#6b8e23",Orange:"#ffa500",OrangeRed:"#ff4500",Orchid:"#da70d6",PaleGoldenRod:"#eee8aa",PaleGreen:"#98fb98",PaleTurquoise:"#afeeee",PaleVioletRed:"#d87093",Papayawhip:"#ffefd5",Peachpuff:"#ffdab9",Peru:"#cd853f",Pink:"#ffc0cb",Plum:"#dda0dd",PowderBlue:"#b0e0e6",Purple:"#800080",Red:"#ff0000",RosyBrown:"#bc8f8f",RoyalBlue:"#4169e1",SaddleBrown:"#8b4513",Salmon:"#fa8072",SandyBrown:"#f4a460",SeaGreen:"#2e8b57",Seashell:"#fff5ee",Sienna:"#a0522d",Silver:"#c0c0c0",SkyBlue:"#87ceeb",SlateBlue:"#6a5acd",SlateGray:"#708090",Snow:"#fffafa",SpringGreen:"#00ff7f",SteelBlue:"#4682b4",Tan:"#d2b48c",Teal:"#008080",Thistle:"#d8bfd8",Tomato:"#ff6347",Turquoise:"#40e0d0",Violet:"#ee82ee",Wheat:"#f5deb3",White:"#ffffff",WhiteSmoke:"#f5f5f5",Yellow:"#ffff00",YellowGreen:"#9acd32"},Yr={From:0,Between:1,To:2},Du={Offbeat:0,Straight:1},wi={OneWay:0,TwoWay:1,BothWay:2},ma={Extra:0,Regular:1,Highlight:2},rs={Squared:0,Angular:1,Curved:2},Zr={None:0,Dot:1,Bevel:2,Round:3},$e={Auto:0,True:1,False:2},tt={None:0,Parents:1,Children:2},Qe={Center:0,Left:1,Right:2},bt={Regular:0,Dummy:1,Fixed:2,None:3},ze={LevelAnnotation:1,BackgroundAnnotation:2,BackgroundAnnotations:3,BackgroundConnectorAnnotation:4,BackgroundHighlightPathAnnotations:5,Connector:6,ForegroundHighlightPathAnnotations:7,Highlight:8,Marker:9,Label:10,Cursor:11,Item:12,ForegroundAnnotations:13,ForegroundConnectorAnnotation:14,Annotation:15,Controls:16},It={Solid:0,Dotted:1,Dashed:2},Qr={Default:0,CursorOnly:1,HighlightOnly:3,Inactive:2},Su={ParentsAndChildren:0,ParentsChildrenSiblingsAndSpouses:1},Me={Top:0,Bottom:1,Left:2,Right:3,None:4},Wt={None:0,PageWidth:1,PageHeight:2,FitToPage:3,AutoSize:5,SelectionOnly:6},ce={Auto:0,TopLeft:8,Top:1,TopRight:2,RightTop:11,Right:3,RightBottom:12,BottomRight:4,Bottom:5,BottomLeft:6,LeftBottom:10,Left:7,LeftTop:9},_n={Line:0,Move:1,QuadraticArc:2,CubicArc:3,Dot:4},va={None:0,FullStack:1},Pt={Rectangle:0,Oval:1,Triangle:2,CrossOut:3,Circle:4,Rhombus:5,Wedge:7,FramedOval:8,FramedTriangle:9,FramedWedge:10,FramedRhombus:11,None:6},He={Horizontal:0,RotateLeft:1,RotateRight:2,Auto:3},Bi={None:0,Null:1,Collinear:2,Opposite:3},Re={Top:0,Middle:1,Bottom:2},ne={Auto:0,Normal:1,Dot:2,Line:3,Invisible:4},lt={Auto:0,Background:1,Foreground:2};let Iu;function Pu(e){var t,o,a;if("#"===e.substr(0,1))return e;if(null!==(t=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(e))&&t.length>0)return o=(parseInt(t[2],10)<<16|parseInt(t[3],10)<<8|parseInt(t[4],10)).toString(16),t[1]+"000000".substr(0,6-o.length)+o;if(void 0===Iu)for(a in Iu={},$)$.hasOwnProperty(a)&&(Iu[a.toUpperCase()]=$[a]);return Iu[e.toUpperCase()]}function Kr(e){return"#"===e.substr(0,1)&&7===e.length?parseInt(e.substr(1,2),16):null}const Id={};function XT(e,t,n){var i=t,r=e+","+t+","+n;return Id.hasOwnProperty(r)?i=Id[r]:(JT(t,e)<JT(n,e)&&(i=n),Id[r]=i),i}function JT(e,t){var i=Pu(e),r=Pu(t),o=.2126*Math.pow(Kr(i)/255,2.2)+.7152*Math.pow(Kr(i)/255,2.2)+.0722*Math.pow(Kr(i)/255,2.2),s=.2126*Math.pow(Kr(r)/255,2.2)+.7152*Math.pow(Kr(r)/255,2.2)+.0722*Math.pow(Kr(r)/255,2.2);return o>s?(o+.05)/(s+.05):(s+.05)/(o+.05)}const GL=function(e){return{backgroundColor:e}},WL=function(e){return{color:e}};let e_=(()=>{class e{constructor(){this.royalBlue="#000080",this.itemTitleFirstFontColor="#ffffff",this.itemTitleSecondFontColor="#000080",this.itemConfig=new QT,this.backgroundColor="#4169e1",this.color="#ffffff"}ngOnChanges(n){this.backgroundColor=this.itemConfig.itemTitleColor||this.royalBlue,this.color=XT(this.backgroundColor,this.itemTitleSecondFontColor,this.itemTitleFirstFontColor)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["bp-item",5,"a"]],inputs:{itemTitleFirstFontColor:"itemTitleFirstFontColor",itemTitleSecondFontColor:"itemTitleSecondFontColor",itemConfig:"itemConfig"},features:[Rn],decls:8,vars:10,consts:[[1,"item","corner-all","item-frame","default-template"],[1,"title-background","item","corner-all","item-frame",3,"ngStyle"],[1,"item","item-title",3,"ngStyle"],[1,"photo-frame","item"],[1,"photo",3,"src","alt"],[1,"item","description"]],template:function(i,r){1&i&&(Fe(0,"div",0)(1,"div",1)(2,"div",2),$n(3),Ye()(),Fe(4,"div",3),ct(5,"img",4),Ye(),Fe(6,"div",5),$n(7),Ye()()),2&i&&(ee(1),Q("ngStyle",ii(6,GL,r.backgroundColor)),ee(1),Q("ngStyle",ii(8,WL,r.color)),ee(1),ni(r.itemConfig.title),ee(2),Q("src",r.itemConfig.image,fh)("alt",r.itemConfig.title),ee(2),ni(r.itemConfig.description))},dependencies:[mi],styles:[".item[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box}.corner-all[_ngcontent-%COMP%]{border-radius:4px}.item-frame[_ngcontent-%COMP%]{border:1px solid #dddddd;background:#eeeeee;color:#333}.default-template[_ngcontent-%COMP%]{width:100%;height:100%;left:-1px;top:-1px}.item-title[_ngcontent-%COMP%]{text-overflow:ellipsis;-o-text-overflow:ellipsis;white-space:nowrap;text-align:left;font-size:14px;line-height:16px;color:#fff;padding:0;top:2px;left:2px;right:2px;height:16px}.title-background[_ngcontent-%COMP%]{top:2px;left:2px;right:2px;height:20px}.photo-frame[_ngcontent-%COMP%]{border:1px solid #cccccc;background:#f6f6f6;color:#1c94c4;top:26px;left:2px;width:50px;height:60px}.photo[_ngcontent-%COMP%]{height:60px;width:50px}.description[_ngcontent-%COMP%]{overflow:hidden;text-align:left;inset:26px 2px 2px 56px;font-size:12px}"]})}return e})();class zi{constructor(t,n,i,r){this.left=0,this.top=0,this.right=0,this.bottom=0,this.left=t,this.top=n,this.right=i,this.bottom=r}}class Pd{constructor(t={}){this.name=null,this.isActive=!0,this.itemSize=new Ct(120,100),this.itemBorderWidth=1,this.itemTemplate=null,this.minimizedItemShapeType=null,this.minimizedItemSize=new Ct(4,4),this.minimizedItemCornerRadius=null,this.minimizedItemLineWidth=1,this.minimizedItemBorderColor=null,this.minimizedItemLineType=si.Solid,this.minimizedItemFillColor=null,this.minimizedItemOpacity=1,this.highlightPadding=new zi(2,2,2,2),this.highlightBorderWidth=1,this.highlightTemplate=null,this.cursorPadding=new zi(3,3,3,3),this.cursorBorderWidth=2,this.cursorTemplate=null,this.buttonsTemplate=null,Object.assign(this,t)}}const qL=function(e,t,n){return{width:e,height:t,borderWidth:n}};let t_=(()=>{class e{constructor(){this.templateConfig=new Pd,this.borderWidth="1px",this.width="0px",this.height="0px"}ngOnChanges(n){const{cursorPadding:i,itemSize:r,cursorBorderWidth:o}=this.templateConfig;this.width=r.width+i.left+i.right+"px",this.height=r.height+i.top+i.bottom+"px",this.borderWidth=o+"px"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["bp-cursor",5,"a"]],inputs:{templateConfig:"templateConfig"},features:[Rn],decls:1,vars:5,consts:[[1,"cursor",3,"ngStyle"]],template:function(i,r){1&i&&ct(0,"div",0),2&i&&Q("ngStyle",Gw(1,qL,r.width,r.height,r.borderWidth))},dependencies:[mi],styles:[".cursor[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;border-radius:4px;border:2px solid #fbd850;color:#eb8f00;width:100%;height:100%;left:-2px;top:-2px}"]})}return e})();const YL=function(e){return{borderWidth:e}};let n_=(()=>{class e{constructor(){this.templateConfig=new Pd,this.borderWidth="1px"}ngOnChanges(n){const{highlightBorderWidth:i}=this.templateConfig;this.borderWidth=i+"px"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["bp-highlight",5,"a"]],inputs:{templateConfig:"templateConfig"},features:[Rn],decls:1,vars:3,consts:[[1,"highlight",3,"ngStyle"]],template:function(i,r){1&i&&ct(0,"div",0),2&i&&Q("ngStyle",ii(1,YL,r.borderWidth))},dependencies:[mi],styles:[".highlight[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;border-radius:4px;border:1px solid #fbcb09;background:#fdf5ce;color:#c77405;width:100%;height:100%;left:-1px;top:-1px}"]})}return e})(),i_=(()=>{class e{constructor(){this.templateConfig=new Pd,this.divStyle={}}ngOnChanges(n){const{minimizedItemCornerRadius:i,highlightPadding:r,highlightBorderWidth:o,minimizedItemSize:s}=this.templateConfig;let a=0;a=null===i?Math.max(s.width/2,s.height/2)+r.left:i+r.left,this.divStyle={borderWidth:o+"px",left:-o+"px",top:-o+"px","-moz-border-radius":a+"px","-webkit-border-radius":a+"px","-khtml-border-radius":a+"px","border-radius":a+"px"}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["bp-dot-highlight",5,"a"]],inputs:{templateConfig:"templateConfig"},features:[Rn],decls:1,vars:1,consts:[[1,"dot-highlight",3,"ngStyle"]],template:function(i,r){1&i&&ct(0,"div",0),2&i&&Q("ngStyle",r.divStyle)},dependencies:[mi],styles:[".dot-highlight[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;border:1px solid #fbcb09;background:#fdf5ce;color:#c77405;width:100%;height:100%;left:0;top:0}"]})}return e})(),r_=(()=>{class e{constructor(){this.id=null,this.label="Selected",this.isSelected=!1,this.onChange=()=>null,this.borderWidth="1px"}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["bp-checkbox",5,"a"]],inputs:{id:"id",label:"label",isSelected:"isSelected"},decls:4,vars:4,consts:[[1,"checkbox-div"],["type","checkbox","name","checkbox",1,"checkbox-input",3,"checked","change"],["name","selectiontext",1,"checkbox-span"]],template:function(i,r){1&i&&(Fe(0,"div",0)(1,"input",1),jn("change",function(){return r.onChange}),Ye(),Fe(2,"span",2),$n(3),Ye()()),2&i&&(ee(1),Q("checked",r.isSelected),Bo("data-id",r.id),ee(1),Bo("data-id",r.id),ee(1),Xs(" ",r.label," "))},styles:[".checkbox-div[_ngcontent-%COMP%]{text-align:left}.checkbox-input[_ngcontent-%COMP%]{font-size:12px;line-height:12px;vertical-align:middle;margin:0;padding:0}.checkbox-span[_ngcontent-%COMP%]{font-size:12px;line-height:12px;vertical-align:middle;margin:0;padding:0 0 0 2px}"]})}return e})();class ZL{constructor(t={}){this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.itemTitleSecondFontColor="#000080",this.itemTitleFirstFontColor="#ffffff",this.groupTitleOrientation=Yt.RotateRight,this.groupTitleHorizontalAlignment=yi.Center,this.groupTitleVerticalAlignment=On.Middle,this.groupTitleColor="#4169e1",Object.assign(this,t)}}let o_=(()=>{class e{constructor(){this.options=new ZL,this.itemConfig=new QT,this.width=0,this.height=0,this.divStyle=null,this.label=""}ngOnChanges(n){const i=this.itemConfig.groupTitleColor||this.options.groupTitleColor,r=XT(i,this.options.itemTitleSecondFontColor,this.options.itemTitleFirstFontColor);this.divStyle={backgroundColor:i,color:r,fontSize:this.options.groupTitleFontSize,fontFamily:this.options.groupTitleFontFamily,fontWeight:this.options.groupTitleFontWeight,fontStyle:this.options.groupTitleFontStyle},this.label=(this.itemConfig.groupTitle||"").replace("\n","<br/>")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["bp-group-title",5,"a"]],inputs:{options:"options",itemConfig:"itemConfig",width:"width",height:"height"},features:[Rn],decls:3,vars:7,consts:[[1,"group-title",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"]],template:function(i,r){1&i&&(Fe(0,"div",0)(1,"rotated-text",1),$n(2),Ye()()),2&i&&(Q("ngStyle",r.divStyle),ee(1),Q("width",r.width)("height",r.height)("orientation",r.options.groupTitleOrientation)("horizontalAlignment",r.options.groupTitleHorizontalAlignment)("verticalAlignment",r.options.groupTitleVerticalAlignment),ee(1),ni(r.label))},dependencies:[mi,bu],styles:[".group-title[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;border-radius:4px;background:royalblue;border-width:0;color:#fff;padding:0;width:100%;height:100%;left:-1px;top:-1px}"]})}return e})();class s_{constructor(t={}){this.annotationType=WT.Level,this.levels=[],this.title=null,this.titleFontColor=null,this.titleColor=null,this.offset=new zi(0,0,0,0),this.lineWidth=new zi(0,0,0,0),this.opacity=1,this.borderColor=null,this.fillColor="#D4D4D4",this.lineType=si.Solid,Object.assign(this,t)}}function QL(e){var t=null;switch(e){case si.Dotted:t="dotted";break;case si.Dashed:t="dashed";break;default:t="solid"}return t}let a_=(()=>{class e{constructor(){this.annotationConfig=new s_,this.divStyle={}}ngOnChanges(n){this.divStyle={opacity:this.annotationConfig.opacity,borderColor:this.annotationConfig.borderColor,backgroundColor:this.annotationConfig.fillColor,borderWidth:this.annotationConfig.lineWidth.toString(),borderStyle:QL(this.annotationConfig.lineType)}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["bp-level-background",5,"a"]],inputs:{annotationConfig:"annotationConfig"},features:[Rn],decls:1,vars:1,consts:[[1,"level-background",3,"ngStyle"]],template:function(i,r){1&i&&ct(0,"div",0),2&i&&Q("ngStyle",r.divStyle)},dependencies:[mi],styles:[".level-background[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}"]})}return e})();class KL{constructor(t={}){this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.levelTitleFontColor="#ffffff",this.levelTitleOrientation=Yt.Auto,this.levelTitleHorizontalAlignment=yi.Center,this.levelTitleVerticalAlignment=On.Middle,this.levelTitleColor="#4169e1",Object.assign(this,t)}}let l_=(()=>{class e{constructor(){this.options=new KL,this.annotationConfig=new s_,this.width=0,this.height=0,this.divStyle=null,this.label=""}ngOnChanges(n){this.divStyle={backgroundColor:this.annotationConfig.titleColor||this.options.levelTitleColor,color:this.annotationConfig.titleFontColor||this.options.levelTitleFontColor,fontSize:this.options.levelTitleFontSize,fontFamily:this.options.levelTitleFontFamily,fontWeight:this.options.levelTitleFontWeight,fontStyle:this.options.levelTitleFontStyle},this.label=(this.annotationConfig.title||"").replace("\n","<br/>")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["bp-level-title",5,"a"]],inputs:{options:"options",annotationConfig:"annotationConfig",width:"width",height:"height"},features:[Rn],decls:3,vars:7,consts:[[1,"level-title",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"]],template:function(i,r){1&i&&(Fe(0,"div",0)(1,"rotated-text",1),$n(2),Ye()()),2&i&&(Q("ngStyle",r.divStyle),ee(1),Q("width",r.width)("height",r.height)("orientation",r.options.levelTitleOrientation)("horizontalAlignment",r.options.levelTitleHorizontalAlignment)("verticalAlignment",r.options.levelTitleVerticalAlignment),ee(1),ni(r.label))},dependencies:[mi,bu],styles:[".level-title[_ngcontent-%COMP%]{position:absolute;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;border-radius:4px;background:royalblue;border-width:0;color:#fff;padding:0;width:100%;height:100%;left:-1px;top:-1px}"]})}return e})();const XL=["frameMousePanelRef"],JL=["framePlaceholderRef"],eF=["titlesMousePanelRef"],tF=["titlesPlaceholderRef"],nF=["scrollPanelRef"],iF=["mousePanelRef"],rF=["placeholderRef"],oF=["calloutPlaceholderRef"],sF=["controlPanelRef"];function aF(e,t){1&e&&kn(0)}const ku=function(e){return{$implicit:e}};function lF(e,t){if(1&e){const n=Qs();Fe(0,"div",13,14),jn("click",function(r){return Wi(n),qi(Ee().onFrameClick(r))})("mousemove",function(r){return Wi(n),qi(Ee().onFrameMouseMove(r))}),Fe(2,"div",15,16),ye(4,aF,1,0,"ng-container",10),Ye()()}if(2&e){const n=Ee(),i=Vn(13);Q("ngStyle",n.frameMousePanelStyle),ee(2),Q("ngStyle",n.framePlaceholderStyle),ee(2),Q("ngTemplateOutlet",i)("ngTemplateOutletContext",ii(4,ku,n.framePlaceholder))}}function uF(e,t){1&e&&kn(0)}function cF(e,t){if(1&e){const n=Qs();Fe(0,"div",17,18),jn("mousemove",function(r){return Wi(n),qi(Ee().onFrameMouseMove(r))})("click",function(r){return Wi(n),qi(Ee().onFrameClick(r))}),Fe(2,"div",19,20),ye(4,uF,1,0,"ng-container",10),Ye()()}if(2&e){const n=Ee(),i=Vn(13);Q("ngStyle",n.titlesMousePanelStyle),ee(2),Q("ngStyle",n.titlesPlaceholderStyle),ee(2),Q("ngTemplateOutlet",i)("ngTemplateOutletContext",ii(4,ku,n.titlesPlaceholder))}}function hF(e,t){1&e&&kn(0)}function fF(e,t){1&e&&kn(0)}function dF(e,t){if(1&e&&(Fe(0,"div",21,22),ye(2,fF,1,0,"ng-container",10),Ye()),2&e){const n=Ee(),i=Vn(13);Q("ngStyle",n.calloutPlaceholderStyle),ee(2),Q("ngTemplateOutlet",i)("ngTemplateOutletContext",ii(3,ku,n.calloutPlaceholder))}}function pF(e,t){if(1&e&&(Fe(0,"div",29)(1,"rotated-text",30),$n(2),Ye()()),2&e){const n=t.$implicit;Q("ngStyle",n.style),ee(1),Q("width",n.width)("height",n.height)("orientation",n.orientation)("horizontalAlignment",n.horizontalAlignment)("verticalAlignment",n.verticalAlignment),ee(1),ni(n.label)}}function gF(e,t){if(1&e&&(Ds(),ct(0,"path",33)),2&e){const n=t.$implicit;Q("ngStyle",n.style),Bo("d",n.data)}}const mF=function(e,t){return{width:e,height:t}};function vF(e,t){if(1&e&&(Ds(),Fe(0,"svg",31),ye(1,gF,1,2,"path",32),Ye()),2&e){const n=Ee(2).$implicit,i=Ee().$implicit;Hl("height","",i.size.height,"px")("width","",i.size.width,"px"),Q("ngStyle",Tf(4,mF,i.size.width+"px",i.size.height+"px")),ee(1),Q("ngForOf",n.polylines)}}function yF(e,t){if(1&e&&(ot(0),ct(1,"bp-item",38),st()),2&e){const n=Ee().$implicit;ee(1),Q("itemConfig",n.context.context)("itemTitleFirstFontColor",n.context.itemTitleFirstFontColor)("itemTitleSecondFontColor",n.context.itemTitleSecondFontColor)}}function wF(e,t){if(1&e&&(ot(0),ct(1,"bp-checkbox",39),st()),2&e){const n=Ee().$implicit;ee(1),Q("id",n.context.id)("isSelected",n.context.isSelected)("label",n.context.selectCheckBoxLabel)}}function TF(e,t){if(1&e&&(ot(0),ct(1,"bp-group-title",40),st()),2&e){const n=Ee().$implicit;ee(1),Q("options",n.context)("itemConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function _F(e,t){if(1&e&&(ot(0),ct(1,"bp-cursor",41),st()),2&e){const n=Ee().$implicit;ee(1),Q("templateConfig",n.context.templateConfig)}}function CF(e,t){if(1&e&&(ot(0),ct(1,"bp-highlight",41),st()),2&e){const n=Ee().$implicit;ee(1),Q("templateConfig",n.context.templateConfig)}}function bF(e,t){if(1&e&&(ot(0),ct(1,"bp-dot-highlight",41),st()),2&e){const n=Ee().$implicit;ee(1),Q("templateConfig",n.context.templateConfig)}}function DF(e,t){if(1&e&&(ot(0),ct(1,"bp-level-title",42),st()),2&e){const n=Ee().$implicit;ee(1),Q("options",n.context)("annotationConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function SF(e,t){if(1&e&&(ot(0),ct(1,"bp-level-background",43),st()),2&e){const n=Ee().$implicit;ee(1),Q("annotationConfig",n.context.context)}}function IF(e,t){if(1&e&&(ot(0),Fe(1,"div",44),$n(2),Ye(),st()),2&e){const n=Ee().$implicit;ee(2),ni(n.context.context.title)}}function PF(e,t){if(1&e&&(ot(0),Fe(1,"div",44),$n(2),Ye(),st()),2&e){const n=Ee().$implicit;ee(2),ni(n.context.context.label)}}function MF(e,t){1&e&&kn(0)}function kF(e,t){if(1&e&&(ot(0),ye(1,MF,1,0,"ng-container",10),st()),2&e){const n=Ee().$implicit;ee(1),Q("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",n.context)}}function xF(e,t){if(1&e&&(Fe(0,"div",34),ot(1,35),ye(2,yF,2,3,"ng-container",36),ye(3,wF,2,3,"ng-container",36),ye(4,TF,2,4,"ng-container",36),ye(5,_F,2,1,"ng-container",36),ye(6,CF,2,1,"ng-container",36),ye(7,bF,2,1,"ng-container",36),ye(8,DF,2,4,"ng-container",36),ye(9,SF,2,1,"ng-container",36),ye(10,IF,3,1,"ng-container",36),ye(11,PF,3,1,"ng-container",36),ye(12,kF,2,2,"ng-container",37),st(),Ye()),2&e){const n=t.$implicit;Q("ngStyle",n.style),ee(1),Q("ngSwitch",n.templateType),ee(1),Q("ngSwitchCase","itemTemplate"),ee(1),Q("ngSwitchCase","checkboxTemplate"),ee(1),Q("ngSwitchCase","groupTitleTemplate"),ee(1),Q("ngSwitchCase","cursorTemplate"),ee(1),Q("ngSwitchCase","highlightTemplate"),ee(1),Q("ngSwitchCase","dotHighlightTemplate"),ee(1),Q("ngSwitchCase","levelTitleTemplate"),ee(1),Q("ngSwitchCase","levelBackgroundTemplate"),ee(1),Q("ngSwitchCase","labelAnnotationTemplate"),ee(1),Q("ngSwitchCase","annotationLabelTemplate")}}function EF(e,t){if(1&e&&(ot(0),ye(1,pF,3,7,"div",26),ye(2,vF,2,7,"svg",27),ye(3,xF,13,12,"div",28),st()),2&e){const n=Ee().$implicit;ee(1),Q("ngForOf",n.labels),ee(1),Q("ngIf",n.polylines.length>0),ee(1),Q("ngForOf",n.items)}}function OF(e,t){if(1&e&&(Fe(0,"div",24),ye(1,EF,4,3,"ng-container",25),Ye()),2&e){const n=t.$implicit;ee(1),Q("ngIf",n)}}function AF(e,t){1&e&&ye(0,OF,2,1,"div",23),2&e&&Q("ngForOf",t.$implicit.layers)}class Md{constructor(t={}){this.autoSize=!1,this.controlSize=new Ct,this.scale=1,this.frameMousePanelRect=new Ri,this.framePlaceholderSize=new Ct,this.titlesMousePanelRect=new Ri,this.titlesPlaceholderSize=new Ct,this.scrollPanelRect=new Ri,this.mousePanelSize=new Ct,this.placeholderSize=new Ct,Object.assign(this,t)}}class LF{constructor(){this.viewportSize=new Ct(0,0),this.contentPosition=new Sd(0,0),this.centerOnCursor=!0,this.highlightItem=null,this.cursorItem=null,this.selectedItems=[]}}let FF=(()=>{class e{ngAfterViewInit(){var n=this.onSizeChanged.bind(this);this.observer=new ResizeObserver(()=>this.zone.run(()=>n())),this.observer.observe(this.controlPanelRef.nativeElement),this.fixPixelAlignment()}_onHighlightChanging(n,i,r){}_onHighlightChanged(n){}_onCursorChanging(n,i,r){}_onCursorChanged(n){}_onSelectionChanging(n,i,r){}_onSelectionChanged(n){}constructor(n,i,r){this.host=n,this.zone=i,this.centerOnCursor=!0,this.state=new LF,this.layoutOptions=new Md,this.timer=null,this.templatesHash={},this.placeholder=null,this.framePlaceholder=null,this.titlesPlaceholder=null,this.calloutPlaceholder=null,this.controlPanelStyle={},this.frameMousePanelStyle={},this.framePlaceholderStyle={},this.titlesMousePanelStyle={},this.titlesPlaceholderStyle={},this.scrollPanelStyle={},this.placeholderOffset=void 0,this.mousePanelStyle={},this.placeholderStyle={},this.calloutPlaceholderStyle={},this.taskManagerFactory=r,this.graphics=new TL(new Ct(0,0));var o={AnnotationLabelTemplate:bL,ButtonsTemplate:DL,CheckBoxTemplate:SL,CursorTemplate:IL,DotHighlightTemplate:ML,GroupTitleTemplate:kL,HighlightTemplate:xL,ItemTemplate:EL,UserTemplate:FL,CustomRenderTemplate:PL,LabelAnnotationTemplate:OL,LevelTitleTemplate:LL,LevelBackgroundTemplate:AL};this.tasks=r.factory(this.getOptions.bind(this),this.getGraphics.bind(this),this.getLayout.bind(this),this.setLayout.bind(this),o),this.layoutOptions=new Md}onItemRender(n){const{templateName:i}=n;return this.templatesHash[i].itemTemplate}onHighlightRender(n){const{templateName:i}=n;return this.templatesHash[i].highlightTemplate}onCursorRender(n){const{templateName:i}=n;return this.templatesHash[i].cursorTemplate}getOptions(){const{config:n}=this.state,i=n.templates||[];this.templatesHash={},i.forEach(l=>{this.templatesHash[l.name]=l});const r=i.map(l=>{const{buttonsTemplate:u}=l;return{...l,onButtonsRender:u?()=>u:null}}),{highlightItem:o,cursorItem:s,selectedItems:a}=this.state;return{...n,templates:r,highlightItem:o,cursorItem:s,selectedItems:a,onItemRender:this.onItemRender.bind(this),onCursorRender:this.onCursorRender.bind(this),onHighlightRender:this.onHighlightRender.bind(this),onGroupTitleRender:n.groupTitleTemplate?()=>n.groupTitleTemplate:null,onLevelBackgroundRender:n.levelBackgroundTemplate?()=>n.levelBackgroundTemplate:null,onLevelTitleRender:n.levelTitleTemplate?()=>n.levelTitleTemplate:null,onButtonsRender:n.buttonsTemplate?()=>n.buttonsTemplate:null}}getGraphics(){return this.graphics}getLayout(){var i=this.state.viewportSize,r=this.state.contentPosition;return{forceCenterOnCursor:this.state.centerOnCursor,scrollPanelSize:new Ct(i.width,i.height),placeholderOffset:new Sd(r.x,r.y)}}setLayout(n){const{autoSize:i,controlSize:r,scale:o,frameMousePanelRect:s,framePlaceholderSize:a,titlesMousePanelRect:l,titlesPlaceholderSize:u,scrollPanelRect:c,mousePanelSize:h,placeholderSize:f}=n;this.layoutOptions=new Md({autoSize:i,controlSize:new Ct(r.width,r.height),scale:o,frameMousePanelRect:new Ri(s.x,s.y,s.width,s.height),framePlaceholderSize:new Ct(a.width,a.height),titlesMousePanelRect:new Ri(l.x,l.y,l.width,l.height),titlesPlaceholderSize:new Ct(u.width,u.height),scrollPanelRect:new Ri(c.x,c.y,c.width,c.height),mousePanelSize:new Ct(h.width,h.height),placeholderSize:new Ct(f.width,f.height)})}fixPixelAlignment(){const{nativeElement:n}=this.controlPanelRef;var i=function _L(e){var t=e.getBoundingClientRect(),n=t.top+document.body.scrollTop,i=t.left+document.body.scrollLeft;return new Te(-i+Math.floor(i),-n+Math.floor(n))}(n);n.style.marginLeft=i.width+"px",n.style.marginTop=i.height+"px"}onSizeChanged(){const{width:n,height:i}=function CL(e){var t=window.getComputedStyle(e);return new Te(parseInt(t.width,10),parseInt(t.height,10))}(this.controlPanelRef.nativeElement);this.setState({viewportSize:new Ct(n,i),centerOnCursor:!0})}onScroll(n){null==this.timer&&(this.timer=window.setTimeout(this.onRefreshViewport.bind(this),100))}onRefreshViewport(){window.clearTimeout(this.timer),this.timer=null;const{scrollTop:n,scrollLeft:i}=this.scrollPanelRef.nativeElement;this.setState({contentPosition:new Sd(Math.floor(i),Math.floor(n)),centerOnCursor:!1})}onFrameMouseMove(n){const i=is(this.frameMousePanelRef.nativeElement),r=n.pageX-i.left,o=n.pageY-i.top,s=this.tasks.getTask("ProjectItemsToFrameTask"),a=this.tasks.getTask("HighlightItemOptionTask");if(a.hasHighlightEnabled()){const l=s.getTreeItemForMousePosition(r,o,a.getGravityRadius());this.setHighlightItem(n,l)}}onFrameClick(n){const i=is(this.frameMousePanelRef.nativeElement),r=n.pageX-i.left,o=n.pageY-i.top,s=this.tasks.getTask("ProjectItemsToFrameTask"),a=this.tasks.getTask("CursorItemOptionTask"),l=this.tasks.getTask("HighlightItemOptionTask"),u=s.getTreeItemForMousePosition(r,o,l.getGravityRadius());null!==u&&a.hasCursorEnabled()&&(this.setCursorItem(n,u),this.controlPanelRef.nativeElement.focus())}onMouseMove(n){const i=is(this.mousePanelRef.nativeElement),r=n.pageX-i.left,o=n.pageY-i.top,s=this.tasks.getTask("CreateTransformTask"),a=this.tasks.getTask("HighlightItemOptionTask");if(a.hasHighlightEnabled()){const l=s.getTreeItemForMousePosition(r,o,a.getGravityRadius());this.setHighlightItem(n,l)}}getEventArgs(n,i,r=null){var c,h,f,o={},s=this.tasks.getTask("CombinedContextsTask"),a=this.tasks.getTask("AlignDiagramTask"),l=s.getConfig(n),u=s.getConfig(i);return l&&null!=l.id&&(o.oldContext=l),u&&null!=u.id&&(o.context=u,null!==u.parent&&(o.parentItem=s.getConfig(u.parent)),f=is(this.mousePanelRef.nativeElement),h=is(this.scrollPanelRef.nativeElement),c=a.getItemPosition(i),o.position=new Ri(c.actualPosition).translate(f.left,f.top).translate(-h.left,-h.top)),null!=r&&(o.name=r),o}setHighlightItem(n,i){let r;const{highlightItem:s}=this.state;i!==s&&(r=this._onHighlightChanging(n,s,i),r.cancel||(this.setState({highlightItem:i}),this._onHighlightChanged(r)))}setCursorItem(n,i){let r;const{cursorItem:s}=this.state;i!==s&&(r=this._onCursorChanging(n,s,i),r.cancel||(this.setState({cursorItem:i,centerOnCursor:!0}),this._onCursorChanged(r)))}onClick(n){var i=is(this.mousePanelRef.nativeElement),r=n.pageX-i.left,o=n.pageY-i.top,s=this.tasks.getTask("CreateTransformTask"),a=this.tasks.getTask("CursorItemOptionTask"),l=this.tasks.getTask("HighlightItemOptionTask"),u=s.getTreeItemForMousePosition(r,o,l.getGravityRadius()),c=n.target;null!==u&&("checkbox"===c.getAttribute("name")||"selectiontext"===c.getAttribute("name")||a.hasCursorEnabled()&&(this.setCursorItem(n,u),this.controlPanelRef.nativeElement.focus()))}onCheckboxChange(n){let{selectedItems:i}=this.state,r=[];const o=n.target;var s=o.getAttribute("data-id");if(null!=s){r=o.checked?[...i,s]:i.filter(c=>c!=s);var u=this._onSelectionChanging(n,i,r);u.cancel||(this.setState({selectedItems:r}),this._onSelectionChanged(u))}}onKeyDown(n){var h,d,i=this.tasks.getTask("HighlightItemTask"),r=this.tasks.getTask("HighlightItemOptionTask"),o=this.tasks.getTask("CursorItemTask"),s=this.tasks.getTask("CursorItemOptionTask"),a=this.tasks.getTask("AlignDiagramTask"),u=this.tasks.getTask("CreateTransformTask").getTransform(),c=null,f=null;if(r.hasHighlightEnabled()&&s.hasCursorEnabled()?null===(c=i.getHighlightTreeItem())&&(c=o.getCursorTreeItem()):r.hasHighlightEnabled()?c=i.getHighlightTreeItem():s.hasCursorEnabled()&&(c=o.getCursorTreeItem()),null!=c){switch(n.which){case 13:s.hasCursorEnabled()&&(this.setCursorItem(n,c),n.preventDefault(),this.controlPanelRef.nativeElement.focus());break;case 40:f=or.Bottom;break;case 38:f=or.Top;break;case 37:f=or.Left;break;case 39:f=or.Right}if(null!=f){for(d=!1;!d;)d=!0,f=u.getOrientation(f),null!=(h=a.getNextItem(c,f))&&(n.preventDefault(),r.hasHighlightEnabled()?this.setHighlightItem(n,h):s.hasCursorEnabled()&&this.setCursorItem(n,h));this.controlPanelRef.nativeElement.focus()}}}setState(n={}){this.state={...this.state,...n},this.render()}ngOnInit(){this.render()}render(){this.tasks.process("OptionsTask",null,!1);const{placeholder:n,calloutplaceholder:i,frameplaceholder:r,titlesplaceholder:o}=this.graphics.placeholders;this.placeholder=n,this.titlesPlaceholder=o,this.framePlaceholder=r,this.calloutPlaceholder=i;const{autoSize:s,controlSize:a,scale:l,frameMousePanelRect:u,titlesMousePanelRect:c,scrollPanelRect:h,mousePanelSize:f}=this.layoutOptions;var d="scale("+l+","+l+")";this.controlPanelStyle=s?a.getCSS():{},this.frameMousePanelStyle=u.getCSS(),r&&(this.framePlaceholderStyle={...r.rect.getCSS(),transform:d,msTransform:d,WebkitTransform:d,OTransform:d,MozTransform:d}),this.titlesMousePanelStyle={...c.getCSS()},o&&(this.titlesPlaceholderStyle={...o.rect.getCSS(),transformOrigin:"0 0",transform:d,msTransform:d,WebkitTransform:d,OTransform:d,MozTransform:d}),this.scrollPanelStyle={...h.getCSS(),border:h.x>0?"1px dotted #dddddd":""},this.mousePanelStyle={...f.getCSS()},this.placeholderStyle={...n.rect.getCSS(),transform:d,msTransform:d,WebkitTransform:d,OTransform:d,MozTransform:d},i&&(this.calloutPlaceholderStyle={left:i.rect.x+"px",top:i.rect.y+"px"});const{centerOnCursor:p}=this.state;if(p){const g=this.tasks.getTask("CenterOnCursorTask");this.placeholderOffset=g.getPlaceholderOffset()}}ngOnDestroy(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.observer.disconnect()}static#e=this.\u0275fac=function(i){return new(i||e)(Le(Cr),Le(_t),Le(ZT))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["base-diagram"]],viewQuery:function(i,r){if(1&i&&(Fi(XL,5),Fi(JL,5),Fi(eF,5),Fi(tF,5),Fi(nF,5),Fi(iF,5),Fi(rF,5),Fi(oF,5),Fi(sF,5)),2&i){let o;Li(o=Ni())&&(r.frameMousePanelRef=o.first),Li(o=Ni())&&(r.framePlaceholderRef=o.first),Li(o=Ni())&&(r.titlesMousePanelRef=o.first),Li(o=Ni())&&(r.titlesPlaceholderRef=o.first),Li(o=Ni())&&(r.scrollPanelRef=o.first),Li(o=Ni())&&(r.mousePanelRef=o.first),Li(o=Ni())&&(r.placeholderRef=o.first),Li(o=Ni())&&(r.calloutPlaceholderRef=o.first),Li(o=Ni())&&(r.controlPanelRef=o.first)}},inputs:{centerOnCursor:"centerOnCursor"},decls:14,vars:13,consts:[["tabIndex","0",1,"control-panel",3,"ngStyle","keydown"],["controlPanelRef",""],["class","frame-mouse-panel",3,"ngStyle","click","mousemove",4,"ngIf"],["class","titles-mouse-panel",3,"ngStyle","mousemove","click",4,"ngIf"],[1,"scroll-panel",3,"ngStyle","scrollLeft","scrollTop","scroll"],["scrollPanelRef",""],[1,"mouse-panel",3,"ngStyle","mousemove","click","change"],["mousePanelRef",""],[1,"placeholder",3,"ngStyle"],["placeholderRef",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","callout-placeholder",3,"ngStyle",4,"ngIf"],["layerTemplate",""],[1,"frame-mouse-panel",3,"ngStyle","click","mousemove"],["frameMousePanelRef",""],[1,"frame-placeholder",3,"ngStyle"],["framePlaceholderRef",""],[1,"titles-mouse-panel",3,"ngStyle","mousemove","click"],["titlesMousePanelRef",""],[1,"titles-placeholder",3,"ngStyle"],["titlesPlaceholderRef",""],[1,"callout-placeholder",3,"ngStyle"],["calloutPlaceholderRef",""],["class","layer",4,"ngFor","ngForOf"],[1,"layer"],[4,"ngIf"],["class","label",3,"ngStyle",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle",4,"ngIf"],["class","template",3,"ngStyle",4,"ngFor","ngForOf"],[1,"label",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"template",3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"itemConfig","itemTitleFirstFontColor","itemTitleSecondFontColor"],[3,"id","isSelected","label"],[3,"options","itemConfig","width","height"],[3,"templateConfig"],[3,"options","annotationConfig","width","height"],[3,"annotationConfig"],[1,"label-annotation"]],template:function(i,r){if(1&i&&(Fe(0,"div",0,1),jn("keydown",function(s){return r.onKeyDown(s)}),ye(2,lF,5,6,"div",2),ye(3,cF,5,6,"div",3),Fe(4,"div",4,5),jn("scroll",function(s){return r.onScroll(s)}),Fe(6,"div",6,7),jn("mousemove",function(s){return r.onMouseMove(s)})("click",function(s){return r.onClick(s)})("change",function(s){return r.onCheckboxChange(s)}),Fe(8,"div",8,9),ye(10,hF,1,0,"ng-container",10),ye(11,dF,3,5,"div",11),Ye()()()(),ye(12,AF,1,1,"ng-template",null,12,Ko)),2&i){const o=Vn(13);Q("ngStyle",r.controlPanelStyle),ee(2),Q("ngIf",r.framePlaceholder),ee(1),Q("ngIf",r.titlesPlaceholder),ee(1),Q("ngStyle",r.scrollPanelStyle)("scrollLeft",r.placeholderOffset?r.placeholderOffset.x:void 0)("scrollTop",r.placeholderOffset?r.placeholderOffset.y:void 0),ee(2),Q("ngStyle",r.mousePanelStyle),ee(2),Q("ngStyle",r.placeholderStyle),ee(2),Q("ngTemplateOutlet",o)("ngTemplateOutletContext",ii(11,ku,r.placeholder)),ee(1),Q("ngIf",r.calloutPlaceholder)}},dependencies:[id,mu,vu,mi,fa,od,sd,bu,e_,t_,n_,i_,r_,o_,a_,l_],styles:[".control-panel[_ngcontent-%COMP%]{position:relative;overflow:hidden;top:0;left:0;width:100%;height:100%;padding:0;margin-bottom:0;margin-right:0}.frame-mouse-panel[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.frame-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden;transform-origin:0 0}.titles-mouse-panel[_ngcontent-%COMP%], .titles-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.scroll-panel[_ngcontent-%COMP%]{position:absolute;overflow:auto;-webkit-overflow-scrolling:touch}.mouse-panel[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden;transform-origin:0 0}.callout-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:visible}.layer[_ngcontent-%COMP%]{position:absolute;overflow:visible;left:0;top:0}.label[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box}.template[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;padding:0;margin:0}.label-annotation[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;width:100%;text-align:center}"]})}return e})();class u_{constructor(t={}){this.oldContext=null,this.context=null,this.parentItems=[],this.childrenItems=[],this.position=null,this.name=null,this.cancel=!1,Object.assign(this,t)}}class NF{constructor(t={}){this.selectedItems=[],this.newSelectedItems=[],this.cancel=!1,Object.assign(this,t)}}function we(e,t,n,i){switch(this.left=0,this.top=0,this.right=0,this.bottom=0,arguments.length){case 1:null!==e&&"object"==typeof e?(this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom):(this.left=e,this.top=e,this.right=e,this.bottom=e);break;case 4:this.left=e,this.top=t,this.right=n,this.bottom=i}return this}function oN(e){this.name=void 0!==e?e:"FamDiagram",this.classPrefix="famdiagram",this.navigationMode=Qr.Default,this.pageFitMode=Wt.FitToPage,this.minimalVisibility=ne.Dot,this.minimumVisibleLevels=0,this.orientationType=Me.Top,this.verticalAlignment=Re.Middle,this.arrowsDirection=tt.None,this.showExtraArrows=!0,this.extraArrowsMinimumSpace=30,this.groupByType=tt.Children,this.alignBylevels=!0,this.enableMatrixLayout=!1,this.minimumMatrixSize=4,this.maximumColumnsInMatrix=6,this.hideGrandParentsConnectors=!1,this.elbowType=Zr.Round,this.bevelSize=4,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=$e.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=va.None,this.neighboursSelectionMode=Su.ParentsAndChildren,this.showFrame=!1,this.frameInnerPadding=new we(2,2,2,2),this.frameOuterPadding=new we(2,2,2,2),this.padding=new we(10,10,10,10),this.templates=[],this.defaultTemplateName=null,this.defaultLabelAnnotationTemplate=null,this.hasButtons=$e.Auto,this.onButtonsRender=null,this.onHighlightChanging=null,this.onHighlightChanged=null,this.onCursorChanging=null,this.onCursorChanged=null,this.onSelectionChanging=null,this.onSelectionChanged=null,this.onButtonClick=null,this.onMouseClick=null,this.onMouseDblClick=null,this.onItemRender=null,this.onHighlightRender=null,this.onCursorRender=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor=$.White,this.itemTitleSecondFontColor=$.Navy,this.minimizedItemShapeType=Pt.None,this.linesColor=$.Silver,this.linesWidth=1,this.linesType=It.Solid,this.showNeigboursConnectorsHighlighted=!1,this.highlightLinesColor=$.Red,this.highlightLinesWidth=1,this.highlightLinesType=It.Solid,this.linesPalette=[],this.showCallout=!0,this.calloutMaximumVisibility=ne.Dot,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=St.Left,this.groupTitleOrientation=He.RotateRight,this.groupTitleVerticalAlignment=Re.Middle,this.groupTitleHorizontalAlignment=Qe.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor=$.RoyalBlue,this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.onGroupTitleRender=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=St.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=He.Auto,this.levelTitleVerticalAlignment=Re.Middle,this.levelTitleHorizontalAlignment=Qe.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor=$.White,this.levelTitleColor=$.RoyalBlue,this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.onLevelTitleRender=null,this.onLevelBackgroundRender=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=1,this.showLabels=$e.Auto,this.labelSize=new Te(80,24),this.labelOffset=1,this.labelOrientation=He.Horizontal,this.labelPlacement=ce.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor=$.Black,this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new Te(800,600),this.autoSizeMaximum=new Te(1024,768)}function sN(e,t,n,i,r){var o;switch(this.id=null,this.parents=[],this.relativeItem=null,this.placementType=St.Right,this.position=null,this.primaryParent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor=$.RoyalBlue,this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor=$.RoyalBlue,this.matrixId=null,this.addToMatrix=!0,this.isActive=!0,this.hasSelectorCheckbox=$e.Auto,this.hasButtons=$e.Auto,this.templateName=null,this.showCallout=$e.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=$e.Auto,this.labelSize=null,this.labelOrientation=He.Auto,this.labelPlacement=ce.Auto,arguments.length){case 1:for(o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);break;case 5:this.id=e,this.parents=t,this.title=n,this.description=i,this.image=r}}function xd(){this.name=null,this.isActive=!0,this.itemSize=new Te(120,100),this.itemBorderWidth=1,this.itemTemplate=null,this.minimizedItemShapeType=null,this.minimizedItemSize=new Te(4,4),this.minimizedItemCornerRadius=null,this.minimizedItemLineWidth=1,this.minimizedItemBorderColor=null,this.minimizedItemLineType=It.Solid,this.minimizedItemFillColor=null,this.minimizedItemOpacity=1,this.highlightPadding=new we(2,2,2,2),this.highlightBorderWidth=1,this.highlightTemplate=null,this.cursorPadding=new we(3,3,3,3),this.cursorBorderWidth=2,this.cursorTemplate=null,this.hasButtons=$e.Auto,this.onButtonsRender=null}function aN(e,t,n){var i;switch(this.lineColor=$.Silver,this.lineWidth=1,this.lineType=It.Solid,arguments.length){case 1:for(i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);break;case 3:this.lineColor=e,this.lineWidth=t,this.lineType=n}}function c_(e){var t;if(1===(this.annotationType=tn.Background,this.items=[],this.includeChildren=!1,this.zOrderType=lt.Auto,this.offset=new we(18,18,18,18),this.lineWidth=2,this.opacity=1,this.borderColor=null,this.fillColor=null,this.lineType=It.Solid,this.selectItems=!1,arguments.length)&&null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function lN(e,t){var n;switch(this.annotationType=tn.Connector,this.zOrderType=lt.Foreground,this.fromItem=null,this.toItem=null,this.connectorShapeType=wi.OneWay,this.connectorPlacementType=Du.Offbeat,this.labelPlacementType=Yr.Between,this.offset=new we(0,0,0,0),this.lineWidth=2,this.color=$.Black,this.lineType=It.Solid,this.selectItems=!0,this.label=null,this.labelSize=new Te(60,30),arguments.length){case 1:for(n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);break;case 2:this.fromItem=e,this.toItem=t}}function uN(e){var t;if(1===(this.annotationType=tn.HighlightPath,this.zOrderType=lt.Foreground,this.items=[],this.lineWidth=2,this.color=$.Red,this.lineType=It.Solid,this.opacity=1,this.showArrows=!0,this.selectItems=!1,arguments.length)&&null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function h_(e){var t;if(1===(this.annotationType=tn.Shape,this.zOrderType=lt.Auto,this.items=[],this.shapeType=Pt.Rectangle,this.offset=new we(0,0,0,0),this.lineWidth=2,this.cornerRadius="10%",this.opacity=1,this.borderColor=null,this.fillColor=null,this.lineType=It.Solid,this.selectItems=!1,this.label=null,this.labelSize=new Te(60,30),this.labelPlacement=ce.Auto,this.labelOffset=4,arguments.length)&&null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function cN(e,t){var n;switch(this.annotationType=tn.Label,this.fromItem=null,this.toItems=[],this.title=null,this.itemTitleColor=$.RoyalBlue,this.templateName=null,arguments.length){case 1:for(n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);break;case 2:this.fromItem=e,this.toItem=t}}function hN(e){var t;if(1===(this.annotationType=tn.Level,this.levels=[],this.title=null,this.titleFontColor=null,this.titleColor=null,this.offset=new we(0,0,0,0),this.lineWidth=new we(0,0,0,0),this.opacity=1,this.borderColor=null,this.fillColor="#D4D4D4",this.lineType=It.Solid,arguments.length)&&null!==e)if(e instanceof Array)this.items=e;else if("object"==typeof e)for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function Wn(e){var t=!0;return null!=e&&e.toString().length>0&&(t=!1),t}function fN(e){for(var t=[],n="",i=0;i<e.length;i+=1){var r=e[i];r>="A"&&r<="Z"?(""!==n&&t.push(n),n=r):n+=r}return""!==n&&t.push(n),t}function ya(e){return null!==e&&"object"==typeof e}function xu(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function Zt(e,t){var n;if(null===e)n=null;else if(Array.isArray(e))if(t)n=e.slice(0);else{n=[];for(var i=0,r=e.length;i<r;i+=1)n.push(Zt(e[i],t))}else if("object"==typeof e)for(var o in n={},e)e.hasOwnProperty(o)&&(n[o]=t?e[o]:Zt(e[o],t));else n=e;return n}function dN(e,t){for(var n=1;n<arguments.length;n+=1){var i=arguments[n];if(void 0!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}function Ze(e,t,n,i,r){this.itemTemplate=e,this.containsUniqueItems=t,this.uniquePropertyKey=n,this.containsPrimitiveValues=Wn(n),this.createSourceHash=i,this.isOrdered=r}function k(e,t,n){this.acceptedTypes=e,this.isNullable=t,this.defaultValue=n,this.hash={};for(var i=0;i<e.length;i+=1)this.hash[e[i]]=!0}function le(e,t,n){this.dataTemplate=e,this.isNullable=t,this.defaultValue=n}function fe(e,t,n){for(var i in this.enumeration=e,this.isNullable=t,this.defaultValue=n,this.hash={},e)this.hash[e[i]]=i}function pN(e,t,n){var i={},r={},o=new le({calloutMaximumVisibility:new fe(ne,!1,t.calloutMaximumVisibility),showCallout:new k(["boolean"],!1,t.showCallout),calloutPlacementOffset:new k(["number"],!1,t.calloutPlacementOffset),orientationType:new fe(Me,!1,t.orientationType),defaultTemplateName:new k(["string"],!0),defaultCalloutTemplateName:new k(["string"],!0),calloutfillColor:new k(["string"],!1,t.calloutfillColor),calloutBorderColor:new k(["string"],!0),calloutOffset:new k(["number"],!1,t.calloutOffset),calloutCornerRadius:new k(["string"],!1,t.calloutCornerRadius),calloutPointerWidth:new k(["string"],!1,t.calloutPointerWidth),calloutLineWidth:new k(["number"],!1,t.calloutLineWidth),calloutOpacity:new k(["number"],!1,t.calloutOpacity),items:new Ze(new le({id:new k(["string","number"],!0),showCallout:new fe($e,!1,t.showCallout),calloutTemplateName:new k(["string"],!0),templateName:new k(["string"],!0)}),!0,"id")});return{process:function s(){var u={isChanged:!1,hash:r};return i=o.read(i,e.getOptions(),"options",u),u.isChanged},getOptions:function l(){return i},getItemOptions:function a(u){return r["options-items"][u]},description:"Checks item callout options."}}function gN(e,t){var n={},i={},r=new le({arrowsDirection:new fe(tt,!1,t.arrowsDirection),showExtraArrows:new k(["boolean"],!1,t.showExtraArrows),extraArrowsMinimumSpace:new k(["number"],!1,t.extraArrowsMinimumSpace),connectorType:new fe(rs,!1,t.hasOwnProperty("connectorType")?t.connectorType:rs.Squared),showNeigboursConnectorsHighlighted:new fe(rs,!1,!!t.hasOwnProperty("showNeigboursConnectorsHighlighted")&&t.showNeigboursConnectorsHighlighted),elbowType:new fe(Zr,!1,t.elbowType),bevelSize:new k(["number"],!1,t.bevelSize),elbowDotSize:new k(["number"],!1,t.elbowDotSize),linesColor:new k(["string"],!1,t.linesColor),linesWidth:new k(["number"],!1,t.linesWidth),linesType:new fe(It,!1,t.linesType),highlightLinesColor:new k(["string"],!1,t.highlightLinesColor),highlightLinesWidth:new k(["number"],!1,t.highlightLinesWidth),highlightLinesType:new fe(It,!1,t.highlightLinesType)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n},description:"Checks connector lines drawing options."}}function mN(e,t){var n={},i={},r={},o=new le({items:new Ze(new le({id:new k(["string","number"],!0),parents:new Ze(new k(["string","number"],!0),!0),isActive:new k(["boolean"],!1,t.isActive)}),!0,"id",!0)});return{process:function s(){var u={isChanged:!1,hash:i,sourceHash:r};return n=o.read(n,e.getOptions(),"options",u),u.isChanged},getItems:function a(){return n.items},getConfig:function l(u){return r["options-items"][u]}}}function vN(e,t){var n={},i={},r={},o=new le({items:new Ze(new le({id:new k(["string","number"],!0),title:new k(["string"],!0),description:new k(["string"],!0),image:new k(["string"],!0),context:new k(["string","number","object"],!0),itemTitleColor:new k(["string"],!1,t.itemTitleColor),groupTitle:new k(["string"],!1,t.groupTitle),groupTitleColor:new k(["string"],!1,t.groupTitleColor)}),!0,"id",!0,!0)});return{process:function s(){var u={isChanged:!1,hash:i,sourceHash:r};return n=o.read(n,e.getOptions(),"options",u),u.isChanged},getItems:function a(){return n.items},getConfig:function l(u){return r["options-items"][u]},description:"Checks items configuration options effecting their placement in layout."}}function sr(){}function yN(e,t,n){var i={},r={},o=new le({defaultTemplateName:new k(["string"],!0),defaultLabelAnnotationTemplate:new k(["string"],!0),hasSelectorCheckbox:new fe($e,!1,t.hasSelectorCheckbox),hasButtons:new fe($e,!1,t.hasButtons),buttonsPanelSize:new k(["number"],!1,t.buttonsPanelSize),groupTitlePanelSize:new k(["number"],!1,t.groupTitlePanelSize),groupTitlePlacementType:new fe(St,!1,t.groupTitlePlacementType),checkBoxPanelSize:new k(["number"],!1,t.checkBoxPanelSize),selectCheckBoxLabel:new k(["string"],!1,t.selectCheckBoxLabel),onButtonsRender:new sr,pageFitMode:new fe(Wt,!1,t.pageFitMode),padding:new le({left:new k(["number"],!1,t.padding.left),top:new k(["number"],!1,t.padding.top),right:new k(["number"],!1,t.padding.right),bottom:new k(["number"],!1,t.padding.bottom)},!1,t.padding),minimalVisibility:new fe(ne,!1,t.minimalVisibility),selectionPathMode:new fe(va,!1,t.selectionPathMode),autoSizeMinimum:new le({width:new k(["number"],!1,t.autoSizeMinimum.width),height:new k(["number"],!1,t.autoSizeMinimum.height)},!1,t.autoSizeMinimum),autoSizeMaximum:new le({width:new k(["number"],!1,t.autoSizeMaximum.width),height:new k(["number"],!1,t.autoSizeMaximum.height)},!1,t.autoSizeMaximum),scale:new k(["number"],!1,t.scale),maximumScale:new k(["number"],!1,t.maximumScale),minimumScale:new k(["number"],!1,t.minimumScale),normalLevelShift:new k(["number"],!1,t.normalLevelShift),dotLevelShift:new k(["number"],!1,t.dotLevelShift),lineLevelShift:new k(["number"],!1,t.lineLevelShift),normalItemsInterval:new k(["number"],!1,t.normalItemsInterval),dotItemsInterval:new k(["number"],!1,t.dotItemsInterval),lineItemsInterval:new k(["number"],!1,t.lineItemsInterval),cousinsIntervalMultiplier:new k(["number"],!1,t.cousinsIntervalMultiplier),verticalAlignment:new fe(Re,!1,t.verticalAlignment),items:new Ze(new le({id:new k(["string","number"],!0),groupTitle:new k(["string","number"],!0),isVisible:new k(["boolean","number"],!1,n.isVisible),isActive:new k(["boolean","number"],!1,n.isActive),hasSelectorCheckbox:new fe($e,!1,n.hasSelectorCheckbox),hasButtons:new fe($e,!1,n.hasButtons),templateName:new k(["string"],!0)}),!0,"id")});return{process:function s(){var u={isChanged:!1,hash:r};return i=o.read(i,e.getOptions(),"options",u),u.isChanged},getItemOptions:function a(u){return r["options-items"][u]},getOptions:function l(){return i},description:"Checks items size options."}}function wN(e,t){var n={},i={},r=new le({pageFitMode:new fe(Wt,!1,t.pageFitMode),minimalVisibility:new fe(ne,!1,t.minimalVisibility),minimumVisibleLevels:new k(["number"],!1,t.minimumVisibleLevels)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n},description:"Checks minimum visible levels options."}}function TN(e,t,n){var i={},r={},o=new le({showLabels:new fe($e,!1,t.showLabels),labelOffset:new k(["number"],!1,t.labelOffset),labelFontSize:new k(["string"],!1,t.labelFontSize),labelFontFamily:new k(["string"],!1,t.labelFontFamily),labelFontStyle:new k(["string"],!1,t.labelFontStyle),labelFontWeight:new k(["string"],!1,t.labelFontWeight),labelColor:new k(["string"],!1,t.labelColor),labelSize:new le({width:new k(["number"],!1,t.labelSize.width),height:new k(["number"],!1,t.labelSize.height)},!1,t.labelSize),labelOrientation:new fe(He,!1,t.labelOrientation),labelPlacement:new fe(ce,!1,t.labelPlacement),arrowsDirection:new fe(tt,!1,t.arrowsDirection),items:new Ze(new le({id:new k(["string","number"],!0),label:new k(["string","number","object"],!0),showLabel:new fe($e,!1,n.showLabel),labelSize:new le({width:new k(["number"],!1,0),height:new k(["number"],!1,0)},!0),labelOrientation:new fe(He,!1,n.labelOrientation),labelPlacement:new fe(ce,!1,n.labelPlacement)}),!0,"id")});return{process:function s(){var c={isChanged:!1,hash:r};return i=o.read(i,e.getOptions(),"options",c),c.isChanged},getItemOptions:function l(c){return r["options-items"][c]},getItemsOptions:function a(){return r["options-items"]},getOptions:function u(){return i},description:"Checks items labels options."}}function _N(e,t,n){var i={},r={},o=new le({groupTitleVerticalAlignment:new fe(Re,!1,t.groupTitleVerticalAlignment),groupTitleHorizontalAlignment:new fe(Qe,!1,t.groupTitleHorizontalAlignment),groupTitleOrientation:new fe(He,!1,t.groupTitleOrientation),groupTitleFontSize:new k(["string"],!1,t.groupTitleFontSize),groupTitleFontFamily:new k(["string"],!1,t.groupTitleFontFamily),groupTitleColor:new k(["string"],!1,t.groupTitleColor),groupTitleFontWeight:new k(["string"],!1,t.groupTitleFontWeight),groupTitleFontStyle:new k(["string"],!1,t.groupTitleFontStyle),itemTitleFirstFontColor:new k(["string"],!1,t.itemTitleFirstFontColor),itemTitleSecondFontColor:new k(["string"],!1,t.itemTitleSecondFontColor),selectCheckBoxLabel:new k(["string"],!1,t.selectCheckBoxLabel),onItemRender:new sr,onCursorRender:new sr,onHighlightRender:new sr,onGroupTitleRender:new sr,templates:new Ze(new le({name:new k(["string"],!0),isActive:new k(["boolean"],!1,n.isActive),itemSize:new le({width:new k(["number"],!1,n.itemSize.width),height:new k(["number"],!1,n.itemSize.height)},!1,n.itemSize),itemBorderWidth:new k(["number"],!1,n.itemBorderWidth),itemTemplate:new k(["string","object"],!0),minimizedItemShapeType:new fe(Pt,!0),minimizedItemSize:new le({width:new k(["number"],!1,n.minimizedItemSize.width),height:new k(["number"],!1,n.minimizedItemSize.height)},!1,n.minimizedItemSize),minimizedItemCornerRadius:new k(["number"],!0),minimizedItemLineWidth:new k(["number"],!1,n.minimizedItemLineWidth),minimizedItemBorderColor:new k(["string"],!0),minimizedItemLineType:new fe(It,!1,n.minimizedItemLineType),minimizedItemFillColor:new k(["string"],!0),minimizedItemOpacity:new k(["number"],!1,n.minimizedItemOpacity),highlightPadding:new le({left:new k(["number"],!1,n.highlightPadding.left),top:new k(["number"],!1,n.highlightPadding.top),right:new k(["number"],!1,n.highlightPadding.right),bottom:new k(["number"],!1,n.highlightPadding.bottom)},!1,n.highlightPadding),highlightBorderWidth:new k(["number"],!1,n.highlightBorderWidth),highlightTemplate:new k(["string","object"],!0),cursorPadding:new le({left:new k(["number"],!1,n.cursorPadding.left),top:new k(["number"],!1,n.cursorPadding.top),right:new k(["number"],!1,n.cursorPadding.right),bottom:new k(["number"],!1,n.cursorPadding.bottom)},!1,n.cursorPadding),cursorBorderWidth:new k(["number"],!1,n.cursorBorderWidth),cursorTemplate:new k(["string","object"],!0),hasButtons:new fe($e,!1,n.hasButtons),onButtonsRender:new sr}),!0,"name")});return{process:function s(){var l={isChanged:!1,hash:r};return i=o.read(i,e.getOptions(),"options",l),l.isChanged},getOptions:function a(){return i},description:"Checks items template options."}}function CN(e,t){var n={},i={},r=new le({orientationType:new fe(Me,!1,t.orientationType)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n},description:"Checks diagram orientation options."}}function bN(e){var t={},n={},i=new le({minimizedItemShapeType:new fe(Pt,!0),items:new Ze(new le({id:new k(["string","number"],!0),minimizedItemShapeType:new fe(Pt,!0),itemTitleColor:new k(["string"],!0)}),!0,"id")});return{process:function r(){var a={isChanged:!1,hash:n};return t=i.read(t,e.getOptions(),"options",a),a.isChanged},getItemOptions:function o(a){return n["options-items"][a]},getOptions:function s(){return t},description:"Checks minimized items drawing options."}}function DN(e,t){var n={},i=new le({cursorItem:new k(["string","number"],!0),navigationMode:new fe(Qr,!1,t.navigationMode)});return{process:function r(){var a={isChanged:!1};return n=i.read(n,e.getOptions(),"options",a),a.isChanged},getCursorItem:function o(){return n.cursorItem},hasCursorEnabled:function s(){switch(n.navigationMode){case Qr.Default:case Qr.CursorOnly:return!0}return!1},description:"Checks currenct cursor item option."}}function SN(e,t){var n={},i=new le({highlightItem:new k(["string","number"],!0),navigationMode:new fe(Qr,!1,t.navigationMode),highlightGravityRadius:new k(["number"],!1,t.highlightGravityRadius)});return{process:function r(){var l={isChanged:!1};return n=i.read(n,e.getOptions(),"options",l),l.isChanged},getHighlightItem:function o(){return n.highlightItem},hasHighlightEnabled:function a(){switch(n.navigationMode){case Qr.Default:case Qr.HighlightOnly:return!0}return!1},getGravityRadius:function s(){return n.highlightGravityRadius},description:"Checks highlight item option."}}function IN(e){var t={},n={},i=new le({selectedItems:new Ze(new k(["string","number"],!0),!0)});return{process:function r(){var s={isChanged:!1,hash:n},a=e.getOptions();return t=i.read(t,a,"options",s),s.isChanged},getSelectedItems:function o(){return t.selectedItems},description:"Checks user selected items option."}}function PN(e,t){var n={},i=new le({selectionPathMode:new fe(va,!1,t.selectionPathMode)});return{process:function r(){var s={isChanged:!1};return n=i.read(n,e.getOptions(),"options",s),s.isChanged},getSelectionPathMode:function o(){return n.selectionPathMode},description:"Checks cursor selection path option."}}function MN(e){var t={annotations:{}};return{process:function n(){var s,a,l,u,c,h,o=e.getOptions().annotations,f={};if(Array.isArray(o))for(s=0,a=o.length;s<a;s+=1){switch(u=(l=o[s]).annotationType){case tn.Shape:case tn.Connector:case tn.HighlightPath:c=l.zOrderType===lt.Background?lt.Background:lt.Foreground;break;default:c=null}null!=u&&(f.hasOwnProperty(h=1e3*u+(c||0))||(f[h]=[]),f[h].push(l))}return t.annotations=f,!0},getAnnotations:function i(r,o){return t.annotations[1e3*r+(o||0)]}}}function f_(e,t,n){var i=[],r={},o=new Ze(new le({zOrderType:new fe(lt,!1,t.zOrderType),items:new Ze(new k(["string","number"],!0),!0),shapeType:new fe(Pt,!1,t.shapeType),offset:new le({left:new k(["number"],!1,t.offset.left),top:new k(["number"],!1,t.offset.top),right:new k(["number"],!1,t.offset.right),bottom:new k(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new k(["number"],!1,t.lineWidth),cornerRadius:new k(["string"],!1,t.cornerRadius),opacity:new k(["number"],!1,t.opacity),borderColor:new k(["string"],!1,t.borderColor),fillColor:new k(["string"],!1,t.fillColor),lineType:new fe(It,!1,t.lineType),selectItems:new k(["boolean"],!1,t.selectItems),label:new k(["string","object"],!1,t.label),labelSize:new le({width:new k(["number"],!1,t.labelSize.width),height:new k(["number"],!1,t.labelSize.height)},!1,t.labelSize),labelPlacement:new fe(ce,!1,t.labelPlacement),labelOffset:new k(["number"],!1,t.labelOffset)},!1));return{process:function s(){var l={isChanged:!1,hash:r};return i=o.read(i,e.getAnnotations(tn.Shape,n),"annotations",l),l.isChanged},getAnnotations:function a(){return i}}}function d_(e,t,n){var r=[],o={},s=new Ze(new le({zOrderType:new fe(lt,!1,t.zOrderType),lineWidth:new k(["number"],!1,t.lineWidth),opacity:new k(["number"],!1,t.opacity),color:new k(["string"],!1,t.color),lineType:new fe(It,!1,t.lineType),items:new Ze(new k(["string","number"],!0),!1),selectItems:new k(["boolean"],!1,t.selectItems),showArrows:new k(["boolean"],!1,t.showArrows)},!1));return{process:function a(){var u={isChanged:!1,hash:o};return r=s.read(r,e.getAnnotations(tn.HighlightPath,n),"annotations",u),u.isChanged},getAnnotations:function l(){return r}}}function p_(e,t,n){var i=[],r={},o=new Ze(new le({zOrderType:new fe(lt,!1,t.zOrderType),fromItem:new k(["string","number"],!0),toItem:new k(["string","number"],!0),connectorShapeType:new fe(Pt,!1,t.connectorShapeType),connectorPlacementType:new fe(Du,!1,t.connectorPlacementType),labelPlacementType:new fe(Yr,!1,t.labelPlacementType),offset:new le({left:new k(["number"],!1,t.offset.left),top:new k(["number"],!1,t.offset.top),right:new k(["number"],!1,t.offset.right),bottom:new k(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new k(["number"],!1,t.lineWidth),color:new k(["string"],!1,t.color),lineType:new fe(It,!1,t.lineType),selectItems:new k(["boolean"],!1,t.selectItems),label:new k(["string","object"],!1,t.label),labelSize:new le({width:new k(["number"],!1,t.labelSize.width),height:new k(["number"],!1,t.labelSize.height)},!1,t.labelSize)}),!1);return{process:function s(){var l={isChanged:!1,hash:r};return i=o.read(i,e.getAnnotations(tn.Connector,n),"annotations",l),l.isChanged},getAnnotations:function a(){return i}}}function kN(e,t){var n=[],i={},r=new Ze(new le({items:new Ze(new k(["string","number"],!0),!0),includeChildren:new k(["boolean"],!1,t.includeChildren),zOrderType:new fe(lt,!1,t.zOrderType),offset:new le({left:new k(["number"],!1,t.offset.left),top:new k(["number"],!1,t.offset.top),right:new k(["number"],!1,t.offset.right),bottom:new k(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new k(["number"],!1,t.lineWidth),opacity:new k(["number"],!1,t.opacity),borderColor:new k(["string"],!1,t.borderColor),fillColor:new k(["string"],!1,t.fillColor),lineType:new fe(It,!1,t.lineType),selectItems:new k(["boolean"],!1,t.selectItems)}),!1);return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getAnnotations(tn.Background,null),"annotations",a),a.isChanged},getAnnotations:function s(){return n}}}function xN(e,t){var n=[],i={},r=new Ze(new le({levels:new Ze(new k(["string","number"],!0),!0),title:new k(["string"],!0),titleFontColor:new k(["string"],!0),titleColor:new k(["string"],!0),offset:new le({left:new k(["number"],!1,t.offset.left),top:new k(["number"],!1,t.offset.top),right:new k(["number"],!1,t.offset.right),bottom:new k(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new le({left:new k(["number"],!1,t.lineWidth.left),top:new k(["number"],!1,t.lineWidth.top),right:new k(["number"],!1,t.lineWidth.right),bottom:new k(["number"],!1,t.lineWidth.bottom)},!1,t.lineWidth),opacity:new k(["number"],!1,t.opacity),borderColor:new k(["string"],!0),fillColor:new k(["string"],!1,t.fillColor),lineType:new fe(It,!1,t.lineType)}),!1);return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getAnnotations(tn.Level,null),"annotations",a),a.isChanged},getAnnotations:function s(){return n},description:"Collects Level Annotations"}}function EN(e,t){var n={},i={},r=new le({scale:new k(["number"],!1,t.scale),minimumScale:new k(["number"],!1,t.minimumScale),maximumScale:new k(["number"],!1,t.maximumScale)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n},description:"Checks control scale options."}}function ON(e,t){var n={},i={},r=new le({showFrame:new k(["boolean"],!1,t.showFrame),frameInnerPadding:new le({left:new k(["number"],!1,t.frameInnerPadding.left),top:new k(["number"],!1,t.frameInnerPadding.top),right:new k(["number"],!1,t.frameInnerPadding.right),bottom:new k(["number"],!1,t.frameInnerPadding.bottom)},!1,t.frameInnerPadding),frameOuterPadding:new le({left:new k(["number"],!1,t.frameOuterPadding.left),top:new k(["number"],!1,t.frameOuterPadding.top),right:new k(["number"],!1,t.frameOuterPadding.right),bottom:new k(["number"],!1,t.frameOuterPadding.bottom)},!1,t.frameOuterPadding)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n},description:"Checks frame options."}}function AN(e,t){var n={},i={},r=new le({levelTitlePlaceInside:new k(["boolean"],!1,t.levelTitlePlaceInside),levelTitlePanelSize:new k(["number"],!1,t.levelTitlePanelSize),levelTitlePlacementType:new fe(St,!1,t.levelTitlePlacementType)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n},description:"Level annotation title placement options."}}function LN(e,t){var n={},i={},r=new le({levelTitleOrientation:new fe(He,!1,t.levelTitleOrientation),levelTitleVerticalAlignment:new fe(Re,!1,t.levelTitleVerticalAlignment),levelTitleHorizontalAlignment:new fe(Qe,!1,t.levelTitleHorizontalAlignment),levelTitleFontSize:new k(["string"],!1,t.levelTitleFontSize),levelTitleFontFamily:new k(["string"],!1,t.levelTitleFontFamily),levelTitleFontColor:new k(["string"],!1,t.levelTitleFontColor),levelTitleColor:new k(["string"],!1,t.levelTitleColor),levelTitleFontWeight:new k(["string"],!1,t.levelTitleFontWeight),levelTitleFontStyle:new k(["string"],!1,t.levelTitleFontStyle),onLevelTitleRender:new sr,onLevelBackgroundRender:new sr});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n},description:"Level annotation title template options."}}function FN(e,t){return{process:function n(){return!0},getConfig:function i(r){return e.getConfig(r)||null!=t&&t.getConfig(r)}}}function Ed(e,t,n,i,r){this.templateConfig=e,this.itemTemplate=t,this.highlightTemplate=n,this.dotHighlightTemplate=i,this.cursorTemplate=r}function NN(e,t){var n={templates:{},itemTemplates:[]},i="DefaultWidgetTemplate",r="DefaultWidgetLabelAnnotationTemplate";return{process:function o(){var u,c,h,f=e.getOptions(),d=f.templates;for(n.templates={},n.itemTemplates=[],h=new xd,n.templates[i]=new Ed(h,new t.ItemTemplate(f,h),new t.HighlightTemplate(f,h),new t.DotHighlightTemplate(f,h),new t.CursorTemplate(f,h)),n.itemTemplates.push(n.templates[i]),h=function s(u){var c=new xd;return c.name=u,c.isActive=!1,c.itemSize=new Te(100,20),c.minimizedItemSize=new Te(0,0),c.minimizedItemCornerRadius=c.minimizedItemSize.width/2,c}(r),n.templates[r]=new Ed(h,new t.LabelAnnotationTemplate,null,new t.DotHighlightTemplate(f,h),null),u=0,c=d.length;u<c;u+=1)n.templates[(h=d[u]).name]=new Ed(h,Wn(h.itemTemplate)?new t.ItemTemplate(f,h):new t.UserTemplate(f,h.itemTemplate,f.onItemRender),Wn(h.highlightTemplate)?new t.HighlightTemplate(f,h):new t.UserTemplate(f,h.highlightTemplate,f.onHighlightRender),new t.DotHighlightTemplate(f,h),Wn(h.cursorTemplate)?new t.CursorTemplate(f,h):new t.UserTemplate(f,h.cursorTemplate,f.onCursorRender)),n.itemTemplates.push(n.templates[h.name]);return!0},getTemplate:function a(u,c,h){return n.templates[u]||n.templates[c]||n.templates[h]},getItemTemplates:function l(){return n.itemTemplates},DefaultWidgetTemplateName:i,DefaultWidgetLabelAnnotationTemplateName:r}}function RN(e,t){var n={items:[]},i={},r=new Ze(new k(["string","number"],!0),!0);return{process:function o(){var l={isChanged:!1,hash:i},u=e.getOptions();return n.items=r.read(n.items,function s(l,u){var h,f,c=[];for(h=0,f=u.length;h<f;h+=1){var d=u[h],p=t.getTemplate(d.templateName,l.defaultTemplateName,t.DefaultWidgetTemplateName);d.isActive&&p.templateConfig.isActive&&c.push(d.id)}return c}(u,u.items),"items",l),l.isChanged},getActiveItems:function a(){return i.items}}}function g_(){this.template=null,this.isActive=!1,this.hasSelectorCheckbox=!1,this.hasButtons=!1,this.hasGroupTitle=!1,this.onButtonsRender=null}function BN(e,t,n){var i={items:{}};function o(a,l,u){var c=!1;switch(l){case $e.Auto:switch(u){case $e.Auto:c=a;break;case $e.True:c=!0;break;case $e.False:c=!1}break;case $e.True:c=!0;break;case $e.False:c=!1}return c}return{process:function r(){var c,h,a=e.getOptions(),l=t.getCursorItem(),u=a.items;for(i.items={},c=0,h=u.length;c<h;c+=1){var f=u[c],d=new g_,p=l==f.id,g=n.getTemplate(f.templateName,a.defaultTemplateName,n.DefaultWidgetTemplateName),m=g.templateConfig,w=null!=a.onButtonsRender||null!=m.onButtonsRender;d.template=g,d.isActive=f.isActive&&m.isActive,d.isActive&&(d.hasSelectorCheckbox=o(p,f.hasSelectorCheckbox,a.hasSelectorCheckbox),d.hasButtons=m.hasButtons!==$e.Auto?m.hasButtons==$e.True:w&&o(p,f.hasButtons,a.hasButtons),d.hasButtons&&(d.onButtonsRender=m.onButtonsRender||a.onButtonsRender)),d.hasGroupTitle=!Wn(f.groupTitle),i.items[f.id]=d}return!0},getTemplateParams:function s(a){return i.items[a]}}}function zN(e,t){var n={template:null};return{process:function i(){return n.template=null,!0},getTemplate:function r(){var o;if(null==n.template){o=e.getOptions();var{onGroupTitleRender:s}=o;n.template=null!=s?new t.CustomRenderTemplate(o,s):new t.GroupTitleTemplate(o)}return n.template}}}function HN(e,t){var n={template:null};return{process:function i(){return n.template=null,!0},getTemplate:function r(){var o;return null==n.template&&(o=e.getOptions(),n.template=new t.CheckBoxTemplate(o.selectCheckBoxLabel)),n.template}}}function VN(e,t){var n={template:null};return{process:function i(){return!1},getTemplate:function r(){return null==n.template&&(n.template=new t.ButtonsTemplate),n.template}}}function jN(e,t){var n={template:null};return{process:function i(){return!1},getTemplate:function r(){return null==n.template&&(n.template=new t.AnnotationLabelTemplate),n.template}}}function $N(e,t,n){var i={backgroundTemplate:null,titleTemplate:null};return{process:function r(){return i.backgroundTemplate=null,i.titleTemplate=null,!0},getBackgroundTemplate:function o(){var a;if(null==i.backgroundTemplate){a=t.getOptions();var{onLevelBackgroundRender:l}=a;i.backgroundTemplate=null!=l?new n.CustomRenderTemplate(a,l):new n.LevelBackgroundTemplate(a)}return i.backgroundTemplate},getTitleTemplate:function s(){var a;if(null==i.titleTemplate){var{orientationType:l}=e.getOptions();a=t.getOptions();var{onLevelTitleRender:u}=a;i.titleTemplate=null!=u?new n.CustomRenderTemplate(a,u):new n.LevelTitleTemplate(a,l)}return i.titleTemplate}}}function wa(e){var t={},n={},i={},r={},o={};function m(L,B,j){var U,q,G,oe;if(null!=t[B]&&null!=(U=i[B]))for(G=0,oe=U.length;G<oe&&!j.call(L,q=U[G],t[q],G,oe-1);G+=1);}function b(L){var B=null;return null!=n[L]&&(B=n[L]),B}function F(L,B){var j,U=L.length;for(j=0;j<U;j+=1)if(L[j]==B)return L.splice(j,1),U-1;return U}function O(L){return t[L]}function re(L,B,j){if(null!=j&&t.hasOwnProperty(B)){var U=b(B);if(null!=U&&j.call(L,U,t[U]))return;m(L,U,function(q,G){q!=B&&j.call(L,q,G)}),m(L,B,function(q,G){j.call(L,q,G)})}}return function l(L){ya(L)&&(t=Zt(L.nodes,!0),n=Zt(L.parents,!0),i=Zt(L.children,!1),r=Zt(L.roots,!1),o=Zt(L.rootChildren,!0))}(e),{loop:function u(L,B){var j;if(null!=B)for(j in t)if(t.hasOwnProperty(j)&&B.call(L,j,t[j]))break},loopLevels:function c(L,B,j){var G,oe,ge,je,Rt,wt,U=0,q=[];switch(arguments.length){case 2:oe=B;break;case 3:G=B,oe=j}if(null!=oe){if(null==G)for(je in o)o.hasOwnProperty(je)&&(q=q.concat(o[je]));else null!=i[G]&&(q=q.concat(i[G]));for(;q.length>0;){for(ge=[],Rt=0,wt=q.length;Rt<wt;Rt+=1)switch(G=q[Rt],oe.call(L,G,t[G],U)){case 1:ge=[];break;case 2:break;default:null!=i[G]&&(ge=ge.concat(i[G]))}q=ge,U+=1}}},loopParents:function g(L,B,j,U){var q=B;if(null!=t[q]&&null!=j){if(!0===U&&j.call(L,q,t[q]))return;for(;null!=(q=n[q])&&!j.call(L,q,t[q]););}},loopChildren:m,loopChildrenRange:function w(L,B,j,U,q){var G,oe,ge;if(null!=t[B]&&null!=(G=i[B]))if(j<U)for(j=Math.max(j,0),U=Math.min(U,G.length-1),ge=j;ge<=U&&!q.call(L,oe=G[ge],t[oe],ge,NaN);ge+=1);else for(j=Math.min(j,G.length-1),U=Math.max(0,U),ge=j;ge>=U&&!q.call(L,oe=G[ge],t[oe],ge,NaN);ge-=1);},loopChildrenReversed:function v(L,B,j){var U,q,G,oe;if(null!=t[B]&&(oe=(U=i[B]).length-1,null!=U))for(G=oe;G>=0&&!j.call(L,q=U[G],t[q],G,oe);G-=1);},loopPostOrder:function h(L,B){var U,q,G,oe,ge,j=[];if(null!=B){for(q in o)o.hasOwnProperty(q)&&(j=j.concat(o[q]));for(;j.length>0;)if((U=j[j.length-1])!=oe&&null!=(ge=i[U]))for(G=ge.length-1;G>=0;G-=1)j.push(ge[G]);else if(j.pop(),B.call(L,U,t[U],oe=n[U],t[oe]))break}},loopPreOrder:function f(L,B,j){var q,G,oe,ge,je,Rt,wt,on,U=[];switch(arguments.length){case 2:on=B;break;case 3:wt=B,on=j}if(null!=on){if(O(wt))U.push(wt);else for(G in o)o.hasOwnProperty(G)&&(U=U.concat(o[G]));for(;U.length>0&&((q=U[U.length-1])==je||!on.call(L,q,t[q],ge=n[q],t[ge]));)if(q!=je&&null!=(Rt=i[q]))for(oe=Rt.length-1;oe>=0;oe-=1)U.push(Rt[oe]);else U.pop(),je=n[q]}},loopEulerWalk:function d(L,B){var U,oe,ge,je,Rt,wt,j=[],q=[],G=0;if(null!=B){for(oe in o)if(o.hasOwnProperty(oe))for(ge=0,je=(wt=o[oe]).length;ge<je;ge+=1)j.push(wt[ge]),q.push(0);for(;j.length>0&&!B.call(L,U=j[ge=j.length-1],t[U],G=q[ge]);)if(U!=Rt&&null!=(wt=i[U]))for(ge=wt.length-1;ge>=0;ge-=1)j.push(wt[ge]),q.push(G+1),ge>0&&(j.push(U),q.push(G));else j.pop(),q.pop(),Rt=n[U]}},loopNeighbours:function J(L,B,j,U){var oe,q={},G=[B],ge=0;if(null!=U&&t.hasOwnProperty(B))for(q[B]=!0;G.length>0;){oe=[];for(var je=0,Rt=G.length;je<Rt;je+=1){var wt=G[je];if(ge>0&&U.call(L,wt,t[wt],ge))return;ge<j&&re(this,wt,function(on,as){q.hasOwnProperty(on)||(oe.push(on),q[on]=!0)})}G=oe,ge+=1}},zipUp:function p(L,B,j,U){var q,G;if(null!=U)for(;null!=B&&null!=j&&B!=j&&!U.call(L,B,q=n[B],j,G=n[j]);)B=q,j=G},parentid:b,parent:function I(L){var B=null;return null!=n[L]&&(B=t[n[L]]),B},adopt:function x(L,B){if(null==t[L]||null==t[B])throw"Both parent and child should be in hierarchy!";if(L==B)throw"Item cannot be parent of itself!";r.hasOwnProperty(B)&&(F(o[r[B]],B)||delete o[r[B]],delete r[B]),n.hasOwnProperty(B)&&(F(i[n[B]],B)||delete i[n[B]]),n[B]=L,null!=i[L]?i[L].push(B):i[L]=[B]},moveChildren:function S(L,B){null!=t[L]&&null!=t[B]&&L!=B&&null!=i[L]&&(m(this,L,function(j,U,q){n[j]=B}),i[B]=null!=i[B]?i[B].concat(i[L]):i[L],delete i[L])},node:O,add:function y(L,B,j,U){var q,G,oe,ge;if(null!=t[B])throw"Node already exists";if(null!=B&&null!=j&&null==t[B]&&(null!=t[L]?(n[B]=L,null!=i[L]?null==U?i[L].push(B):i[L].splice(U,0,B):i[L]=[B]):(r[B]=L,null!=o[L]?null==U?o[L].push(B):o[L].splice(U,0,B):o[L]=[B]),t[B]=j,null!=o[B]))for(i[B]=o[B],delete o[B],q=0,G=(oe=i[B]).length;q<G;q+=1)delete r[ge=oe[q]],n[ge]=B},insert:function T(L,B,j){null!=t[L]&&null!=B&&null==t[B]&&null!=j&&(t[B]=j,null!=i[L]&&(i[B]=i[L]),i[L]=[B],m(this,B,function(U,q,G){n[U]=B}),n[B]=L)},hasNodes:function _(){return!xu(o)},hasChildren:function D(L){return null!=i[L]},countChildren:function P(L){return null!=i[L]?i[L].length:0},countSiblings:function M(L){var B=b(L);return null!=B?i[B].length:0},indexOf:function E(L){var B=b(L);return null!=B?i[B].findIndex(j=>j===L):null},getChild:function A(L,B){var U,j=null;return null!=(U=i[L])&&(j=t[U[B]]),j},arrangeChildren:function C(L,B){var j,U,q;if(B=B.slice(0),null!=t[L])if(null!=i[L]){if(i[L].length!=B.length)throw"Collections of children don't match each other!";for(U=0,q=B.length;U<q;U+=1)if(n[j=B[U]]!=L)throw"Child "+j+" does not belong to given node!";i[L]=B}else if(B.length>0)throw"Collections of children don't match each other!"},validate:function R(){var B,L=!0;for(B in r)if(r.hasOwnProperty(B)&&null!=r[B]){L=!1;break}return L},clone:function H(){return wa({nodes:t,parents:n,children:i,roots:r,rootChildren:o})},BREAK:1,SKIP:2}}function UN(e){this.key=e.key,this.priority=e.priority,this.item=e.item}function m_(e){var t=null,i={};function r(v,C,y){this.key=v,this.priority=C,this.item=y,this.degree=0,this.marked=!1,this.parent=null,this.child=null,this.left=null,this.right=null}function a(v,C){var y=i[v.right];C.right=v.right,C.left=v.key,v.right=C.key,y.left=C.key}function l(v){var C=i[v.left],y=i[v.right];C.right=y.key,y.left=C.key,v.right=v.key,v.left=v.key}function c(){var v=null;return null!=t&&(v=new UN(i[t])),v}function h(){var v=c();if(null!=v){var C=i[t],y=i[C.right];if(null!=C.child){var T=i[C.child],S=i[T.left];C.right=T.key,y.left=S.key,T.left=C.key,S.right=y.key,l(C),delete i[C.key],t=null,f(T.key)}else l(C),delete i[C.key],t=null,y.key!=C.key&&f(y.key)}return v}function f(v){for(var y,C=[],T={},S=v;!T.hasOwnProperty(S);){var _=i[S],b=_.right;for(T[S]=!0,_.parent=null;null!=(y=C[_.degree]);)(e?_.priority>y.priority:_.priority<y.priority)?d(_,y):(d(y,_),_=y),C[_.degree-1]=null;C[_.degree]=_,(null==t||null==i[t]||(e?i[t].priority<=_.priority:i[t].priority>=_.priority))&&(t=_.key),S=b}}function d(v,C){v.degree+=1,l(C);var y=i[v.child];null!=y?(a(y,C),(e?y.priority<C.priority:y.priority>C.priority)&&(v.child=C.key)):v.child=C.key,C.parent=v.key}function p(v,C){var y=i[v];if(e?y.priority>C:y.priority<C)throw"Priority increase is not supported";if(y.priority=C,null!=y.parent){var T=i[y.parent];(e?T.priority<y.priority:T.priority>y.priority)&&(g(T,y),m(T))}(e?i[t].priority<y.priority:i[t].priority>y.priority)&&(t=y.key)}function g(v,C){C.marked=!1,C.parent=null,C.right==C.key?v.child=null:(v.child=C.right,l(C)),v.degree-=1,a(i[t],C)}function m(v){if(null!=v.parent)if(v.marked){var C=i[v.parent];g(C,v),m(C)}else v.marked=!0}return{add:function s(v,C,y){if(i.hasOwnProperty(v))throw"Duplicate keys are not supported!";var T=new r(v,C,y);if(i[v]=T,null==t)T.left=v,T.right=v,t=v;else{var S=i[t];a(S,T),(e?S.priority<T.priority:S.priority>T.priority)&&(t=v)}},getPriority:function u(v){var C=null;return i.hasOwnProperty(v)&&(C=i[v].priority),C},setPriority:p,heapRoot:c,extractRoot:h,deleteKey:function w(v){p(v,e?1/0:-1),h()},validate:function o(){var v=0;for(var C in i)if(i.hasOwnProperty(C)){var y=i[C];if(v+=1,null!=y.child){if(!i.hasOwnProperty(y.child))throw"Child does not exists";var T=i[y.child];if(T.parent!=y.key)throw"Child references wrong parent"}if(null!=y.parent&&!i.hasOwnProperty(y.parent))throw"Parent does not exists";if(null!=y.left){if(!i.hasOwnProperty(y.left))throw"Left does not exists";if((T=i[y.left]).right!=y.key)throw"Left references wrong right"}if(null!=y.right){if(!i.hasOwnProperty(y.right))throw"Right does not exists";if((T=i[y.right]).left!=y.key)throw"Right references wrong left"}}if(null==t&&v>0)throw"Orphans";if(null!=t){if(!i.hasOwnProperty(t))throw"Root node does not exists";if(null!=(y=i[t]).parent)throw"Root node has parent reference";for(var S=[t],_={},b=0;S.length>0;){for(var I=[],D=0,P=S.length;D<P;D+=1)for(var M=i[S[D]];!_.hasOwnProperty(M.key);)_[M.key]=!0,b+=1,null!=M.child&&I.push(M.child),M=i[M.right];S=I}if(v!=b)throw"Tree has loops or orpants"}}}}function Xr(){var e={};function l(v,C,y,T){var _,b,I,D,P,M,S=[];if(S.push(C),y[C]=!0,null!=T)for(;S.length>0;){for(b=[],I=0,D=S.length;I<D;I+=1){if(T.call(v,_=S[I]))return;for(M in P=e[_])P.hasOwnProperty(M)&&!y.hasOwnProperty(M)&&(y[M]=!0,b.push(M))}S=b}}function c(v,C){var T,S,_,y=null,b=0,I=null;for(T in e)if(e.hasOwnProperty(T)){for(_ in b=0,S=e[T])S.hasOwnProperty(_)&&(b+=C.call(v,S[_],T,_));(b>I||null==I)&&(y=T,I=b)}return y}function d(v,C,y,T,S){var b,D,E,A,F,x,O,R,H,J,_={},I=[],P={},M=0;if(null!=y&&null!=T&&(null==C&&(C=c(v,y)),null!=C))for(T.call(v,C),_[C]=!0,M+=1,P[C]=null;M>0;){for(b in I=[],E=null,A=null,F={},_)if(_.hasOwnProperty(b)){for(O in D=!1,x=e[b])if(x.hasOwnProperty(O)&&!P.hasOwnProperty(O))switch(R=y.call(v,x[O],b,O),D=!0,S){case 1:null==F[O]&&(F[O]=0),F[O]+=R,(!A||F[O]>A)&&(E=O,A=F[O]);break;case 2:F[O]=null==F[O]?R:Math.min(F[O],R),(!A||F[O]<A)&&(E=O,A=F[O])}D||I.push(b)}if(null==E)break;for(_[E]=!0,M+=1,P[E]=!0,T.call(v,E),H=0,J=I.length;H<J;H+=1)delete _[I[H]],M-=1}}return{addEdge:function i(v,C,y){(null==e[v]||null==e[v][C])&&null!=y&&(null==e[v]&&(e[v]={}),e[v][C]=y,null==e[C]&&(e[C]={}),e[C][v]=y)},edge:function r(v,C){var y=null;return null!=e[v]&&e[v][C]&&(y=e[v][C]),y},hasNode:function o(v){return e.hasOwnProperty(v)},loopNodes:function a(v,C,y){var T={};if(null==C)for(C in e)e.hasOwnProperty(C)&&(T.hasOwnProperty[C]||l(v,C,T,y));else l(v,C,T,y)},loopNodeEdges:function s(v,C,y){var T,S;if(null!=y&&null!=(T=e[C]))for(S in T)T.hasOwnProperty(S)&&y.call(v,S,T[S])},getSpanningTree:function u(v,C){var S,b,I,D,P,y=wa(),T=m_(!0),_={};for(T.add(v,0,null),_[v]=null;null!=(S=T.extractRoot());){for(I in b=e[S.key])b.hasOwnProperty(I)&&!y.node(I)&&(D=null!=C?C(b[I]):b[I],null==(P=T.getPriority(I))?(T.add(I,D,null),_[I]=S.key.toString()):P<=D&&(T.setPriority(I,D),_[I]=S.key.toString()));y.add(_[S.key],S.key.toString(),{})}return y},getTotalWeightGrowthSequence:function h(v,C,y){d(v,c(v,C),C,y,1)},getMinimumWeightGrowthSequence:function f(v,C,y,T){d(v,C,y,T,2)},getShortestPath:function p(v,C,y,T,S){var D,P,M,E,A,F,x,R,H,_=m_(!1),b={},I={},O={},J=0,re=0;for(R=0,H=y.length;R<H;R+=1)O.hasOwnProperty(P=y[R])||(J+=1,O[P]=!0);for(_.add(C,0,null),I[C]=null;null!=(D=_.extractRoot());){for(P in M=e[D.key])M.hasOwnProperty(P)&&(A=1,null!=T?(A=T.call(v,M[P],D,P),E=D.priority+A):E=D.priority+1,A>=0&&(null!=(b=_.getPriority(P))?b>E&&(_.setPriority(P,E),I[P]=D.key):I.hasOwnProperty(P)||(_.add(P,E,null),I[P]=D.key)));if(O.hasOwnProperty(D.key)){for(F=[],x=D.key;null!=x;)F.push(x),x=I[x];if(S.call(v,F,D.key),(re+=1)>=J)break}}},dfsPath:function g(v,C,y,T){var S=[],_={};if(S.push(C),_[C]=null,C!=y)for(;S.length>0&&!_.hasOwnProperty(y);){var b=S[S.length-1];S.length-=1;var I=e[b];for(var D in I)if(I.hasOwnProperty(D)&&!_.hasOwnProperty(D)&&T.call(v,b,D,I[D])&&(S.push(D),_[D]=b,D==y))break}b=y;for(var P=[];_.hasOwnProperty(b);)P.push(b),b=_[b];var M=[];if(P.length>0)for(var E=P.length-1;E>=0;E-=1)M.push(P[E]);return M},getLevelGraph:function m(v,C,y){var _,b,I,T={},S=[];for(S.push(C),T[C]=1;S.length>0;){for(var D=[],P=0,M=S.length;P<M;P+=1)for(var E in b=T[_=S[P]],I=e[_])I.hasOwnProperty(E)&&(T.hasOwnProperty(E)||y.call(v,_,E,I[E])&&(D.push(E),T[E]=b+1));S=D}var A=Xr();for(_ in e)if(T.hasOwnProperty(_))for(E in b=T[_],I=e[_])T.hasOwnProperty(E)&&b+1==T[E]&&A.addEdge(_,E,I[E]);return A},dfsLoop:function w(v,C,y,T){var b,S=[],_={};for(S.push(C),_[C]=!0;S.length>0;){b=S[S.length-1],S.length-=1;var I=e[b];for(var D in I)if(I.hasOwnProperty(D)&&!_.hasOwnProperty(D)&&y.call(v,b,D,I[D])&&(S.push(D),_[D]=!0,T.call(v,D)))return}}}}function GN(e,t,n,i,r,o,s){var a={graph:null,nodeid:0};return{process:function l(){var h=i.getBundles(),f=r.getBundles(),d=r.getNestedLayoutParentConnectorIds(),p=r.getNestedLayoutBottomConnectorIds(),g=n.getOptions(),m=null!=s?s.getLoops():[];h=h.concat(f);for(var w={graph:Xr(),nodeid:0},v={treeItemsPositions:o.getItemsPositions(),nestedLayoutParentConnectorIds:d,nestedLayoutBottomConnectorIds:p,transform:t.getTransform()},C={connectorType:g.connectorType,showExtraArrows:g.showExtraArrows,bevelSize:g.bevelSize,elbowType:g.elbowType},y=0,T=h.length;y<T;y+=1)h[y].trace(w,v,C);return function u(h,f){for(var d=[],p=1;p>=0;p-=1)for(var g=0,m=f.length;g<m;g+=1){var w=f[g];w.isOppositeFlow==(1==p)&&h.getShortestPath(this,w.from,[w.to],function(C,y,T){return C.weight},function(C,y){for(var T=0,S=C.length-1;T<S;T+=1){var I=h.edge(C[T],C[T+1]);I.polyline.length()>0&&(I.isOppositeFlow=1==p,d.push(I))}})}for(g=0,m=d.length;g<m;g+=1){var v=d[g];v.isOppositeFlow&&(v.hasArrow=!0)}}(w.graph,m),a=w,!0},getGraph:function c(){return a.graph}}}function WN(e,t){var n={highlightTreeItemId:null};return{process:function i(){var o=e.getHighlightItem(),s=null!=t?t.getActiveItems():{};return n.highlightTreeItemId=null!=o&&s.hasOwnProperty(o)?o:null,!0},getHighlightTreeItem:function r(){return n.highlightTreeItemId}}}function qN(e,t){var n={cursorTreeItemId:null};return{process:function i(){var s=e.getCursorItem(),a=null!=t?t.getActiveItems():{};return n.cursorTreeItemId=null!=s&&a.hasOwnProperty(s)?s:null,!0},getCursorTreeItem:function r(){return n.cursorTreeItemId},getItems:function o(){return null!=n.cursorTreeItemId?[n.cursorTreeItemId]:[]}}}function YN(e,t){var n={items:[]},i={},r=new Ze(new k(["string","number"],!0),!0);return{process:function o(){var u={isChanged:!1,hash:i},c=e.getSelectedItems();return n.items=r.read(n.items,function s(u){var f,d,p,c=[],h={};for(f=0,d=u.length;f<d;f+=1)null!=(p=u[f])&&!h.hasOwnProperty(p)&&(h[p]=!0,null!=t.getConfig(p)&&c.push(p));return c}(c),"items",u),u.isChanged},getItems:function l(){return n.items},isSelected:function a(u){return i.items.hasOwnProperty(u)}}}function Ta(e){var t={items:[]},n={},i=new Ze(new k(["string","number"],!0),!0);return{process:function r(){var a={isChanged:!1,hash:n},l=e.getAnnotations();return t.items=i.read(t.items,function o(a){var c,h,f,d,p,m,w,l=[],u={};for(c=0,h=a.length;c<h;c+=1)if((m=a[c]).selectItems)for(f=0,d=(p=m.items).length;f<d;f+=1)null!=(w=p[f])&&!u.hasOwnProperty(w)&&(l.push(w),u[w]=!0);return l}(l),"items",a),a.isChanged},getItems:function s(){return t.items}}}function v_(e){var t={items:[]},n={},i=new Ze(new k(["string","number"],!0),!0);return{process:function r(){var a={isChanged:!1,hash:n},l=e.getAnnotations();return t.items=i.read(t.items,function o(a){var c,h,f,l=[],u={};for(c=0,h=a.length;c<h;c+=1)(f=a[c]).selectItems&&(null!=f.fromItem&&!u.hasOwnProperty(f.fromItem)&&(l.push(f.fromItem),u[f.fromItem]=!0),null!=f.toItem&&!u.hasOwnProperty(f.toItem)&&(l.push(f.toItem),u[f.toItem]=!0));return l}(l),"items",a),a.isChanged},getItems:function s(){return t.items}}}function ZN(e,t){var n={items:[]},i={},r=new Ze(new k(["string","number"],!0),!0);return{process:function o(){var l={isChanged:!1,hash:i},u=t.getTreeLevels(),{pageFitMode:c,minimalVisibility:h,minimumVisibleLevels:f}=e.getOptions();return n.items=r.read(n.items,function s(l,u,c,h){var f=[];if(h>0&&(Wt.PageWidth==u||Wt.PageHeight||Wt.FitToPage)&&c!=ne.Normal){var d=0,p=null;l.loopLevels(this,function(g,m){if(l.loopLevelItems(this,g,function(w,v,C){v.isVisible&&(p!==g&&(p=g,d+=1),f.push(w))}),d>=h)return!0})}return f}(u,c,h,f),"items",l),l.isChanged},getItems:function a(){return n.items}}}function QN(e,t,n,i,r,o,s,a,l,u,c,h,f){var d={items:[]},p={},g=[t,n,i,r,o,s,a,l,u,c,h,f],m=new Ze(new k(["string","number"],!0),!0);return{process:function w(){var y={isChanged:!1,hash:p},T=e.getOptions();return d.items=m.read(d.items,function v(y,T){var _,b,D,P,M,E,S=[],A={};for(_=0,b=y.length;_<b;_+=1)for(D=0,P=(M=y[_].getItems()).length;D<P;D+=1)A.hasOwnProperty(E=M[D])||(S.push(E),A[E]=!0);return S}(g),"items",y),(T.pageFitMode==Wt.None||T.minimalVisibility==ne.Normal)&&(y.isChanged=!1),y.isChanged},isItemSelected:function C(y){return p.items.hasOwnProperty(y)}}}function KN(e,t,n){var i={},r={},o=new le({median:new le({left:new k(["number"],!1,0),top:new k(["number"],!1,0),right:new k(["number"],!1,0),bottom:new k(["number"],!1,0)},!1,new we(0,0,0,0)),thickness:new le({left:new k(["number"],!1,0),top:new k(["number"],!1,0),right:new k(["number"],!1,0),bottom:new k(["number"],!1,0)},!1,new we(0,0,0,0))});return{process:function s(){var c={isChanged:!1,hash:r};return i=o.read(i,function a(){var c=e.getOptions(),h=c.showFrame,f=c.frameInnerPadding,d=c.frameOuterPadding,p=n.getOptions().scale,g=new we(0,0,0,0),m=new we(0,0,0,0);if(h){var C,y,w=new Te(0,0),v=new we(0,0,0,0),T=t.getItemTemplates();for(C=0,y=T.length;C<y;C+=1){var _=T[C].templateConfig,b=new we(_.cursorPadding),I=new we(_.highlightPadding);b.addThickness(_.cursorBorderWidth),I.addThickness(_.highlightBorderWidth),w.maxSize(_.minimizedItemSize),v.maxThickness(_.cursorPadding),v.maxThickness(_.highlightPadding)}(g=new we(Math.ceil(w.width/2)+v.right,Math.ceil(w.height/2)+v.bottom,Math.ceil(w.width/2)+v.left,Math.ceil(w.height/2)+v.top)).addThickness(f),g.scale(p),(m=new we(w.width+v.left+v.right,w.height+v.top+v.bottom,w.width+v.left+v.right,w.height+v.top+v.bottom)).addThickness(f),m.addThickness(d),m.scale(p)}return{median:g,thickness:m}}(),"options",c),c.isChanged},getMedian:function l(){return i.median},getThickness:function u(){return i.thickness}}}function XN(e,t,n,i){var r={},o={},s=new le({thickness:new le({left:new k(["number"],!1,0),top:new k(["number"],!1,0),right:new k(["number"],!1,0),bottom:new k(["number"],!1,0)},!1,new we(0,0,0,0))});return{process:function a(){var c={isChanged:!1,hash:o};return r=s.read(r,function l(){var{levelTitlePlaceInside:c,levelTitlePanelSize:h,levelTitlePlacementType:f}=e.getOptions(),{scale:d}=i.getOptions(),{orientationType:p}=n.getOptions(),g=t.getAnnotations(),m=new we(0,0,0,0);if(g.length>0){if(c&&(h=-h),f===St.Right)switch(p){case Me.Left:m=new we(0,h,0,0);break;case Me.Right:m=new we(0,0,0,h);break;case Me.Top:case Me.Bottom:m=new we(0,0,h,0)}else switch(p){case Me.Left:m=new we(0,0,0,h);break;case Me.Right:m=new we(0,h,0,0);break;case Me.Top:case Me.Bottom:m=new we(h,0,0,0)}m.scale(d)}return{thickness:m}}(),"options",c),c.isChanged},getOptions:function u(){return r}}}function JN(e,t){var n={};return{process:function i(){return n=e(),!0},getOptions:function r(){return n},description:"Raw layout options."}}function eR(e,t,n,i){var r={},o={},s=new le({scrollPanelSize:new le({width:new k(["number"],!0),height:new k(["number"],!0)},!0),optimalPanelSize:new le({width:new k(["number"],!0),height:new k(["number"],!0)},!0),hasFrame:new k(["boolean"],!0),hasLevelTitles:new k(["boolean"],!0)});return{process:function a(){var u=!1,c={isChanged:!1,hash:o},h=e.getOptions(),{pageFitMode:f}=t.getOptions(),d=new we(n.getThickness()),p=new we(i.getOptions().thickness);if(h.hasLevelTitles=!1,p.isPositive()){let g=new Te(h.scrollPanelSize);g.removeThickness(p),h.scrollPanelSize.space()<2*g.space()&&(h.scrollPanelSize=g,h.hasLevelTitles=!0)}if(h.hasFrame=!1,d.isPositive()){let g=new Te(h.scrollPanelSize);g.removeThickness(d),h.scrollPanelSize.space()<2*g.space()&&(h.scrollPanelSize=g,h.hasFrame=!0)}switch(h.optimalPanelSize=new Te(h.scrollPanelSize.width-25,h.scrollPanelSize.height-25),r=s.read(r,h,"layout",c),f){case Wt.PageWidth:case Wt.PageHeight:case Wt.FitToPage:case Wt.None:case Wt.SelectionOnly:u=c.isChanged}return u},getOptions:function l(){return r}}}function tR(e){var t={placeholderOffset:null},n={},i=new le({placeholderOffset:new le({x:new k(["number"],!0),y:new k(["number"],!0)},!0)});return{process:function r(){var s={isChanged:!1,hash:n},a=e.getOptions();return t=i.read(t,a,"layout",s),s.isChanged},getPlaceholderOffset:function o(){return t.placeholderOffset}}}function te(e,t){switch(this.x=null,this.y=null,this.context=null,arguments.length){case 1:this.x=e.x,this.y=e.y,this.context=e.context;break;case 2:this.x=e,this.y=t}}function Jr(e,t,n,i){switch(this.a1=null,this.b1=null,this.a2=null,this.b2=null,arguments.length){case 1:this.a1=e.a1,this.b1=e.b1,this.a2=e.a2,this.b2=e.b2;break;case 4:this.a1=e,this.b1=t,this.a2=n,this.b2=i}}function ft(e,t){switch(this.from=null,this.to=null,this.context=null,arguments.length){case 1:this.from=e.from,this.to=e.to;break;case 2:this.from=e,this.to=t}}function ai(e,t,n){switch(this.from=null,this.to=null,this.context=null,arguments.length){case 1:this.from=e.from,this.to=e.to,this.context=e.context;break;case 2:this.from=e,this.to=t;break;case 3:this.from=e,this.to=t,this.context=n}}function K(e,t,n,i){switch(this.x=null,this.y=null,this.width=null,this.height=null,this.context=null,arguments.length){case 1:this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height;break;case 2:this.x=Math.min(e.x,t.x),this.y=Math.min(e.y,t.y),this.width=Math.abs(t.x-e.x),this.height=Math.abs(t.y-e.y);break;case 4:this.x=e,this.y=t,this.width=n,this.height=i}}function _a(e){if(this.level=null,this.actualVisibility=ne.Normal,this.actualSize=null,this.actualPosition=null,this.contentPosition=null,this.horizontalConnectorsShift=null,this.topConnectorShift=null,this.topConnectorInterval=0,this.bottomConnectorShift=null,this.bottomConnectorInterval=0,this.leftMedianOffset=null,this.rightMedianOffset=null,null!=e)for(var t in e)e.hasOwnProperty(t)&&("actualPosition"===t?this.actualPosition=new K(e.actualPosition):this[t]=e[t])}function y_(e,t,n,i){var o,s,u,c,r=null,a=n||0,l=i||e.length-1;if(e.length>0&&(r={index:a,item:c=e[a]},(o=t(c,a))>0))if(s=Math.abs(o),(o=t(c=e[l],l))>=0)r={index:l,item:c};else for(s>(o=Math.abs(o))&&(s=o,r={index:l,item:c});a+1<l;){if(0===(o=t(c=e[u=Math.round((a+l)/2)],u))){r={index:u,item:c};break}o>0?a=u:l=u,s>(o=Math.abs(o))&&(s=o,r={index:u,item:c})}return r}function w_(e){var t=[];switch(e.sort(function(d,p){return d-p}),e.length){case 0:t.push(new l(0,1e6));break;case 1:var n=e[0];t.push(new l(0,n));break;case 2:var i=e[1];i>2*(n=e[0])?(t.push(new l(0,n)),t.push(new l(n,i))):t.push(new l(0,i));break;default:for(var r=function nR(e){for(var t=[],n=e.length,i=0,r=0;r<n;r+=1)t[r]=i+=e[r];function o(f,d){var p=0,g=(t[d]-t[f]+e[f])/(d-f+1),m=y_(e,function(w){return g-w},f,d);return m.item<=g?(p+=g*(m.index+1-f)-(t[m.index]-t[f]+e[f]),p+=t[d]-t[m.index]-g*(d-m.index)):(p+=g*(m.index-f)-(t[m.index]-t[f]-e[m.index]+e[f]),p+=t[d]-t[m.index]+e[m.index]-g*(d-m.index+1)),p}function s(f,d){var p=0;return p+=o(0,f),d>f+1&&(p+=o(f+1,d-1)),p+o(d,n-1)}for(var a=0,l=n-1,u=s(a,l);a<l+1;){var c=s(a+1,l),h=s(a,l-1);if(c<h){if(c>=u)break;a+=1,u=c}else{if(h>=u)break;l-=1,u=h}}return[a,l-1,n-1]}(e),o=0,s=0;s<r.length;s+=1){var a=e[r[s]];t.push(new l(o,a)),o=a}}function l(d,p){this.minimum=d,this.maximum=p,this.quadTree=function iR(e){var t=Math.max(1,function s(d){return Math.floor(Math.log(d)/Math.log(2))}(e)),n=8,i=256,r=null;function o(d,p,g,m){this.x=d,this.y=p,this.scale=g,this.size=m,this.quadrants=[],this.points=[]}function u(d){var p=d.size/2;d.quadrants=[new o(d.x,d.y,d.scale-1,p),new o(d.x+p,d.y,d.scale-1,p),new o(d.x,d.y+p,d.scale-1,p),new o(d.x+p,d.y+p,d.scale-1,p)];for(var g=0,m=d.points.length;g<m;g+=1){var w=d.points[g],v=Math.floor(w.x),C=Math.floor(w.y);d.quadrants[d.getQuadrantIndex(v,C)].points.push(w)}d.points=null}return r=new o(0,0,n,i),o.prototype.notEnclosed=function(d){return this.x<d.x||this.x+this.size>d.x+d.width||this.y<d.y||this.y+this.size>d.y+d.height},o.prototype.overlaps=function(d){return!(this.x+this.size<d.x||d.x+d.width<this.x||this.y+this.size<d.y||d.y+d.height<this.y)},o.prototype.getQuadrantIndex=function(d,p){var g=this.scale-1;return d>>g&1|(p>>g&1)<<1},{addPoint:function a(d){for(var p=Math.floor(d.x),g=Math.floor(d.y),m=Math.max(p,g);i<=m;){var w=new o(0,0,n+=1,i*=2);u(w),w.quadrants[0]=r,r=w}!function l(d){var p=Math.floor(d.x),g=Math.floor(d.y),m=r;if(p<0||g<0)throw"Negative values are not supported in the quad tree.";for(;(null==m.points||m.points.length>0)&&(m.scale!=t||null==m.points);)null!=m.points&&m.points.length>0&&u(m),m=m.quadrants[m.getQuadrantIndex(p,g)];m.points.push(d)}(d)},loopArea:function c(d,p,g){var m,w,v;if(null!=g)for(var C=[r],y=[];C.length>0||y.length>0;){var T=[],S=[];for(w=0,v=C.length;w<v;w+=1)if((m=C[w]).overlaps(p))if(m.notEnclosed(p))if(null==m.points)for(var _=0;_<4;_+=1)T.push(m.quadrants[_]);else for(var b=0,I=m.points.length;b<I;b+=1){var D=m.points[b];if(p.contains(D)&&g.call(d,D))return}else y.push(m);for(w=0,v=y.length;w<v;w+=1)if(null==(m=y[w]).points)for(_=0;_<4;_+=1)S.push(m.quadrants[_]);else for(b=0,I=m.points.length;b<I;b+=1)if(g.call(d,m.points[b]))return;C=T,y=S}},validate:function h(){for(var d=[r];d.length>0;){for(var p=[],g=0,m=d.length;g<m;g+=1){var w=d[g],v=new K(w.x,w.y,w.size,w.size);if(null!=w.points&&w.quadrants.length>0)return!1;if(null==w.points)for(var C=0;C<4;C+=1)p.push(w.quadrants[C]);else for(var y=0,T=w.points.length;y<T;y+=1)if(!v.contains(w.points[y]))return!1}d=p}return!0},getPositions:function f(d){for(var p=[],m=[r];m.length>0;){for(var w=[],v=0,C=m.length;v<C;v+=1){var y=m[v],T=new K(y.x,y.y,y.size,y.size);T.context={isHighlighted:!1},null!=d&&d.overlaps(T)&&null!=y.points&&y.points.length>0&&(T.context.isHighlighted=!0),p.push(T);for(var S=0;S<4;S+=1){var _=y.quadrants[S];null!=_&&w.push(_)}}m=w}return p}}}(2*p)}return{addRect:function u(d){for(var p=Math.max(d.width,d.height),g=d.centerPoint(),m=0,w=t.length;m<w;m+=1){var v=t[m];if(p<=v.maximum||m==w-1){g.context=d,v.quadTree.addPoint(g);break}}},loopArea:function c(d,p,g){if(null!=g)for(var m=0,w=t.length;m<w;m+=1){var v=t[m],C=new K(p);C.offset(v.maximum/2),v.quadTree.loopArea(this,C,function(y){var T=y.context;if(p.overlaps(T))return g.call(d,T)})}},validate:function h(){for(var d=!0,p=0,g=t.length;p<g;p+=1)d=d&&t[p].quadTree.validate();return d},getPositions:function f(d){for(var p=[],g=0,m=t.length;g<m;g+=1)p=p.concat(t[g].quadTree.getPositions(d));return p}}}function Od(){var e=null;function t(y,T){this.value=y,this.context=T,this.left=null,this.right=null,this.balance=0}function n(y){var T;if(2==y.balance){var S=y.right;(T=S.balance)>=0?function i(y,T){r(y,T),1==y.balance?(T.balance=0,y.balance=0):(T.balance=-1,y.balance=1)}(S,y):function a(y,T){var S=y.left;switch(s(S,y),r(y,T),T.balance=0,S.balance){case 1:y.balance=-1,S.balance=0;break;case 0:S.balance=0,y.balance=0;break;default:S.balance=1,y.balance=0}}(S,y)}else-2==y.balance&&((T=y.left.balance)<=0?function o(y,T){s(y,T),-1==y.balance?(T.balance=0,y.balance=0):(T.balance=1,y.balance=-1)}(y.left,y):function l(y,T){var S=y.right;switch(r(S,y),s(y,T),T.balance=0,S.balance){case-1:S.balance=0,y.balance=1;break;case 0:S.balance=0,y.balance=0;break;default:S.balance=-1,y.balance=0}}(y.left,y));return T}function r(y,T){h(y,T),T.right=y.right,y.right=y.left,y.left=T.left,T.left=y}function s(y,T){h(y,T),T.left=y.left,y.left=y.right,y.right=T.right,T.right=y}function c(y,T){var S=null!=y.right?y.right:y.left;null!=T?T.value>y.value?T.left=S:T.right=S:e=S}function h(y,T){var S=y.value;y.value=T.value,T.value=S;var _=y.context;y.context=T.context,T.context=_}function f(y,T){T.value=y.value,T.context=y.context}function g(y,T,S){if(null!=S){for(var _=[],b=null,I=e;null!=I;)(b=I).value>=T||null==T?(_.push(b),I=b.left):I=b.right;for(;null!=(b=_.pop());){if(S.call(y,b.value,b.context))return;for(I=b.right;null!=I;)if(null!=(b=I).left)_.push(b),I=b.left;else{if(S.call(y,b.value,b.context))return;I=b.right}}}}function w(y,T,S){if(null!=S){for(var _=[],b=null,I=e;null!=I;)(b=I).value<=T||null==T?(_.push(b),I=b.right):I=b.left;for(;null!=(b=_.pop());){if(S.call(y,b.value,b.context))return;for(I=b.left;null!=I;)if(null!=(b=I).right)_.push(b),I=b.right;else{if(S.call(y,b.value,b.context))return;I=b.left}}}}function v(y){var T=[],S=0;if(null!=y)for(T.push(y);T.length>0;){for(var _=[],b=0;b<T.length;b+=1)null!=(y=T[b]).left&&_.push(y.left),null!=y.right&&_.push(y.right);T=_,S+=1}return S}return{add:function u(y,T,S,_){if(null==e)e=new t(y,T);else{for(var b=[],I=null,D=e;null!=D;)if(null!=I&&b.push(I),(I=D).value==y){if(null==_)throw"Structure does not support duplicates.";_.call(S,I.context)}else D=I.value>y?I.left:I.right;b.push(I);var P=new t(y,T);for(I.value>y?I.left=P:I.right=P,I=P;null!=(D=b.pop());){if(I.value<D.value){if(D.balance<0){D.balance-=1,n(D);break}if(D.balance>0){D.balance-=1;break}D.balance-=1}else{if(D.balance>0){D.balance+=1,n(D);break}if(D.balance<0){D.balance+=1;break}D.balance+=1}I=D}}},remove:function d(y){for(var T=[],S=e;null!=S;){if(S.value==y){if(null!=S.right&&null!=S.left){T.push(S);for(var _=S.right;null!=_.left;)T.push(_),_=_.left;f(_,S),c(_,T[T.length-1]),T.push(_)}else c(S,T[T.length-1]),T.push(S);for(var b=T.length-2;b>=0;b-=1){var I=T[b];if(I.value>(S=T[b+1]).value)if(I.balance>0){if(I.balance+=1,0===n(I))break}else{if(0===I.balance){I.balance+=1;break}I.balance+=1}else if(I.balance<0){if(I.balance-=1,0===n(I))break}else{if(0===I.balance){I.balance-=1;break}I.balance-=1}}break}T.push(S),S=S.value>y?S.left:S.right}},loopForward:g,loopBackward:w,nextContext:function p(y){var T=null;return g(this,y,function(S,_){return T=_,!0}),T},previousContext:function m(y){var T=null;return w(this,y,function(S,_){return T=_,!0}),T},validate:function C(){if(null!=e)for(var y=[e];y.length>0;){for(var T=[],S=0;S<y.length;S+=1){var _=y[S];if(null==_.value||null!=_.left&&(T.push(_.left),_.left.value>=_.value)||null!=_.right&&(T.push(_.right),_.right.value<=_.value))return!1;if(_.balance!=v(_.right)-v(_.left))return console.log("Disbalanced node: "+_.value+" - "+JSON.stringify(e)),!1}y=T}return!0}}}function Ad(e){var t=[],n={},i=null,r=null;function s(x){this.context=x,this.items=[]}function a(x,O,R){this.context=x,this.positions={},this.positions[R]=O,this.startLevel=R,this.endLevel=R}function y(x){return null==t[x]&&(t[x]=new s(null),i=null===i?x:Math.min(i,x),r=null===r?x:Math.max(r,x)),t[x]}return function o(x){ya(x)&&(t=Zt(x.levels,!0),n=Zt(x.items,!0),i=Zt(x.minimum,!0),r=Zt(x.maximum,!0))}(e),{addlevel:function c(x,O){y(x).context=O},hasLevel:function v(x){return null!=t[x]},hasItem:function w(x){return n.hasOwnProperty(x)},addItem:function T(x,O,R){var H,J;n.hasOwnProperty(O)?((H=y(x)).items.push(O),(J=n[O]).positions[x]=H.items.length-1,J.startLevel=Math.min(J.startLevel,x),J.endLevel=Math.max(J.endLevel,x)):((H=y(x)).items.push(O),n[O]=new a(R,H.items.length-1,x))},getItemContext:function C(x){var O=null;return n.hasOwnProperty(x)&&(O=n[x].context),O},getLevelIndex:function h(x){return n.hasOwnProperty(x)?n[x].startLevel:null},getEndLevelIndex:function f(x){return n.hasOwnProperty(x)?n[x].endLevel:null},getItemPosition:function d(x,O){var R=n[x];return null!=R?null!=O?R.positions[O]:R.positions[R.startLevel]:null},getItemAtPosition:function p(x,O){var R=t[x],H=null;return null!=R&&(H=R.items[O]),H},loopLevels:function S(x,O){var R,H;if(null!=O)for(R=i;R<=r&&(null==(H=t[R])||!O.call(x,R,H.context));R+=1);},loopLevelsReversed:function _(x,O){var R,H;if(null!=O)for(R=r;R>=i&&(null==(H=t[R])||!O.call(x,R,H.context));R-=1);},loopLevelItems:function I(x,O,R){var H,J,re,L;if(null!=R&&null!=(re=t[O]))for(H=0,J=re.items.length;H<J&&!R.call(x,L=re.items[H],n[L].context,H);H+=1);},getLevelLength:function b(x){var O=0,R=t[x];return null!=R&&(O=R.items.length),O},loopItems:function D(x,O){var R,H,J,re,L,B,j={};if(null!=O)for(re=i;re<=r;re+=1)if(null!=(J=t[re]))for(R=0,H=(L=J.items).length;R<H;R+=1)if(!j.hasOwnProperty(B=L[R])&&(j[B]=!0,O.call(x,B,n[B].context,R,re,J.context)))return},binarySearch:function P(x,O,R){var J,H=null;return null!=R&&null!=(J=t[O])&&(H=y_(J.items,function(re){return R.call(x,re,n[re].context)})),H.item},loopMerged:function M(x,O,R){var H,J,re,L,j,B=[];for(H=0,J=t.length;H<J;H+=1)null!=(re=t[H])&&B.push(re.items);if(j=function oR(e,t,n){var r,o,s,a,l,u,c,h,f,d,p,g,m,i=null;if(0===e.length)i=[];else{for(r=[],a=0;a<e.length;a+=1){for(s=[],h=(o=e[a]).length,l=0,u=0,f=null,p=null,d=null,g=null,(c=r.length)>0&&(f=r[l],p=t?t(f):f),h>0&&(d=o[u],g=t?t(d):d),m=null;l<c||u<h;)l>=c?((!n||m!=d)&&(s.push(d),m=d),(u+=1)<h&&(d=o[u],g=t?t(d):d)):u>=h||p<g?((!n||m!=f)&&(s.push(f),m=f),(l+=1)<c&&(f=r[l],p=t?t(f):f)):((!n||m!=d)&&(s.push(d),m=d),(u+=1)<h&&(d=o[u],g=t?t(d):d));r=s}i=r}return i}(B,O,!0),null!=R)for(H=0,J=j.length;H<J&&!R.call(x,L=j[H],n[L].context);H+=1);},loopFromItem:function E(x,O,R,H,J){var re,L,B,j,U,q,G;if(n.hasOwnProperty(O)&&(re=n[O],j=t[q=J||re.startLevel].items,G=re.positions[q],null!=H))if(R)for(L=G-1;L>=0&&!H.call(x,U=j[L],n[U].context);L-=1);else for(L=G+1,B=j.length;L<B&&!H.call(x,U=j[L],n[U].context);L+=1);},loopLevelsFromItem:function A(x,O,R,H){var J,re,G;if(n.hasOwnProperty(O)&&(J=n[O],null!=H))if(R)for(re=J.endLevel+1;re<=r&&!H.call(x,re,null!=(G=t[re])?G.context:null);re+=1);else for(re=J.startLevel-1;re>=i&&!H.call(x,re,null!=(G=t[re])?G.context:null);re-=1);},getPrevItem:function g(x,O){var R=null;if(n.hasOwnProperty(x)){var H=n[x];R=t[O=O||H.startLevel].items[H.positions[O]-1]}return R},getNextItem:function m(x,O){var R=null;if(n.hasOwnProperty(x)){var H=n[x];R=t[O=O||H.startLevel].items[H.positions[O]+1]}return R},length:function u(){return t.length},isEmpty:function l(){return!t.length},clone:function F(){return Ad({levels:t,items:n,minimum:i,maximum:r})}}}function aR(e,t,n,i,r,o,s){var l,u,c,h,a={treeItemsPositions:{},panelSize:null};return{process:function f(){var _=new Te(s.getContentSize()),{optimalPanelSize:b}=r.getOptions(),{pageFitMode:I}=t.getOptions(),{orientationType:D}=e.getOptions(),{horizontalAlignment:P}=n.getOptions(),{scale:M}=i.getOptions();c=null,h=null,l=null!=o?o.getActiveItems():{},u=s.getItemsPositions();var E=new Te(b);switch(D){case Me.Left:case Me.Right:E.invert()}switch(E.scale(1/M),a.panelSize=E,a.treeItemsPositions=u,I===Wt.AutoSize?a.panelSize=new Te(_):(a.panelSize=new Te(_),_.width<E.width&&(a.treeItemsPositions={},function d(_,b,I,D){var P;switch(D){case Qe.Left:P=0;break;case Qe.Right:P=I-b;break;case Qe.Center:P=(I-b)/2}!function p(_,b,I){var D,P;for(D in u)u.hasOwnProperty(D)&&((P=new _a(u[D])).actualPosition.translate(b,I),_[D]=P)}(_,P,0)}(a.treeItemsPositions,_.width,E.width,P),a.panelSize.width=E.width),_.height<E.height&&(a.panelSize.height=E.height)),D){case Me.Left:case Me.Right:a.panelSize.invert()}return!0},getItemPosition:function y(_){return a.treeItemsPositions[_]},getItemsPositions:function T(){return a.treeItemsPositions},getContentSize:function S(){return a.panelSize},getTreeItemForMousePosition:function w(_,b,I){var E,A,D=null,P=null,M=function m(){if(null==c)for(var _ in c=w_(function g(){var _=[],b={};for(var I in a.treeItemsPositions)if(a.treeItemsPositions.hasOwnProperty(I)){var D=a.treeItemsPositions[I];switch(D.actualVisibility){case ne.Normal:case ne.Dot:case ne.Line:var P=D.actualPosition,M=Math.max(P.width,P.height);b.hasOwnProperty(M)||(b[M]=!0,_.push(M))}}return _}()),a.treeItemsPositions)if(a.treeItemsPositions.hasOwnProperty(_)){var b=a.treeItemsPositions[_];if(l.hasOwnProperty(_))switch(b.actualVisibility){case ne.Normal:case ne.Dot:case ne.Line:var I=new K(b.actualPosition);I.context=_,c.addRect(I)}}return c}();return E=new K(_,b,0,0),A=new te(_,b),E.offset(I,I,I,I),M.loopArea(this,E,function(F){var x=F.context;if(F.contains(_,b))return D=x,!0;switch(a.treeItemsPositions[x].actualVisibility){case ne.Dot:case ne.Line:var R=A.distanceTo(F.horizontalCenter(),F.verticalCenter());(null==P||R<P)&&(P=R,D=x)}}),D},getNextItem:function C(_,b){var D,I=function v(){if(null==h)for(var _ in h=function sR(){var t,n,e=[],i=null;function r(p,g){this.itemid=p,this.row=g}function s(){if(null==n){var p=0;t=Od(),function rR(e,t,n){var i=null,r=null;if(null!=n){t.sort(function(l,u){return l.y-u.y});for(var o=0;o<t.length;o+=1){var s=t[o],a=s.bottom();null===i?(i=s.y,r=a):s.y>=r?(n.call(e,i),i=s.y,r=a):(s.y>i&&(i=s.y),a<r&&(r=a))}null!==i&&n.call(e,i)}}(this,e,function(v){t.add(v,p),p+=1}),n=Ad(),e.sort(function(v,C){return v.horizontalCenter()-C.horizontalCenter()});for(var g=0,m=e.length;g<m;g+=1){var w=e[g];t.loopForward(this,w.y,function(v,C){if(v>w.bottom())return!0;n.addItem(C,w.context,w)})}}}function a(p){return s(),(null==i||i.itemid!=p)&&(i=new r(p,n.getLevelIndex(p))),i}function c(p){var m=n.getItemContext(i.itemid).horizontalCenter(),w=i.itemid;n.loopLevelsFromItem(this,i.itemid,p,function(v){return i.row=v,i.itemid=n.binarySearch(this,v,function(C,y){return m-y.horizontalCenter()}),!0}),w==i.itemid&&(i.row=p?n.getEndLevelIndex(i.itemid):n.getLevelIndex(i.itemid))}return{addRect:function o(p,g){var m=new K(p);m.context=g,e.push(m)},prepair:s,getItemAbove:function l(p){return i=a(p),c(!1),i.itemid},getItemBelow:function u(p){return i=a(p),c(!0),i.itemid},getItemOnLeft:function h(p){i=a(p);var g=n.getPrevItem(i.itemid,i.row);return null!=g&&(i.itemid=g),i.itemid},getItemOnRight:function f(p){i=a(p);var g=n.getNextItem(i.itemid,i.row);return null!=g&&(i.itemid=g),i.itemid},getNavigationLevels:function d(){s();var p=[];return n.loopLevels(this,function(g,m){var w=[];n.loopLevelItems(this,g,function(v,C,y){w.push(v)}),p.push(w)}),p}}}(),a.treeItemsPositions)if(a.treeItemsPositions.hasOwnProperty(_)){var b=a.treeItemsPositions[_];if(l.hasOwnProperty(_)&&b.actualVisibility===ne.Normal){var I=new K(b.actualPosition);h.addRect(I,_)}}return h}();switch(b){case Me.Top:D=I.getItemAbove(_);break;case Me.Bottom:D=I.getItemBelow(_);break;case Me.Left:D=I.getItemOnLeft(_);break;case Me.Right:D=I.getItemOnRight(_)}return D}}}function ar(){this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!1,this.size=null}function lR(e,t,n){var i={transform:null};return{process:function r(){var a=e.getOptions(),l=new Te(n.getContentSize());return i.transform=new ar,i.transform.setOrientation(a.orientationType),i.transform.size=new Te(l),!0},getTransform:function s(){return i.transform},getTreeItemForMousePosition:function o(a,l,u){var c=null,{scale:h}=t.getOptions();return i.transform.transformPoint(a/=h,l/=h,!1,this,function(f,d){c=n.getTreeItemForMousePosition(f,d,u)}),c},description:"Create coordinate system transformation object."}}function Qt(e){var t,n,i,r;for(this.lineColor=$.Silver,this.lineWidth=1,this.lineType=It.Solid,this.fillColor=null,this.opacity=null,this._key="",i=0,r=(n=["lineColor","lineWidth","lineType","fillColor","opacity"]).length;i<r;i+=1)t=n[i],null!=e&&e.hasOwnProperty(t)&&(this[t]=e[t]),this._key+=(Wn(this._key)?"":", ")+t+":"+this[t]}function Ld(e,t){var n,i;if(this.palette=[],this.cursor=0,0===t.length)this.palette=[new Qt({lineColor:e.linesColor,lineWidth:e.linesWidth,lineType:e.linesType})],this.paletteLength=this.palette.length,this.regularIndex=0;else{for(n=0,i=t.length;n<i;n+=1)this.palette.push(new Qt(t[n]));this.paletteLength=this.palette.length,this.palette.push(new Qt({lineColor:e.linesColor,lineWidth:e.linesWidth,lineType:e.linesType})),this.regularIndex=this.palette.length-1}this.palette.push(new Qt({lineColor:e.highlightLinesColor,lineWidth:e.highlightLinesWidth,lineType:e.highlightLinesType})),this.highlightIndex=this.palette.length-1}function uR(e,t){var n;return{process:function i(){var o=[];return null!=t&&(o=t.getOptions().linesPalette),n=new Ld(e.getOptions(),o),!0},getPaletteManager:function r(){return n}}}function cR(e,t,n,i,r,o,s,a){var l={viewportSize:null,frameThickness:null,framePlaceholderSize:null};return{process:function u(){var g=e(),{scale:m}=r.getOptions(),{pageFitMode:w,autoSizeMinimum:v,autoSizeMaximum:C}=n.getOptions(),y=o.getContentSize(),{scrollPanelSize:T,hasFrame:S,hasLevelTitles:_}=i.getOptions(),b=new Te(T),I=s.getThickness(),D=new we(a.getOptions().thickness),P=w==Wt.AutoSize,M=new Te(y);if(M.scale(m),P){(b=new Te(M.width+25,M.height+25)).addThickness(I),D.isPositive()&&b.addThickness(D),b.cropBySize(C),b.maxSize(v);var E=new Te(b);E.removeThickness(I),D.isPositive()&&E.removeThickness(D),b.space()<2*E.space()?b=E:(I=new we(0,0,0,0),D=new we(0,0,0,0))}else S||(I=new we(0,0,0,0)),!_&&D.isPositive()&&(D=new we(0,0,0,0));var A=new we(I);D.isPositive()&&A.addThickness(D);var F=new Te(b);F.addThickness(A);var x=new K(A.left,A.top,b.width,b.height),O=new Te(F),R=new K(0,0,O.width,O.height);O.scale(1/m);var H=new te(0,0),J=new te(0,0);0!=D.left?(H=new te(x.x,x.y),J=new te(x.x-D.left,x.bottom())):0!=D.right?(H=new te(x.right(),x.y),J=new te(x.right()+D.right,x.bottom())):0!=D.top?(H=new te(x.x,x.y),J=new te(x.right(),x.y-D.top)):0!=D.bottom&&(H=new te(x.x,x.bottom()),J=new te(x.right(),x.bottom()+D.bottom));var re=new K(H,J),L=new Te(re);return L.scale(1/m),g.resize("frameplaceholder",O.width,O.height),g.resize("titlesplaceholder",L.width,L.height),g.resize("placeholder",y.width,y.height),t({autoSize:P,controlSize:F,scale:m,frameMousePanelRect:R,framePlaceholderSize:O,titlesMousePanelRect:re,titlesPlaceholderSize:L,scrollPanelRect:x,mousePanelSize:M,placeholderSize:y}),l.viewportSize=b,l.frameThickness=I,l.frameOffset=D.isPositive()?D:new we(0,0,0,0),l.titlesThickness=D,l.framePlaceholderSize=O,!0},getOptimalPanelSize:function c(){return new Te(l.viewportSize.width-25,l.viewportSize.height-25)},getScrollPanelSize:function h(){return new Te(l.viewportSize.width,l.viewportSize.height)},getFrameThickness:function f(){return new we(l.frameThickness)},getFrameOffset:function d(){return new we(l.frameOffset)},getTitlesThickness:function p(){return new we(l.titlesThickness)}}}function hR(e,t,n,i,r,o,s){var l,a={placeholderOffset:null};return{process:function u(){var f,w,d=e.getOptions(),p=i.getCursorTreeItem(),g=r.getItemPosition(p),m=new Te(r.getContentSize()),C=s.getOptions().scale;return a.placeholderOffset=n.getPlaceholderOffset(),d.forceCenterOnCursor&&(l=o.getTransform(),null!=g&&((f=function c(f){var d=!1;return l.transformRect(f.x,f.y,f.width,f.height,!0,this,function(p,g,m,w){d=new K(p,g,m,w)}),d}(g.actualPosition)).scale(C),m.scale(C),w=t.getScrollPanelSize(),a.placeholderOffset=new te(Math.max(Math.min(f.horizontalCenter()-w.width/2,m.width-w.width),0),Math.max(Math.min(f.verticalCenter()-w.height/2,m.height-w.height),0)))),!0},getPlaceholderOffset:function h(){return a.placeholderOffset}}}function fR(e,t,n,i,r,o,s,a){var u,c,l={positions:{}};return{getPositions:function m(){return l.positions},getTreeItemForMousePosition:function g(w,v,C){var b,I,y=null,T=null,S=u.scale,_=function p(){if(null==c)for(var w in c=w_(function d(){var w=[],v={};for(var C in l.positions)if(l.positions.hasOwnProperty(C)){var y=l.positions[C],T=Math.max(y.width,y.height);v.hasOwnProperty(T)||(v[T]=!0,w.push(T))}return w}()),l.positions)if(l.positions.hasOwnProperty(w)){var v=l.positions[w];v.context=w,c.addRect(v)}return c}();return b=new K(w/=S,v/=S,0,0),I=new te(w,v),b.offset(C,C,C,C),_.loopArea(this,b,function(D){var P=D.context,M=I.distanceTo(D.horizontalCenter(),D.verticalCenter());(null==T||M<T)&&(T=M,y=P)}),y},process:function h(){var w=r.getItemsPositions(),v=e.getTransform();u=i.getOptions(),c=null,l.positions=[];var C=function f(){var w=null;if(null!=o){var v=u.scale,C=new te(o.getPlaceholderOffset()),y=new Te(n.getScrollPanelSize()),T=new we(n.getFrameThickness()),S=new we(n.getFrameOffset()),_=new we(t.getMedian());if(!T.isEmpty()){C.scale(1/v),T.scale(1/v),S.scale(1/v),y.scale(1/v),_.scale(1/v);var b=new te(C.x-S.left-T.left,C.y-S.top-T.top),I=new K(C.x,C.y,y.width,y.height);I.offset(S),I.offset(_),w={offset:b,rect:I}}}return w}(),y=a.getItems();if(null!=C)for(var T=0,S=y.length;T<S;T+=1){var _=y[T],I=w[_].actualPosition;v.transformRect(I.x,I.y,I.width,I.height,!0,this,function(D,P,M,E){var A=new K(D,P,M,E);if(!C.rect.overlaps(A)){var F=C.rect.getProjectionPoint(A.centerPoint());if(null!=F){var R=new Te(s.getTemplateParams(_).template.templateConfig.minimizedItemSize),H=new K(F.x-R.width/2,F.y-R.height/2,R.width,R.height);H.translate(-C.offset.x,-C.offset.y),l.positions[_]=H}}})}return!0}}}function Be(){this.parent=te.prototype,this.parent.constructor.apply(this,arguments),this.segmentType=_n.Move}function _e(){this.parent=Be.prototype,this.parent.constructor.apply(this,arguments),this.segmentType=_n.Line}function Nt(e,t,n,i){switch(this.x=null,this.y=null,this.cpX=null,this.cpY=null,arguments.length){case 2:this.x=t.x,this.y=t.y,this.cpX=e.x,this.cpY=e.y;break;case 4:this.cpX=e,this.cpY=t,this.x=n,this.y=i}this.segmentType=_n.QuadraticArc}function nn(e){var i,r,t=new Qt,n=[];function f(D,P){var M,E,A;if(null!=P)for(M=0,E=n.length;M<E&&(!(A=n[M])||!P.call(D,A,M));M+=1);}function g(){return Wn(t.fillColor)}function w(D,P,M,E,A,F){var O,R,H,J,re,x=new nn(r),L=[new te(A,-F/2),new te(0,0),new te(A,F/2),new te(A/4*3,0)],B=Math.atan2(P-E,D-M);for(O=0,R=L.length;O<R;O+=1)J=(H=L[O]).x*Math.cos(B)-H.y*Math.sin(B),re=H.x*Math.sin(B)+H.y*Math.cos(B),H.x=J+M,H.y=re+E;return x.addSegment(new Be(L[0].x,L[0].y)),x.addSegment(new _e(L[1].x,L[1].y)),x.addSegment(new _e(L[2].x,L[2].y)),x.addSegment(new Nt(L[3].x,L[3].y,L[0].x,L[0].y)),x}function S(D,P){this.segment=D,this.pointIndex=P}function _(D,P,M,E,A){var O,R,H,F=D.relateTo(P),x=A?0:M;F==Bi.Collinear?P.offset(x):F==Bi.Opposite&&0===P.from.context.pointIndex?(O=new _e(P.from),E.addSegment(O),P.offset(x),(H=P.from.clone()).context=new S(O,0),R=new ft(D.to.clone(),H),A||(P.from=H.clone()),R.offset(M),R.intersect(D),R.from.context.pushToSegment(R.from),P.intersect(R),A&&R.to.context.pushToSegment(R.to)):(P.offset(x),P.intersect(D)),P.from.context.pushToSegment(P.from)}function b(D,P,M,E){var F=D[0],x=F.to.context.segment.getEndPoint().toString();P.hasOwnProperty(x)&&(_(F,P[x],M,E,!0),delete P[x]),F.to.context.pushToSegment(F.to),D.length=0}return 1===arguments.length&&(t=e),r=new Qt({lineColor:t.lineColor,lineWidth:0,fillColor:t.lineColor,opacity:t.opacity||1}),S.prototype.pushToSegment=function(D){this.segment.setPoint(D,this.pointIndex)},i={paletteItem:t,arrowPaletteItem:r,addSegment:function a(D){n.push(D)},addSegments:function l(D){var P,M;for(P=0,M=D.length;P<M;P+=1)n.push(D[P])},mergeTo:function u(D){D.addSegments(n)},length:function h(){return n.length},loop:f,loopReversed:function d(D,P){var M,E;if(null!=P)for(M=n.length-1;M>=0&&(!(E=n[M])||!P.call(D,E,M));M-=1);},transform:function p(D,P){f(this,function(M){null!=M.transform&&M.transform(D,P)})},isInvertable:g,addInverted:function m(D){var P=!1,M=[];g()?D.loopReversed(this,function(E,A){E.segmentType!=_n.Dot&&(P||(n.push(new Be(E.getEndPoint())),P=!0),M.unshift(E),M.length>1&&(M[1].invert(M[0].getEndPoint()),n.push(M[1]),M.length=1))}):D.mergeTo(i)},addArrow:function C(D,P){var M,E,A,F,O=n.length,R=3*D,H=2*D;switch(D){case 1:R=8,H=6;break;case 2:R=12,H=8;break;case 3:R=16,H=10}null!=P&&O>1&&(M=n[O-2].getEndPoint(),null!=(A=n[O-1]).trim&&(E=new te(A.getEndPoint())).distanceTo(M)>=R&&P(w((F=A.trim(M,R)).x,F.y,E.x,E.y,R,H),F))},addOffsetArrow:function v(D,P,M,E,A){var F,x,O,R,H,J,j,U,re=n.length,L=3*P,B=2*P;switch(P){case 1:L=8,B=6;break;case 2:L=12,B=8;break;case 3:L=16,B=10}null!=A&&re>1&&(F=n[re-2].getEndPoint(),null!=(O=n[re-1]).offsetPoint&&(x=new te(O.getEndPoint()),(U=F.distanceTo(x))>E&&(j=U*M,D?(R=O.offsetPoint(F,x,j),J=w(F.x,F.y,R.x,R.y,L,B)):(H=O.offsetPoint(x,F,j),J=w(x.x,x.y,H.x,H.y,L,B)),A(J))))},optimizeMoveSegments:function y(){var D,P,M,E,A,F,x,O={},R=[],H=[];for(D=0,P=n.length;D<P-1;D+=1)switch(F=n[D],x=n[D+1],F.segmentType){case _n.Line:case _n.QuadraticArc:case _n.CubicArc:switch(x.segmentType){case _n.Move:case _n.Dot:O.hasOwnProperty(E=F.x+"&"+F.y)||(O[E]=D)}break;case _n.Move:O.hasOwnProperty(E=F.x+"&"+F.y)&&!R[O[E]]&&(R[O[E]]=D+1,H[D]=!0)}for(A=[],D=0;D<P;D+=1)if(!H[D]&&(A.push(F=n[D]),H[D]=!0,R[D]>0))for(M=R[D];M<P&&!H[M];)A.push(F=n[M]),H[M]=!0,R[M]>0?M=R[M]:M+=1;n=A},getOffsetPolyine:function I(D){var P=new nn(t),M={},E=[],A=[];return f(this,function(F){var O,x=F.clone();switch(x.segmentType){case _n.Dot:case _n.Move:A.length>0&&b(A,M,D,P),E.length=0,x.segmentType==_n.Move&&((O=new te(x)).context=new S(x,0),E.push(O));break;default:x.loop(this,function(R,H,J){var L,j,re=new te(R,H);switch(re.context=new S(x,J),E.unshift(re),E.length>1&&(A.unshift(new ft(E[1].clone(),E[0].clone())),E.length=1),A.length){case 1:j=(L=A[0]).from.toString(),M[j]=L,L.offset(D),L.from.context.pushToSegment(L.from);break;case 2:_(A[1],L=A[0],D,P,!1),A.length=1}})}P.addSegment(x)}),A.length>0&&b(A,M,D,P),P},toString:function T(){return t.toString()},getStartPoint:function o(){var D=null;return n.length>0&&(D=n[0].getEndPoint()),D},getEndPoint:function s(){var D=null;return n.length>0&&(D=n[n.length-1].getEndPoint()),D},clone:function c(){var D,P,M=new nn(t),E=[];for(D=0,P=n.length;D<P;D+=1)E.push(n[D].clone());return M.addSegments(E),M}}}function eo(){var e={};function t(s,a){return s[a.toString()]||(s[a.toString()]=new nn(a)),s[a.toString()]}function i(s,a){var l,u;if(null!=a)for(l in e)if(e.hasOwnProperty(l)&&(u=e[l])&&(u.optimizeMoveSegments(),a.call(s,u)))break}return{getPolyline:function n(s){return t(e,s)},loop:i,addInverted:function r(s,a){var l,u;l=e,e={},s?.(this),i(this,function(c){u=t(l,c.paletteItem),a?c.mergeTo(u):u.addInverted(c)}),e=l},transform:function o(s,a){i(this,function(l){l.transform(s,a)})}}}function T_(e,t,n,i,r){return{process:function o(){var a=i.getGraph(),l=t.getOptions(),u=n.getAnnotations(),c=e();switch(r){case lt.Background:c.reset("placeholder",ze.BackgroundHighlightPathAnnotations);break;case lt.Foreground:c.reset("placeholder",ze.ForegroundHighlightPathAnnotations)}return function s(a,l,u,c){var h,f,d,p,g,w,v,y,T,S,_,I,D,P;if(u.length>0){switch(I=new eo,r){case lt.Background:a.activate("placeholder",ze.BackgroundHighlightPathAnnotations);break;case lt.Foreground:a.activate("placeholder",ze.ForegroundHighlightPathAnnotations)}var M={};for(h=0,f=u.length;h<f;h+=1)if(null!=(_=u[h]).items&&_.items.length>0&&(T=_.items.slice(0),c.hasNode(w=T[0])))for(d=1,p=T.length;d<p;d+=1)c.hasNode(v=T[d])&&(M.hasOwnProperty(w)?M[w].push(v):M[w]=[v],w=v);var E={};for(D in M)E[D]={},M.hasOwnProperty(D)&&c.getShortestPath(this,D,M[D],function(x,O,R){return x.weight},function(x,O){E[D][O]=x});for(h=0,f=u.length;h<f;h+=1){var A=new Qt({lineColor:null!=(_=u[h]).color?_.color:l.highlightLinesColor,lineWidth:null!=_.lineWidth?_.lineWidth:l.highlightLinesWidth,lineType:null!=_.lineType?_.lineType:l.highlightLinesType,fillColor:null,opacity:_.opacity}),F=I.getPolyline(A);if(null!=_.items&&_.items.length>0&&(T=_.items.slice(0),c.hasNode(w=T[0])))for(d=1,p=T.length;d<p;d+=1)if(c.hasNode(v=T[d])){for(g=(y=E[w][v]||[]).length-2;g>=0;g-=1)(S=c.edge(D=y[g+1],P=y[g])).from==D?S.polyline.clone().mergeTo(F):F.addInverted(S.polyline.clone()),_.showArrows&&(P==S.parentsArrowId||P==S.childrenArrowId)&&F.addArrow(_.lineWidth,function(x){x.mergeTo(I.getPolyline(x.paletteItem))});w=v}}a.polylinesBuffer(I)}}(c,l,u,a),!1}}}function dR(e,t,n,i){var r={},o={},s=new le({viewPortPosition:new le({x:new k(["number"],!1,0),y:new k(["number"],!1,0),width:new k(["number"],!1,0),height:new k(["number"],!1,0)},!1,new K(0,0,0,0))});return{process:function a(){var h={isChanged:!1,hash:o};return r=s.read(r,function l(){var h,f=n.getTransform(),d=function u(){var f=e.getOptions().scale,d=t?new te(t.getPlaceholderOffset()):new te(0,0),p=new Te(i.getOptimalPanelSize());return d.scale(1/f),p.scale(1/f),new K(d.x,d.y,p.width,p.height)}();return null!=d&&f.transformRect(d.x,d.y,d.width,d.height,!1,this,function(p,g,m,w){h=new K(p,g,m,w)}),{viewPortPosition:h}}(),"options",h),h.isChanged},getViewPortPosition:function c(){return r.viewPortPosition}}}function pR(e){var t={},n={},i=new le({verticalOffset:new le({from:new k(["number"],!1,0),to:new k(["number"],!1,0)},!1,new ai(0,0))});return{process:function r(){var a={isChanged:!1,hash:n};return t=i.read(t,function o(){return{verticalOffset:new K(e.getViewPortPosition()).verticalInterval()}}(),"options",a),a.isChanged},getVerticalOffset:function s(){return t.verticalOffset}}}function __(e,t,n){this.value=e,this.index=t,this.isStart=n}function C_(e,t,n){for(var i=[],r=0;r<t.length;r+=1){var o=t[r];i.push(new __(o.from,r,!0)),i.push(new __(o.to,r,!1))}i.sort(function(h,f){return h.value===f.value?f.isStart-h.isStart:h.value-f.value});for(var s=0,a=null,l=null,u=(r=0,i.length);r<u;r+=1){var c=i[r];null==a&&(a=new ai(t[c.index])),a.to=c.value,c.isStart?(s++,(null===l||l>c.index)&&(l=c.index,a.context=t[c.index].context)):s--,s||(n?.call(e,a),a=null,l=null)}}function gR(e,t){var n={positions:[]};return{getPositions:function o(){return n.positions||(n.positions=function r(){var s=[],a=e.getTreeLevels(),l=t.getItemsPositions(),u=0;a.loopLevels(this,function(y,T){a.loopLevelItems(this,y,function(S,_,b){if(_.isVisible&&_.isActive){var I=l[S];if(I){var D=new ai(I.topConnectorShift||I.actualPosition.y,I.bottomConnectorShift-1,u++);s.push(D)}return!0}})});var c=[];C_(this,s,function(y){c.push(y)}),s=c,c=[];for(var h=null,f=(u=0,s.length);u<f;u+=1){var d=s[u];h&&h.context===d.context?h.to=d.to:(h=d,c.push(d))}for((s=c).length>0&&(s[0].from=0),u=0,f=s.length-1;u<f;u+=1)s[u].to=s[u+1].from;var m=null;for(u=0,f=s.length;u<f;u+=1)d=s[u],m=null===m?d.context:Math.min(m,d.context);var w={};for(u=0,f=s.length;u<f;u+=1){var v=(d=s[u]).context-m,C=w[v];C?C.push(d):w[v]=[d]}return w}()),n.positions},process:function i(){return n.positions=null,!0}}}function mR(e,t){var n={positions:[]};return{getPositions:function o(){return n.positions},process:function i(){var s=e.getAnnotations();if(n.positions=[],s.length>0){var a=t.getPositions();n.positions=function r(s,a){var l,u,c,h,f={},d={};for(l=0,u=s.length;l<u;l+=1){var g=s[l].levels,m=[];if(null!=g&&g.length>0)for(c=0,h=g.length;c<h;c+=1){var w=g[c];f[w]||(f[w]=!0,m=[],null!=a[w]&&(m=m.concat(a[w])))}d[l]=[],C_(this,m,function(v){d[l].push(v)})}return d}(s,a)}return!0}}}function Ir(){}function Fd(){var e={},t={},n={},i=null,r=null;function o(_,b){if(e.hasOwnProperty(_))throw"Duplicate segments are not supported!";e[_]=b,t[_]=null,null==r?(i=_,n[_]=null):(t[r]=_,n[_]=r),r=_}function f(_,b){if(e.hasOwnProperty(_))throw"Duplicate segments are not supported!";e[_]=b,n[_]=null,null==i?(r=_,t[_]=null):(n[i]=_,t[_]=i),i=_}function d(_,b,I){if(e.hasOwnProperty(b))throw"Duplicate segments are not supported!";if(null==_)f(b,I);else{var D=t[_];null==D?o(b,I):(e[b]=I,t[_]=b,t[b]=D,n[D]=b,n[b]=_)}}function w(_,b,I,D){var M,P=I;if(null==P&&(P=_?i:r),null!=b)for(;null!=P;){if(null!=(M=e[P])&&b(M,P))return;P=P==D?null:_?t[P]:n[P]}}function C(_,b,I){w(!0,_,b,I)}return{add:o,item:function a(_){return e[_]},nextKey:function l(_){return t[_]},prevKey:function u(_){return n[_]},startKey:function c(){return i},endKey:function h(){return r},unshift:f,insertAfter:d,insertBefore:function p(_,b,I){if(e.hasOwnProperty(b))throw"Duplicate segments are not supported!";if(null==_||!e.hasOwnProperty(_))throw"Before key should be defined!";var D=n[_];null==D?f(b,I):d(D,b,I)},remove:function g(_){var b=n[_],I=t[_];null!=b?t[b]=I:i=I,null!=I?n[I]=b:r=b,delete e[_],delete t[_],delete n[_]},isEmpty:function s(){return null==i},attach:function v(_){_.iterate(function(b,I){o(I,b)})},iterate:C,iterateBack:function y(_,b,I){w(!1,_,b,I)},empty:function m(){e={},t={},n={},i=null,r=null},toArray:function S(){var _=[];return C(function(b){_.push(b)}),_},validate:function T(_){var b,I,D;for(b in e)if(e.hasOwnProperty(b)&&(!t.hasOwnProperty(b)||!n.hasOwnProperty(b)))return null!=_&&(_.message="Orphant key found!"),!1;if(!e.hasOwnProperty(i)||!e.hasOwnProperty(r))return null!=_&&(_.message="Start or end values are missing!"),!1;for(b in t)if(t.hasOwnProperty(b)){if(!e.hasOwnProperty(b)||!n.hasOwnProperty(b))return null!=_&&(_.message="Orphant key found!"),!1;if((D=t[b])&&!t.hasOwnProperty(D))return null!=_&&(_.message="Next key not found!"),!1}for(b in n)if(n.hasOwnProperty(b)){if(!e.hasOwnProperty(b)||!t.hasOwnProperty(b))return null!=_&&(_.message="Orphant key found!"),!1;if((I=n[b])&&!n.hasOwnProperty(I))return null!=_&&(_.message="Prev key not found!"),!1}return!0}}}function Nd(e){this.graphics=e,this.transform=null,this.lineWidth=1,this.opacity=1,this.fillColor=null,this.lineType=It.Solid,this.borderColor=null}function yR(e,t,n,i,r,o){var s,l;return{process:function u(){var h=i.getAnnotations();return(s=e()).reset("placeholder",ze.BackgroundAnnotation),h.length>0&&(o.getItemsPositions(),l=t.getTransform(),function c(h,f,d){var g,m,w,v,C,y,T,S,_,b,I,D,P,M,E,A;for(g=0,m=h.length;g<m;g+=1)if(null!=(E=h[g]).items&&E.items.length>0){for((T=new Nd(s)).transform=l,S=new c_,C=0,y=(P=["opacity","lineWidth","borderColor","fillColor","lineType"]).length;C<y;C+=1)T[M=P[C]]=E.hasOwnProperty(M)?E[M]:S[M];for(s.activate("placeholder",ze.BackgroundAnnotation),_=[],I={},w=0,v=E.items.length;w<v;w+=1)null!=(A=o.getItemPosition(D=E.items[w]))&&(I[D]=!0,(b=new K(A.actualPosition)).offset(E.offset),_.push(b),E.includeChildren&&d.loopChildren(this,D,function(F,x){I[F]||(I[F]=!0,null!=(A=o.getItemPosition(F))&&((b=new K(A.actualPosition)).offset(E.offset),_.push(b)))}));T.draw(_)}}(h,0,r.getLogicalFamily())),!1}}}function lr(){this.id=null,this.element=null,this.context=null,this.templateName=null,this.renderingMode=null,this.isCursor=!1,this.isSelected=!1}function b_(){var e=[];function i(o,s,a,l){this.context=a,this.from=o,this.to=s,this.offset=null,this.direction=l}function r(o,s,a,l,u){if(o>=s.length)return 0;if(a.hasOwnProperty(o))return a[o];for(var h=s[o],f=r(o+1,s,a,l,u),d=o+1;d<s.length&&!(s[d].from>=h.to);)d+=1;var g=1+r(d,s,a,l,u);return g>f?(a[o]=g,l[o]=d,u[o]=!0):(a[o]=f,l[o]=o+1,u[o]=!1),a[o]}return{add:function t(o,s,a){e.push(o<s?new i(o,s,a,1):new i(s,o,a,-1))},resolve:function n(o,s){var l,u,c,h,f,d,p,g,m=0;if(null!=s){for((c=e.slice(0)).sort(function(w,v){return w.from-v.from}),d=[];c.length>0;){for(r(0,c,{},l={},u={}),f=[],d[m]=[],g=0;l.hasOwnProperty(g);)u[g]&&(f.push(g),d[m].push(c[g])),g=l[g];for(g=f.length-1;g>=0;g-=1)c.splice(f[g],1);m+=1}for(p=0;p<m;p+=1)for(f=d[p],g=0;g<f.length;g+=1)if(s.call(o,(h=f[g]).from,h.to,h.context,p,m,h.direction))return m}return m}}}function wR(){var e=new K,t=[],n=[];return{addVector:function i(s,a){t.push(s),n.push(a),e.addRect(s.from.x,s.from.y),e.addRect(s.to.x,s.to.y)},resolve:function o(){if(1==t.length)n[0](0,1,1);else{var s=b_();!function r(s){var a,l,u;if(e.width>e.height)for(a=0,l=t.length;a<l;a+=1)s((u=t[a]).from.x,u.to.x,n[a]);else for(a=0,l=t.length;a<l;a+=1)s((u=t[a]).from.y,u.to.y,n[a])}(function(l,u,c){s.add(l,u,c)}),s.resolve(this,function(l,u,c,h,f,d){c(h,f,d)})}}}}function Ca(){}function Rd(){}function D_(e,t,n,i,r,o,s,a){var l,u,h,f;return{process:function d(){switch(l=e(),u=t.getTransform(),i.getOptions(),h=s.getTemplate(),f=new Te(o.getContentSize()),a){case lt.Background:l.reset("placeholder",ze.BackgroundConnectorAnnotation);break;case lt.Foreground:l.reset("placeholder",ze.ForegroundConnectorAnnotation)}return function p(g,m){var v,C,T,S,_,b,I,D,P,M=new eo,A=function TR(){var e={};return{getOffset:function t(i,r){var o=i.getLineKey();e.hasOwnProperty(o)||(e[o]=new wR),e[o].addVector(i,r)},resolve:function n(){for(var i in e)e.hasOwnProperty(i)&&e[i].resolve()}}}(),F=0;switch(a){case lt.Background:l.activate("placeholder",ze.BackgroundConnectorAnnotation);break;case lt.Foreground:l.activate("placeholder",ze.ForegroundConnectorAnnotation)}for(v=0,C=g.length;v<C;v+=1)D=g[v],F=Math.max(F,D.lineWidth);for(v=0,C=g.length;v<C;v+=1)if(null!=(D=g[v]).fromItem&&null!=D.toItem&&(T=m(D.fromItem),_=m(D.toItem),null!=T&&null!=_)){switch(S=T.actualPosition,b=_.actualPosition,D.connectorPlacementType){case Du.Offbeat:I=new Rd;break;case Du.Straight:I=new Ca}var x;u.transformRect(0,0,D.labelSize.width,D.labelSize.height,!1,this,function(j,U,q,G){x=new Te(q,G)});var O=null;u.transformRect(0,0,f.width,f.height,!1,this,function(j,U,q,G){O=new Te(q,G)});var R=new Qt({lineColor:D.color,lineWidth:D.lineWidth,lineType:D.lineType}),H=!Wn(D.label),J=new K(S).offset(D.offset),re=new K(b).offset(D.offset);I.draw(M,R,J,re,3*D.lineWidth,6*F,x,O,D.connectorShapeType,4,D.labelPlacementType,H,A,function(j,U){!Wn(U.label)&&null!=j&&(u.transformRect(j.x,j.y,j.width,j.height,!0,this,function(G,oe,ge,je){j=new K(G,oe,ge,je)}),(P=new lr).context=U,l.template(j.x,j.y,0,0,0,0,j.width,j.height,h.template(),h.getHashCode(),h.render,P,null))},D)}A.resolve(),M.transform(u,!0),l.polylinesBuffer(M)}(r.getAnnotations(),o.getItemPosition),!1}}}function os(e){this.m_graphics=e,this.pointerPlacement=ce.Auto,this.cornerRadius="10%",this.offset=0,this.opacity=1,this.lineWidth=1,this.pointerWidth="10%",this.borderColor=$.Black,this.lineType=It.Solid,this.fillColor=$.LightGray,this.m_map=[[ce.TopLeft,ce.Left,ce.BottomLeft],[ce.Top,null,ce.Bottom],[ce.TopRight,ce.Right,ce.BottomRight]]}function rn(e,t,n,i,r,o){switch(this.parent=te.prototype,this.x=null,this.y=null,this.cpX1=null,this.cpY1=null,this.cpX2=null,this.cpY2=null,arguments.length){case 3:this.parent.constructor.apply(this,[n.x,n.y]),this.cpX1=e.x,this.cpY1=e.y,this.cpX2=t.x,this.cpY2=t.y;break;case 6:this.parent.constructor.apply(this,[r,o]),this.cpX1=e,this.cpY1=t,this.cpX2=n,this.cpY2=i}this.segmentType=_n.CubicArc}function Ce(){}function Bd(e){this.m_graphics=e,this.transform=null,this.orientationType=Me.Top,this.panelSize=null,this.shapeType=Pt.Rectangle,this.offset=new we(0,0,0,0),this.lineWidth=1,this.labelOffset=4,this.cornerRadius="10%",this.opacity=1,this.fillColor=null,this.labelSize=new Te(60,30),this.lineType=It.Solid,this.borderColor=null,this.hasLabel=!1,this.labelTemplate=null,this.labelPlacement=ce.Auto}function S_(e,t,n,i,r,o,s,a){var l,u,c,h;return{process:function f(){switch(l=e(),u=t.getTransform(),c=i.getOptions(),h=s.getTemplate(),a){case lt.Background:l.reset("placeholder",ze.BackgroundAnnotations);break;case lt.Foreground:l.reset("placeholder",ze.ForegroundAnnotations)}return function d(p,g){var m,w,v,C,y,T,S,_,b,I,D,P,M,E,A;switch(a){case lt.Background:m=l.activate("placeholder",ze.BackgroundAnnotations);break;case lt.Foreground:m=l.activate("placeholder",ze.ForegroundAnnotations)}for(w=0,v=p.length;w<v;w+=1)if(null!=(E=p[w]).items&&E.items.length>0){for(D=new K,C=0,y=E.items.length;C<y;C+=1)null!=(I=g(E.items[C]))&&D.addRect(I.actualPosition);if(!D.isEmpty()){for(_=new Bd(l),b=new h_,T=0,S=(P=["opacity","cornerRadius","shapeType","offset","lineWidth","borderColor","fillColor","lineType","labelSize","labelOffset","labelPlacement","zOrderType"]).length;T<S;T+=1)_[M=P[T]]=E.hasOwnProperty(M)?E[M]:b[M];_.position=D,_.orientationType=c.orientationType,_.panelSize=m.size,_.labelTemplate=h,_.hasLabel=null!=E.templateName||null!=E.label,(A=new lr).context=E,A.templateName=_.labelTemplate,u.transformRect(D.x,D.y,D.width,D.height,!0,this,function(F,x,O,R){var H=new K(F,x,O,R);_.draw(H,A)})}}}(r.getAnnotations(),o.getItemPosition),!1}}}function _R(e,t,n,i,r,o,s,a){var l,u;return{process:function c(){var f=s.getCursorTreeItem();return(l=e()).reset("placeholder",ze.Cursor),null!=f&&(u=t.getTransform(),function h(f){l.activate("placeholder",ze.Cursor);var p,m=r.getItemPosition(f);if(null!=m){var w=m.actualPosition,v=new K(m.contentPosition),y=o.getTemplateParams(f).template,T=y.templateConfig,S=T.cursorPadding;v.offset(S.left,S.top,S.right,S.bottom),(p=new lr).context=i.getConfig(f),p.isCursor=!0,p.isSelected=a.isSelected(f),p.templateName=T.name,u.transformRect(w.x,w.y,w.width,w.height,!0,this,function(_,b,I,D){l.template(_,b,I,D,v.x,v.y,v.width,v.height,y.cursorTemplate.template(),y.cursorTemplate.getHashCode(),y.cursorTemplate.render,p,{borderWidth:T.cursorBorderWidth})})}}(f)),!1}}}function CR(e,t,n,i,r,o,s,a,l){var u,c;return{process:function h(){var d=s.getHighlightTreeItem();return(u=e()).reset("placeholder",ze.Highlight),null!=d&&(c=t.getTransform(),function f(d){u.activate("placeholder",ze.Highlight);var p,m=r.getItemPosition(d),w=m.actualPosition,C=o.getTemplateParams(d).template,y=C.templateConfig,T=y.highlightPadding;(p=new lr).context=i.getConfig(d),p.isCursor=a.getCursorTreeItem()==d,p.isSelected=l.isSelected(d),p.templateName=y.name,c.transformRect(w.x,w.y,w.width,w.height,!0,this,function(S,_,b,I){var D=new K(0,0,Math.round(b),Math.round(I));D.offset(T.left,T.top,T.right,T.bottom),m.actualVisibility==ne.Normal?u.template(S,_,b,I,D.x,D.y,D.width,D.height,C.highlightTemplate.template(),C.highlightTemplate.getHashCode(),C.highlightTemplate.render,p,{borderWidth:y.highlightBorderWidth}):u.template(Math.round(S),Math.round(_),Math.round(b),Math.round(I),Math.round(D.x),Math.round(D.y),Math.round(D.width),Math.round(D.height),C.dotHighlightTemplate.template(),C.dotHighlightTemplate.getHashCode(),C.dotHighlightTemplate.render,p,{borderWidth:y.highlightBorderWidth})})}(d)),!1}}}function bR(e,t,n,i,r,o,s,a,l,u,c,h,f){var d,p,m,g=new os(e());return{process:function w(){var T=u.getHighlightTreeItem();return(d=e()).reset("calloutplaceholder",ze.Annotation),null!==T&&(p=t.getTransform(),m=o.getOptions(),function v(T){var _,b,I,D,P,M,E=!0,A=a.getItemPosition(T),F=A.actualPosition;switch(A.actualVisibility){case ne.Dot:case ne.Line:case ne.Normal:switch((_=o.getItemOptions(T)).showCallout){case $e.False:case $e.True:E=!1;break;default:E=m.showCallout}E?(d.activate("placeholder",ze.Item),p.transformRect(F.x,F.y,F.width,F.height,!0,this,function(x,O,R,H){var J=new K(x,O,R,H),re=new te(J.centerPoint()),{medianRect:L,viewPortRect:B}=function C(){var S=i.getOptions().scale,_=new te(l.getPlaceholderOffset()),b=new Te(n.getScrollPanelSize()),I=new we(n.getFrameOffset()),D=new we(f.getMedian());_.scale(1/S),I.scale(1/S),b.scale(1/S),D.scale(1/S);var P=new K(_.x,_.y,b.width,b.height),M=new K(P);return M.offset(I),M.offset(D),{medianRect:M,viewPortRect:P}}(),j=L.getProjectionPoint(J.centerPoint());null==j&&(j=re),A.actualVisibility>=m.calloutMaximumVisibility&&A.actualVisibility!=ne.Invisible||!L.overlaps(J)?(P=Wn(_.calloutTemplateName)?Wn(_.templateName)?Wn(m.defaultCalloutTemplateName)?m.defaultTemplateName:m.defaultCalloutTemplateName:_.templateName:_.calloutTemplateName,M=s.getTemplate(P,s.DefaultWidgetTemplateName),I=function y(T,S,_){var b=new K(T.x,T.y,_.width,_.height);switch(m.orientationType){case Me.Top:case Me.Bottom:b.y-=_.height/4,T.x<S.horizontalCenter()?b.x+=m.calloutPlacementOffset:b.x-=m.calloutPlacementOffset+_.width;break;default:b.x-=_.width/4,T.y<S.verticalCenter()?b.y+=m.calloutPlacementOffset:b.y-=m.calloutPlacementOffset+_.height}return b.x<S.x?b.x=S.x+m.calloutPlacementOffset:b.right()>S.right()&&(b.x-=b.right()-S.right()+m.calloutPlacementOffset),b.y<S.y?b.y=S.y+m.calloutPlacementOffset:b.bottom()>S.bottom()&&(b.y-=b.bottom()-S.bottom()+m.calloutPlacementOffset),b}(j,B,M.templateConfig.itemSize),(b=new K(I)).addRect(j.x,j.y),b.offset(50),j.x-=b.x,j.y-=b.y,I.x-=b.x,I.y-=b.y,(D=new lr).context=r.getConfig(T),D.isCursor=c.getCursorTreeItem()==T,D.isSelected=h.isSelected(T),D.templateName=M.templateConfig.name,d.show("calloutplaceholder"),d.activate("calloutplaceholder",ze.Annotation),d.position("calloutplaceholder",b.x,b.y,b.width,b.height),d.template(I.x,I.y,I.width,I.height,0,0,I.width,I.height,M.itemTemplate.template(),M.itemTemplate.getHashCode(),M.itemTemplate.render,D,null),g.pointerPlacement=ce.Auto,g.cornerRadius=m.calloutCornerRadius,g.offset=m.calloutOffset,g.opacity=m.calloutOpacity,g.lineWidth=m.calloutLineWidth,g.pointerWidth=m.calloutPointerWidth,g.borderColor=m.calloutBorderColor,g.fillColor=m.calloutfillColor,g.draw(j,I)):d.hide("calloutplaceholder")})):d.hide("calloutplaceholder");break;case ne.Invisible:d.hide("calloutplaceholder")}}(T)),!1}}}function DR(e,t,n,i,r,o,s,a,l,u,c,h,f,d){var p,g,m,w,v,C,y;return{process:function T(){return g=e(),w=r.getOptions(),p=s.getItemsPositions(),m=t.getTransform(),v=d.getTemplate(),C=f.getTemplate(),y=h.getTemplate(),g.reset("placeholder",ze.Item),g.reset("placeholder",ze.Controls),function S(){var b,P,M,D=u.getCursorTreeItem(),E=function _(){var b=null;if(null!=a){var D=i.getOptions().scale,P=new te(a.getPlaceholderOffset()),M=new K(s.getContentSize()),E=new Te(n.getOptimalPanelSize());P.scale(1/D),E.scale(1/D),b=new K(P.x,P.y,Math.min(E.width,M.width),Math.min(E.height,M.height))}return b}();for(var A in p)p.hasOwnProperty(A)&&(M=(P=p[A]).actualPosition,P.actualVisibility==ne.Normal&&m.transformRect(M.x,M.y,M.width,M.height,!0,this,function(F,x,O,R){var H=new K(F,x,O,R);if(null==E||E.overlaps(H)){var J=l.getTemplateParams(A);if(null!=J){var re=J.template;if((b=new lr).id=A,b.context=o.getConfig(A),b.isCursor=A==D,b.isSelected=c.isSelected(A),b.templateName=re.templateConfig.name,b.template=J.template,b.isActive=J.isActive,b.hasSelectorCheckbox=J.hasSelectorCheckbox,b.hasButtons=J.hasButtons,b.hasGroupTitle=J.hasGroupTitle,b.onButtonsRender=J.onButtonsRender,g.activate("placeholder",ze.Item),g.template(F,x,O,R,P.contentPosition.x,P.contentPosition.y,P.contentPosition.width,P.contentPosition.height,re.itemTemplate.template(),re.itemTemplate.getHashCode(),re.itemTemplate.render,b,{borderWidth:re.templateConfig.itemBorderWidth}),J.hasGroupTitle){var L=0;switch(w.groupTitlePlacementType){case St.Left:case St.Auto:L=2;break;case St.Right:L=O-(w.groupTitlePanelSize-4)}g.template(F,x,O,R,L,P.contentPosition.y,w.groupTitlePanelSize-4,P.contentPosition.height+2,y.template(),y.getHashCode(),y.render,b,null)}if(J.hasSelectorCheckbox&&(g.activate("placeholder",ze.Controls),g.template(F,x,O,R,P.contentPosition.x,R-(w.checkBoxPanelSize-4),P.contentPosition.width,w.checkBoxPanelSize-4,C.template(),C.getHashCode(),C.render,b,null)),J.hasButtons){g.activate("placeholder",ze.Controls);var B=0;switch(w.groupTitlePlacementType){case St.Left:case St.Auto:B=O-(w.buttonsPanelSize-4);break;case St.Right:B=2}g.template(F,x,O,R,B,P.contentPosition.y,w.buttonsPanelSize-4,Math.max(P.contentPosition.height,R-P.contentPosition.y),v.template(),re.templateConfig.name+v.getHashCode(),v.render,b,null)}}}}))}(),!1}}}function Eu(e,t,n,i,r){this.segmentType=_n.Dot,this.x=e,this.y=t,this.width=n,this.height=i,this.cornerRadius=r}function SR(e,t,n,i,r,o){var s,a,u,c;return{process:function h(){return s=e(),a=t.getTransform(),u=i.getOptions(),c=o.getItemsPositions(),s.reset("placeholder",ze.Marker),function f(){var w,v,C,y,T,S,_,b,I,d=new eo,m=new Ce;for(var D in c)c.hasOwnProperty(D)&&(S=(T=c[D]).actualPosition,_=i.getItemOptions(D),a.transformRect(S.x,S.y,S.width,S.height,!0,this,function(P,M,E,A){if(T.actualVisibility===ne.Dot)b=r.getTemplateParams(D),I=b.template.templateConfig,w=null,v=null,C=null,0,null!=_&&(w=_.itemTitleColor,v=_.itemTitleColor,C=_.minimizedItemShapeType),w=w||I.minimizedItemBorderColor||$.Navy,v=v||I.minimizedItemFillColor||$.Navy,null==C&&(C=null!==I.minimizedItemShapeType?I.minimizedItemShapeType:u.minimizedItemShapeType),y=null===I.minimizedItemCornerRadius?I.minimizedItemSize.width:I.minimizedItemCornerRadius,null==C||C==Pt.None?d.getPolyline(new Qt({lineColor:w,lineWidth:I.minimizedItemLineWidth,lineType:I.minimizedItemLineType,fillColor:v,opacity:I.minimizedItemOpacity})).addSegment(new Eu(P,M,E,A,y)):m.draw(d,C,new K(P,M,E,A),new Qt({lineColor:w,lineWidth:I.minimizedItemLineWidth,lineType:I.minimizedItemLineType,fillColor:v,opacity:I.minimizedItemOpacity}))}));s.activate("placeholder",ze.Marker),s.polylinesBuffer(d)}(),!1}}}function IR(e,t,n,i,r){return{process:function o(){var s=e(),a=t.getGraph(),l=n.getOptions(),u=r.getPaletteManager();s.reset("placeholder",ze.Connector),s.activate("placeholder",ze.Connector);var c=new eo,h=Math.round(l.elbowDotSize/2),f={},d={};return a.loopNodes(this,null,function(p){a.loopNodeEdges(this,p,function(g,m){if(!f.hasOwnProperty(g)){var w=null;m.fromOffset<=1?w=u.getPalette(ma.Regular):(u.selectPalette(m.fromOffset),w=u.getPalette(ma.Extra));var v=c.getPolyline(w);if(i&&null!=m.dotId&&l.elbowType!=Zr.None&&!d.hasOwnProperty(m.dotId)){var C=c.getPolyline(v.arrowPaletteItem),y=m.dotId==m.from?m.polyline.getStartPoint():m.polyline.getEndPoint();C.addSegment(new Eu(y.x-h,y.y-h,2*h,2*h,h)),d[m.dotId]=!0}var T=null;if(m.hasArrow)switch(l.arrowsDirection){case tt.Parents:T=m.isOppositeFlow?m.childrenArrowId:m.parentsArrowId;break;case tt.Children:T=m.isOppositeFlow?m.parentsArrowId:m.childrenArrowId}if(null==T){var S=m.polyline.clone();if(m.hasMiddle&&l.arrowsDirection!=tt.None){var _=!0;_=m.from==m.middleParent?l.arrowsDirection==tt.Children:l.arrowsDirection==tt.Parents,m.isOppositeFlow&&(_=!_),S.addOffsetArrow(_,l.linesWidth,.4,l.extraArrowsMinimumSpace,function(b){b.mergeTo(c.getPolyline(v.arrowPaletteItem))})}m.from==p?S.mergeTo(v):v.addInverted(S)}else T==m.to?m.polyline.clone().mergeTo(v):v.addInverted(m.polyline.clone()),v.addArrow(l.linesWidth,function(b){b.mergeTo(c.getPolyline(b.paletteItem))})}}),f[p]=!0}),s.polylinesBuffer(c),!1}}}function zd(){this.text=null,this.position=null,this.weight=0,this.isActive=!0,this.labelType=bt.Regular,this.labelOrientation=He.Horizontal,this.horizontalAlignmentType=Qe.Center,this.verticalAlignmentType=Re.Bottom,this.parent=K.prototype,this.parent.constructor.apply(this,arguments)}function MR(e,t,n,i,r){function a(c,h,f,d,p,g,m){var v,C,y,T,S,w=null;if(!Wn(p.label)){var _=function l(c,h,f){var d=bt.None;switch(h){case $e.Auto:switch(f){case $e.Auto:switch(c){case ne.Line:case ne.Dot:d=bt.Regular}break;case $e.False:break;case $e.True:d=bt.Fixed}break;case $e.False:break;case $e.True:d=bt.Fixed}return d}(g.actualVisibility,p.showLabel,m.showLabels);switch(_){case bt.Regular:S=g.actualSize.width+g.actualSize.height;break;case bt.Fixed:S=1e4;break;case bt.None:S=0}if(_!=bt.None){y=null!=p.labelSize?p.labelSize:m.labelSize;var b=p.labelOrientation!=He.Auto?p.labelOrientation:m.labelOrientation!=He.Auto?m.labelOrientation:He.Horizontal;switch(T=p.labelPlacement!=ce.Auto?p.labelPlacement:m.labelPlacement!=ce.Auto?m.labelPlacement:ce.Top,b){case He.Horizontal:v=y.width,C=y.height;break;case He.RotateLeft:case He.RotateRight:C=y.width,v=y.height}var I=function u(c,h,f,d,p,g,m,w,v){var C,y,T;switch(c){case ce.Auto:case ce.Top:switch(C=new K(f+p/2-m/2,d-v-w,m,w),h){case He.Horizontal:y=Qe.Center,T=Re.Bottom;break;case He.RotateLeft:y=Qe.Left,T=Re.Middle;break;case He.RotateRight:y=Qe.Right,T=Re.Middle}break;case ce.TopRight:case ce.RightTop:switch(C=new K(f+p+v,d-v-w,m,w),h){case He.Horizontal:y=Qe.Left,T=Re.Bottom;break;case He.RotateLeft:y=Qe.Left,T=Re.Top;break;case He.RotateRight:y=Qe.Right,T=Re.Bottom}break;case ce.Right:switch(C=new K(f+p+v,d+g/2-w/2,m,w),h){case He.Horizontal:y=Qe.Left,T=Re.Middle;break;case He.RotateLeft:y=Qe.Center,T=Re.Top;break;case He.RotateRight:y=Qe.Center,T=Re.Bottom}break;case ce.BottomRight:case ce.RightBottom:switch(C=new K(f+p+v,d+g+v,m,w),h){case He.Horizontal:y=Qe.Left,T=Re.Top;break;case He.RotateLeft:y=Qe.Right,T=Re.Top;break;case He.RotateRight:y=Qe.Left,T=Re.Bottom}break;case ce.Bottom:switch(C=new K(f+p/2-m/2,d+g+v,m,w),h){case He.Horizontal:y=Qe.Center,T=Re.Top;break;case He.RotateLeft:y=Qe.Right,T=Re.Middle;break;case He.RotateRight:y=Qe.Left,T=Re.Middle}break;case ce.BottomLeft:case ce.LeftBottom:switch(C=new K(f-m-v,d+g+v,m,w),h){case He.Horizontal:y=Qe.Right,T=Re.Top;break;case He.RotateLeft:y=Qe.Right,T=Re.Bottom;break;case He.RotateRight:y=Qe.Left,T=Re.Top}break;case ce.Left:switch(C=new K(f-m-v,d+g/2-w/2,m,w),h){case He.Horizontal:y=Qe.Right,T=Re.Middle;break;case He.RotateLeft:y=Qe.Center,T=Re.Bottom;break;case He.RotateRight:y=Qe.Center,T=Re.Top}break;case ce.TopLeft:case ce.LeftTop:switch(C=new K(f-m-v,d-v-w,m,w),h){case He.Horizontal:y=Qe.Right,T=Re.Bottom;break;case He.RotateLeft:y=Qe.Left,T=Re.Bottom;break;case He.RotateRight:y=Qe.Right,T=Re.Top}}return{position:C,horizontalAlignmentType:y,verticalAlignmentType:T}}(T,b,c,h,f,d,v,C,m.labelOffset);(w=new zd(I.position)).labelType=_,w.weight=S,w.text=p.label,w.labelOrientation=b,w.horizontalAlignmentType=I.horizontalAlignmentType,w.verticalAlignmentType=I.verticalAlignmentType}}return w}return{process:function o(){var c=i.getOptions(),h={graphics:e(),transform:t.getTransform(),treeItemsPositions:r.getItemsPositions()},f={showLabels:c.showLabels,labelFontSize:c.labelFontSize,labelFontFamily:c.labelFontFamily,labelFontStyle:c.labelFontStyle,labelFontWeight:c.labelFontWeight,labelColor:c.labelColor,itemsOptions:i.getItemsOptions(),labelSize:c.labelSize,labelOrientation:c.labelOrientation,labelPlacement:c.labelPlacement,labelOffset:c.labelOffset};return h.graphics.reset("placeholder",ze.Label),function s(c,h){var f=[];if(h.showLabels==$e.Auto||h.showLabels==$e.True)for(var d in c.treeItemsPositions)if(c.treeItemsPositions.hasOwnProperty(d)){var p=h.itemsOptions[d],g=c.treeItemsPositions[d],m=g.actualPosition;null!=p&&c.transform.transformRect(m.x,m.y,m.width,m.height,!0,this,function(T,S,_,b){switch(g.actualVisibility){case ne.Normal:h.showLabels==$e.Auto&&((I=new zd(T,S,_,b)).weight=1e4,I.labelType=bt.Dummy,f.push(I));break;case ne.Dot:case ne.Line:var I=a(T,S,_,b,p,g,h);null!=I&&f.push(I)}})}h.showLabels==$e.Auto&&function PR(e,t,n){function i(v,C,y,T){this.isStart=v,this.index=C,this.x=y,this.rect=T}function r(){this.count=0,this.rectangles={},this.add=function(v){this.count+=1,this.rectangles[v]=!0},this.remove=function(v){return this.count-=1,delete this.rectangles[v],0==this.count}}function o(v,C,y,T,S){v.loopForward(this,C,function(_,b){if(_>y)return!0;for(var I in b.rectangles)if(b.rectangles.hasOwnProperty(I)){var D=T>I?T+"-"+I:I+"-"+T;h.hasOwnProperty(D)||(h[D]=!0,n.call(e,S,t[I]))}})}if(null!=n){for(var s=[],a=0;a<t.length;a+=1){var l=t[a];s.push(new i(1,a,l.x,l)),s.push(new i(0,a,l.right(),l))}s.sort(function(v,C){return v.x==C.x?C.isStart-v.isStart:v.x-C.x});var u=Od(),c={},h={};for(a=0;a<s.length;a+=1){var f=s[a],d=[f.rect.y,f.rect.bottom()];if(1==f.isStart){o(u,d[0],d[1],f.index,f.rect);for(var p=0,g=d.length;p<g;p+=1){var m=d[p],w=c[m];null==w&&(w=new r,c[m]=w,u.add(m,w)),w.add(f.index)}}else{for(p=0,g=d.length;p<g;p+=1)(w=c[m=d[p]]).remove(f.index)&&(delete c[m],u.remove(m));o(u,d[0],d[1],f.index,f.rect)}}}}(this,f,function(T,S){if(T.isActive&&S.isActive)switch(T.labelType){case bt.Dummy:switch(S.labelType){case bt.Dummy:break;case bt.Regular:case bt.Fixed:S.isActive=!1}break;case bt.Fixed:switch(S.labelType){case bt.Dummy:T.isActive=!1;break;case bt.Regular:S.isActive=!1}break;case bt.Regular:switch(S.labelType){case bt.Dummy:T.isActive=!1;break;case bt.Regular:T.weight<=S.weight?T.isActive=!1:S.isActive=!1;break;case bt.Fixed:T.isActive=!1}}}),c.graphics.activate("placeholder",ze.Label);for(var w={fontSize:h.labelFontSize,fontFamily:h.labelFontFamily,fontStyle:h.labelFontStyle,fontWeight:h.labelFontWeight,fontColor:h.labelColor},v=0,C=f.length;v<C;v+=1){var y=f[v];if(y.isActive)switch(y.labelType){case bt.Regular:case bt.Fixed:c.graphics.text(y.x,y.y,y.width,y.height,y.text,y.labelOrientation,y.horizontalAlignmentType,y.verticalAlignmentType,w)}}}(h,f),!1}}}function kR(e,t,n,i,r){var o;return{process:function s(){var l=new we(t.getFrameThickness());return(o=e()).reset("frameplaceholder",ze.Marker),l.isEmpty()||function a(){var l=new eo,u=n.getPositions(),c=r.getOptions(),h=new Ce;for(var d in u)if(u.hasOwnProperty(d)){var T,p=u[d],m=i.getTemplateParams(d).template.templateConfig,w=r.getItemOptions(d),v=null,C=null,y=null;null!=w&&(v=w.itemTitleColor,C=w.itemTitleColor,y=w.minimizedItemShapeType),v=v||m.minimizedItemBorderColor||$.Navy,C=C||m.minimizedItemFillColor||$.Navy,null==y&&(y=null!==m.minimizedItemShapeType?m.minimizedItemShapeType:c.minimizedItemShapeType),T=null===m.minimizedItemCornerRadius?m.minimizedItemSize.width:m.minimizedItemCornerRadius,null==y||y==Pt.None?l.getPolyline(new Qt({lineColor:v,lineWidth:m.minimizedItemLineWidth,lineType:m.minimizedItemLineType,fillColor:C,opacity:m.minimizedItemOpacity})).addSegment(new Eu(p.x,p.y,p.width,p.height,T)):h.draw(l,y,p,new Qt({lineColor:v,lineWidth:m.minimizedItemLineWidth,lineType:m.minimizedItemLineType,fillColor:C,opacity:m.minimizedItemOpacity}))}o.activate("frameplaceholder",ze.Marker),o.polylinesBuffer(l)}(),!1}}}function xR(e,t,n,i,r,o){var s;return{process:function a(){var u=r.getHighlightTreeItem();return(s=e()).reset("frameplaceholder",ze.Highlight),null!=u&&function l(u){var c,f=t.getPositions()[u];if(null!=f){var p=i.getTemplateParams(u).template,g=p.templateConfig,m=g.highlightPadding;s.activate("frameplaceholder",ze.Highlight),(c=new lr).context=n.getConfig(u),c.isCursor=o.getCursorTreeItem()==u,c.isSelected=!0,c.templateName=g.name;var w=new K(0,0,Math.round(f.width),Math.round(f.height));w.offset(m.left,m.top,m.right,m.bottom),s.template(Math.round(f.x),Math.round(f.y),Math.round(f.width),Math.round(f.height),Math.round(w.x),Math.round(w.y),Math.round(w.width),Math.round(w.height),p.dotHighlightTemplate.template(),p.dotHighlightTemplate.getHashCode(),p.dotHighlightTemplate.render,c,{borderWidth:g.highlightBorderWidth})}}(u),!1}}}function ER(e,t,n,i,r,o,s,a){var l,u,c,h;return{process:function f(){var p=r.getAnnotations();return(l=e()).reset("titlesplaceholder",ze.LevelAnnotation),p.length>0&&(u=o.getPositions(),c=n.getTransform(),h=s.getTitleTemplate(),function d(p,g){var v,m=new ai(t.getVerticalOffset()),{levelTitlePanelSize:w}=a.getOptions();l.activate("titlesplaceholder",ze.LevelAnnotation),c.transformRect(0,m.from,0,m.width(),!0,this,function(A,F,x,O){v=new K(A,F,x,O)});for(var C=0,y=p.length;C<y;C+=1){var T=p[C],S=g[C];if(null!=S)for(var _=0,b=S.length;_<b;_+=1){var I=S[_],D=new K(0,I.from,w,I.width());if(D.verticalInterval().overlaps(m)){var M=new we(0,T.offset.top,0,T.offset.bottom);D.offset(M);var E=new lr;E.context=T,c.transformRect(D.x,D.y,D.width,D.height,!0,this,function(A,F,x,O){l.template(A-v.x,F-v.y,x,O,0,0,x,O,h.template(),h.getHashCode(),h.render,E,null)})}}}}(p,u)),!1}}}function OR(e,t,n,i,r,o,s){var a,l,u,c;return{process:function h(){var d=r.getAnnotations();return(a=e()).reset("placeholder",ze.LevelAnnotation),d.length>0&&(l=o.getPositions(),u=n.getTransform(),c=s.getBackgroundTemplate(),function f(d,p){var w,g=new ai(t.getVerticalOffset()),m=a.activate("placeholder",ze.LevelAnnotation);u.transformRect(0,0,m.size.width,m.size.height,!1,this,function(E,A,F,x){w=new K(E,A,F,x)});for(var v=0,C=d.length;v<C;v+=1){var y=d[v],T=u.transformThickness(y.lineWidth,!0),S=p[v];if(null!=S)for(var _=0,b=S.length;_<b;_+=1){var I=S[_],D=new K(0,I.from,w.width,I.width());if(D.offset(y.offset),D.verticalInterval().overlaps(g)){var M=new lr;M.context=y,dN(M.context,{lineWidth:T}),u.transformRect(D.x,D.y,D.width,D.height,!0,this,function(E,A,F,x){a.template(E,A,F,x,0,0,F,x,c.template(),c.getHashCode(),c.render,M,null)})}}}}(d,l)),!1}}}function AR(e){return{process:function t(){return!0},getOptions:e,description:"Raw options."}}function LR(e){var t={leavesPlacementType:KT.Horizontal,childrenPlacementType:KT.Horizontal,maximumColumnsInMatrix:6,horizontalAlignment:Qe.Center};return{process:function n(){return!1},getOptions:function i(){return t}}}function FR(e,t){var n={},i={},r=new le({hideGrandParentsConnectors:new k(["boolean"],!1,t.hideGrandParentsConnectors)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n}}}function NR(e,t){var n={},i={},r=new le({groupByType:new fe(tt,!1,t.groupByType),alignBylevels:new k(["boolean"],!1,t.alignBylevels)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n}}}function RR(e,t,n){var i={},r={},o=new le({enableMatrixLayout:new k(["boolean"],!1,t.enableMatrixLayout),minimumMatrixSize:new k(["number"],!1,t.minimumMatrixSize),maximumColumnsInMatrix:new k(["number"],!1,t.maximumColumnsInMatrix),items:new Ze(new le({id:new k(["string","number"],!0),matrixId:new k(["string","number"],!1,n.matrixId),addToMatrix:new k(["boolean"],!1,n.addToMatrix)}),!0,"id")});return{process:function s(){var u={isChanged:!1,hash:r};return i=o.read(i,e.getOptions(),"options",u),u.isChanged},getOptions:function a(){return i},getConfig:function l(u){return r["options-items"][u]}}}function BR(e,t,n){var i={},r={},o=new le({enableMatrixLayout:new k(["boolean"],!1,t.enableMatrixLayout),minimumMatrixSize:new k(["number"],!1,t.minimumMatrixSize),maximumColumnsInMatrix:new k(["number"],!1,t.maximumColumnsInMatrix),items:new Ze(new le({id:new k(["string","number"],!0),position:new k(["number"],!0),relativeItem:new k(["string","number"],!0),placementType:new fe(St,!1,n.placementType),primaryParent:new k(["string","number"],!0),matrixId:new k(["string","number"],!1,n.matrixId),addToMatrix:new k(["boolean"],!1,n.addToMatrix)}),!0,"id")});return{process:function s(){var u={isChanged:!1,hash:r};return i=o.read(i,e.getOptions(),"options",u),u.isChanged},getOptions:function a(){return i},getConfig:function l(u){return r["options-items"][u]}}}function zR(e,t){var n={},i={},r=new le({linesPalette:new Ze(new le({lineColor:new k(["string"],!1,t.lineColor),lineWidth:new k(["number"],!1,t.lineWidth),lineType:new fe(It,!1,t.lineType)}),!1)});return{process:function o(){var a={isChanged:!1,hash:i};return n=r.read(n,e.getOptions(),"options",a),a.isChanged},getOptions:function s(){return n}}}function HR(e,t){var n={},i=new le({neighboursSelectionMode:new fe(Su,!1,t.neighboursSelectionMode)});return{process:function r(){var s={isChanged:!1};return n=i.read(n,e.getOptions(),"options",s),s.isChanged},getNeighboursSelectionMode:function o(){return n.neighboursSelectionMode}}}function I_(){}function VR(e){var t={position:null,group:null},n=new I_;return{process:function i(){var s=e.getOptions(),a=n.getUserDefinedPositions(s.items);return t.position=a.position,t.group=a.group,!0},getPositions:function r(){return t.position},getGroups:function o(){return t.group}}}function P_(e,t){this.id=e,this.node=t}function ba(e){var t={},n={},i={},r={},o={},s={},a={};function h(z,N,V,W){var Y,Z;if(null!=W&&null!=(Z=N[V]))for(Y in Z)if(Z.hasOwnProperty(Y)&&W.call(z,Y,Z[Y]))break}function m(z,N){var V=!1;return null!=i[z]&&null!=i[z][N]&&(delete i[z][N],r[z]-=1,delete o[N][z],s[N]-=1,r[z]||(delete i[z],delete r[z]),o[N]||(delete o[N],delete s[N],null==t.null&&(t.null={},n.null=0),t.null[N]=!0,n.null+=1),V=!0),V}function y(z,N){var V;if(null!=N)for(V in a)if(a.hasOwnProperty(V)&&N.call(z,V,a[V]))break}function T(z,N,V,W){for(var Y,Z,ie={},ae=0,se=!0;se;){for(Z in Y={},se=!1,V)if(V.hasOwnProperty(Z)&&!ie[Z])switch(ie[Z]=!0,W.call(z,Z,a[Z],ae)){case 1:Y={},se=!1;break;case 2:break;default:h(this,N,Z,function(de){ie[de]||(Y[de]=!0,se=!0)})}V=Y,ae+=1}}function S(z,N,V){null!=V&&null!=N&&null!=a[N]&&null!=i[N]&&T(z,i,i[N],V)}function _(z,N,V){null!=V&&null!=N&&null!=a[N]&&null!=o[N]&&T(z,o,o[N],V)}function b(z,N,V,W,Y,Z){var ie,ae,se,de,me,pe,ve;if(null!=Z){for(se in me=[],de={},a)a.hasOwnProperty(se)&&(de[se]=V[se]||0,de[se]||me.push(se));for(ve=0;me.length>0;){for(pe=[],ie=0,ae=me.length;ie<ae;ie+=1){if(Z.call(z,se=me[ie],a[se],ve)){pe=[];break}ve+=1,h(this,W,se,function(De){de[De]-=1,0===de[De]&&pe.push(De)})}me=pe}}}function I(z,N){b(z,0,s,i,0,N)}function D(z,N){b(z,0,r,o,0,N)}function F(z,N,V,W,Y,Z,ie,ae,se){var me,pe,ve,de=!1;if(null!=a[z]&&null!=ie[z]){if(de=!0,se)for(me=0,pe=N.length;me<pe;me+=1)(null==a[ve=N[me]]||null==ie[z][ve])&&(de=!1);if(de&&(null!=W&&(a[V]=W),null!=a[V]))for(Y[V]||(Y[V]={},Z[V]=0),ie[V]||(ie[V]={},ae[V]=0),Y[V][z]||(Y[V][z]=!0,Z[V]+=1),ie[z][V]||(ie[z][V]=!0,ae[z]+=1),me=0,pe=N.length;me<pe;me+=1)V!=(ve=N[me])&&(null!=ie[z][ve]&&(delete ie[z][ve],ae[z]-=1),null!=Y[ve][z]&&(delete Y[ve][z],Z[ve]-=1),Y[ve][V]||(Y[ve][V]=!0,Z[ve]+=1),ie[V][ve]||(ie[V][ve]=!0,ae[V]+=1))}return de}function x(z,N,V,W){return F(z,N,V,W,o,s,i,r,!0)}function R(){this.id="",this.key="",this.children=[],this.childrenHash={},this.processed=!1}function H(z){this.items=[],this.weight=0,this.difference=0,arguments.length>0&&(this.difference=z)}function J(z){var V,W,Y,Z,ie,ae,se,de,N=Xr(),me={};for(V in z)z.hasOwnProperty(V)&&h(this,i,V,function(pe){if(!me.hasOwnProperty(pe))for(me[pe]=!0,W=[],h(this,o,pe,function(De){W.push(De)}),Y=0,ie=W.length;Y<ie-1;Y+=1)if(z.hasOwnProperty(ae=W[Y]))for(Z=Y+1;Z<ie;Z+=1)if(z.hasOwnProperty(se=W[Z])){de=Math.abs(z[ae].children.length-z[se].children.length);var ve=N.edge(ae,se);null==ve&&(ve=new H(de),N.addEdge(ae,se,ve)),ve.items.push(pe),ve.weight+=1}});return N}function B(z,N){this.parentid=z,this.childid=N,this.key=z+","+N}function U(z,N,V){this.from=z,this.to=N,this.distance=0}function G(z){return r[z]||0}function oe(z){return s[z]||0}function ge(z){var N=null,V=i[z]||{};for(N in V)if(V.hasOwnProperty(N))return N;return null}function je(z){var N=null,V=o[z]||{};for(N in V)if(V.hasOwnProperty(N))return N;return null}function on(z,N){this.parents=z,this.children=N,this.nodes=[]}function Sa(z,N,V){for(;1===s[N];){var W=je(N);if(1!==r[W])break;V.call(z,W),N=W}}function Ia(z,N,V){for(;1===r[N];){var W=ge(N);if(1!==s[W])break;V.call(z,W),N=W}}function zu(){return ba({roots:t,rootsCount:n,children:i,childrenCount:r,parents:o,parentsCount:s,nodes:a})}return function c(z){ya(z)&&(t=Zt(z.roots,!1),n=Zt(z.rootsCount,!0),i=Zt(z.children,!1),r=Zt(z.childrenCount,!0),o=Zt(z.parents,!1),s=Zt(z.parentsCount,!0),a=Zt(z.nodes,!0))}(e),{add:function f(z,N,V){var W,Y,Z,ie={};if((!z||0===z.length)&&(z=[null]),null==a[N]&&null!=V){for(a[N]=V,W=0,Y=z.length;W<Y;W+=1)null==ie[Z=z[W]]&&Z!=N&&(ie[Z]=!0,null!=a[Z]?(null==o[N]&&(o[N]={},s[N]=0),o[N][Z]||(o[N][Z]=!0,s[N]+=1),null==i[Z]&&(i[Z]={},r[Z]=0),i[Z][N]||(i[Z][N]=!0,r[Z]+=1)):(null==t[Z]&&(t[Z]={},n[Z]=0),t[Z][N]||(t[Z][N]=!0,n[Z]+=1)));null!=t[N]&&(i[N]=t[N],r[N]=n[N],delete t[N],delete n[N],h(this,i,N,function(ae){null==o[ae]&&(o[ae]={},s[ae]=0),o[ae][N]||(o[ae][N]=!0,s[ae]+=1)}))}},adopt:function p(z,N){var V,W,Y;if(null==a[N])throw"Child should be in hierarchy!";for(V=0,W=z.length;V<W;V+=1){if(Y=z[V],null==o[N]&&(o[N]={},s[N]=0),Y==N||null==a[Y])throw"Item cannot be parent of itself and parent should exist in the structure!";o[N][Y]||(o[N][Y]=!0,s[N]+=1),null==i[Y]&&(i[Y]={},r[Y]=0),i[Y][N]||(i[Y][N]=!0,r[Y]+=1)}},bundleChildren:x,bundleParents:function O(z,N,V,W){return F(z,N,V,W,i,r,o,s,!0)},optimizeReferences:function re(z){var Y,Z,ie,ae,de,ve,N={},V={},W={},me=0,pe=10;if(null!=z){for(Y in a)me+=1,a.hasOwnProperty(Y)&&(Z=new R,h(this,i,Y,function(De){Z.children.push(De),Z.childrenHash[De]=!0}),Z.children.sort(),Z.id=Y,Z.key=Z.children.join(","),W[Z.id]=Z);for(pe=Math.pow(10,me.toString().length);!xu(W);){for(Y in ie={},ve={},ae=J(W),W)W.hasOwnProperty(Y)&&(W[Y].processed||(de=ae.getSpanningTree(Y,function(De){return De.weight*pe+pe-De.difference})).loopLevels(this,function(De,Bt,cn){W[De].processed=!0,de.loopChildren(this,De,function(Vt,Yn){var hn,Vi,at,An,Zn,nt,jt,Mt=ae.edge(De,Vt),be=null;if(W[Vt].processed=!0,Mt.weight>1){if(Mt.items.sort(),Vi=Mt.items.join(","),N.hasOwnProperty(Vi))be=N[Vi];else{for(hn=z(),a[hn.id]=hn,(be=new R).id=hn.id,be.key=Vi,at=0,An=Mt.items.length;at<An;at+=1)be.children.push(jt=Mt.items[at]),be.childrenHash[jt]=!0,ve[jt]=!0;be.children.sort(),N[be.key]=be,V[be.id]=be,ie[be.id]=be,ve[be.id]=be,Zn=be.children.slice(0),S(this,Bt.replacementItem||De,function(kt,li,Qn){return!be.childrenHash[kt]&&null!=V[kt]&&(nt=!0,S(this,kt,function(zt,hr,Pr){return be.childrenHash[zt]?ve.hasOwnProperty(zt)?void 0:2:(nt=!1,1)}),nt&&Zn.push(kt)),2}),F(Bt.replacementItem||De,Zn,be.id,hn,o,s,i,r,!1),(r[De]||0)<=1&&null==Bt.replacementItem&&(Bt.replacementItem=be.id)}be.id!=Vt&&(Zn=be.children.slice(0),S(this,Yn.replacementItem||Vt,function(kt,li,Qn){return null!=V[kt]&&!be.childrenHash[kt]&&(nt=!0,S(this,kt,function(zt,hr,Pr){return be.childrenHash[zt]?(ve.hasOwnProperty(zt),2):(nt=!1,1)}),nt&&Zn.push(kt)),2}),F(Yn.replacementItem||Vt,Zn,be.id,null,o,s,i,r,!1),(r[Vt]||0)<=1&&null==Yn.replacementItem&&(Yn.replacementItem=be.id))}})}));W=ie}}},eliminateManyToMany:function L(z){var N,V;for(N in i)i.hasOwnProperty(N)&&(r[N]||0)>1&&h(this,i,N,function(W){(s[W]||0)>1&&(V=z(),x(N,[W],V.id,V))})},groupBy:function as(z,N,V,W){if(null!=V){var Y={},Z={};for(var ie in a)if(!Z.hasOwnProperty(ie)&&(Z[ie]=!0,(s[ie]||0)<=1&&(r[ie]||0)<=1)){var ae=[new P_(ie,a[ie])];Sa(this,ie,De=>{Z[De]=!0,ae.unshift({id:De,node:a[De]})}),Ia(this,ie,De=>{Z[De]=!0,ae.push(new P_(De,a[De]))});var se=null;if(null!=W&&(se=W.call(z,ae)),-1!==se){var de=[];_(this,ae[0].id,function(De,Bt,cn){if(0!=cn)return 1;de.push(De)}),de.sort();var me=[];S(this,ae[ae.length-1].id,function(De,Bt,cn){if(0!=cn)return 1;me.push(De)}),me.sort();var pe=de.join(",")+" * "+me.join(",");null!==se&&(pe+=" * "+se),Y.hasOwnProperty(pe)||(Y[pe]=new on(de,me)),Y[pe].nodes.push(ae)}}for(pe in Y)if(Y.hasOwnProperty(pe)){var ve=Y[pe];if(ve.nodes.length>=N&&V.call(z,ve.parents,ve.children,ve.nodes))break}}},getPlanarFamily:function j(z){var V,W,N=new ba;return z.loopLevels(this,function(Z,ie){var ae=new Fd,se={},de={},me=[];z.loopLevelItems(this,Z,function(at,An,Zn){if(S(this,at,function(kt,li){var Qn=z.getItemPosition(kt),zt=new B(at,kt);de[zt.key]=zt;var hr=[];ae.isEmpty()?ae.add(Qn,[zt]):(ae.iterateBack(function(Xe,Cn){if(Cn<Qn)return ae.insertAfter(Cn,Qn,[zt]),!0;if(Cn==Qn)return Xe.push(zt),!0;for(var Mr=0,G2=Xe.length;Mr<G2;Mr+=1){var E_=Xe[Mr];E_.parentid!=at&&hr.push(E_)}}),ae.startKey()>Qn&&ae.unshift(Qn,[zt])),se[zt.key]=hr;for(var Pr=0,dt=hr.length;Pr<dt;Pr+=1)se[hr[Pr].key].push(zt);return 2}),1==G(at)){var nt=ge(at);if(1==oe(nt)){var jt=new B(at,nt);me.push(jt.key)}}});var ve,pe=[];for(var De in se){var Bt=(ve=se[De]).length;null!=pe[Bt]?pe[Bt].push(De):pe[Bt]=[De]}var cn={};pe.unshift(me);for(var Vt=0,Yn=pe.length;Vt<Yn;Vt+=1){var Mt=pe[Vt];if(null!=Mt)for(V=0,W=Mt.length;V<W;V+=1)if(!cn.hasOwnProperty(De=Mt[V])){cn[De]=!0;var be=de[De];null==N.node(be.parentid)&&N.add(null,be.parentid,{}),null==N.node(be.childid)?N.add([be.parentid],be.childid,{}):N.adopt([be.parentid],be.childid);for(var hn=0,Vi=(ve=se[De]).length;hn<Vi;hn+=1)cn[ve[hn].key]=!0}}}),N},getFamilyWithoutGrandParentsRelations:function q(){var z=new ba,N={},V=[],W=0;for(var Y in o)o.hasOwnProperty(Y)&&h(this,o,Y,function(de){var me=N[Y];if(null==me&&(N[Y]=me={}),!me.hasOwnProperty(de)){var pe=new U(Y,de,W);V.push(pe),N[Y][de]=pe}});for(;V.length>0;){var Z=[];W+=1;for(var ie=0,ae=V.length;ie<ae;ie+=1){var se=V[ie];o.hasOwnProperty(Y=se.to)&&h(this,o,Y,function(de){var me=N[se.from];if(null==me&&(N[se.from]=me={}),me.hasOwnProperty(de))me[de].distance=W;else{var pe=new U(Y,de,W);Z.push(pe),me[de]=pe}})}V=Z}return y(this,function(de,me){var pe=[];h(this,o,de,function(ve){0===N[de][ve].distance&&pe.push(ve)}),z.add(pe,de,me)}),z},getGraph:function wt(z,N){var W,V=Xr();for(W in i)i.hasOwnProperty(W)&&h(this,i,W,function(Z){var ie=V.edge(W,Z);null==ie&&(ie=null==N?new H({}):N.call(z,W,Z),V.addEdge(W,Z,ie))});return V},removeNode:function g(z){null!=a[z]&&(h(this,i,z,function(N){delete o[N][z],s[N]-=1,s[N]||(delete o[N],delete s[N],null==t.null&&(t.null={},n.null=0),t.null[N]||(t.null[N]=!0,n.null+=1))}),h(this,o,z,function(N){delete i[N][z],r[N]-=1,r[N]||(delete i[N],delete r[N])}),null!=t.null&&null!=t.null[z]&&(delete t.null[z],n.null-=1,n.null||(delete t.null,delete n.null)),delete i[z],delete r[z],delete o[z],delete s[z],delete a[z])},removeRelation:function w(z,N){var V=!1;return null!=a[z]&&null!=a[N]&&(V=m(z,N)||m(N,z)),V},removeChildRelation:function v(z,N){var V=!1;return null!=a[z]&&null!=a[N]&&(V=m(z,N)),V},node:function d(z){return a[z]},loop:y,loopLevels:function P(z,N,V){var se,me,pe,ve,De,Bt,cn,Mt,be,hn,Vi,at,An,Zn,nt,jt,kt,li,Qn,zt,W=[],Y={},Z={},ie=[],ae={},de={},Vt=null,Yn=N?I:D;function hr(){this.items={},this.minimumLevel=null}function Pr(dt,Xe,Cn){var Mr=de[Xe];Mr||(Mr=new hr,de[Xe]=Mr),Mr.addItemToLevel(dt,Cn),Vt=null==Vt?Cn:Math.min(Vt,Cn),ae[dt]=Cn,Z[dt]=!0}if(hr.prototype.addItemToLevel=function(dt,Xe){var Cn=this.items[Xe];Cn?Cn.push(dt):this.items[Xe]=Cn=[dt],this.minimumLevel=null==this.minimumLevel?Xe:Math.min(this.minimumLevel,Xe)},null!=V){for(Yn(this,function(dt,Xe,Cn){W.push(dt),Y[dt]=Cn}),Mt=0,be=W.length;Mt<be;Mt+=1)if(null==Z[Zn=W[Mt]])for(ie.push(Zn),Pr(Zn,Mt,0);ie.length>0;){for(nt=null,jt=null,kt=null,li=!N,Qn=[],hn=0,Vi=ie.length;hn<Vi;hn+=1)An=ae[at=ie[hn]],zt=!1,N?(h(this,o,at,function(dt){var Xe;Z[dt]||(zt=!0,Xe=Y[dt],(null==nt||!li||nt<Xe||nt==Xe&&kt>An-1)&&(nt=Xe,jt=dt,kt=An-1,li=!0))}),h(this,i,at,function(dt){var Xe;Z[dt]||(zt=!0,Xe=Y[dt],(null==nt||!li&&(nt>Xe||nt==Xe&&kt<An+1))&&(nt=Xe,jt=dt,kt=An+1,li=!1))})):(h(this,i,at,function(dt){var Xe;Z[dt]||(zt=!0,Xe=Y[dt],(null==nt||li||nt<Xe||nt==Xe&&kt<An+1)&&(nt=Xe,jt=dt,kt=An+1,li=!1))}),h(this,o,at,function(dt){var Xe;Z[dt]||(zt=!0,Xe=Y[dt],(null==nt||li&&(nt>Xe||nt==Xe&&kt>An-1))&&(nt=Xe,jt=dt,kt=An-1,li=!0))})),zt&&Qn.push(at);null!=jt&&(Qn.push(jt),Pr(jt,Mt,kt)),ie=Qn}for(me=!0,se=Vt;me;){for(ve in pe={},me=!1,de)if(de.hasOwnProperty(ve)&&null!=(Bt=(De=de[ve]).items[De.minimumLevel-Vt+se]))for(pe[ve]=De,me=!0,Mt=0,be=Bt.length;Mt<be;Mt+=1)if(V.call(z,cn=Bt[Mt],a[cn],se-Vt))return me=!1,!0;de=pe,se+=1}}},loopTopo:I,loopTopoReversed:D,loopChildren:S,loopParents:_,findLargestRoot:function E(){var N,Y,z=null,V={},W={};return N=null,D(this,function(Z,ie,ae){V.hasOwnProperty(Z)||(V[Z]={},W[Z]=0),V[Z][Z]=!0,W[Z]+=1,Y=!0,_(this,ie.id,function(se,de,me){var pe,ve;if(Y=!1,V.hasOwnProperty(se)||(V[se]={},W[se]=0),W[se]||1!=s[Z])for(ve in pe=V[Z])pe.hasOwnProperty(ve)&&(V[se][ve]=!0,W[se]+=1);else V[se]=V[Z],W[se]=W[Z];return 2}),Y&&(!N||W[Z]>N)&&(N=W[Z],z=Z)}),z},loopRoots:function M(z,N){var W,ae,me,pe,ve,De,Bt,cn,Yn,Mt,V=null,Y=0,Z={},ie={},se={},de={};for(De in D(this,function(be,hn,Vi){Z.hasOwnProperty(be)||(Z[be]={},ie[be]=0),Z[be][be]=!0,ie[be]+=1,ae=!0,_(this,hn.id,function(at,An,Zn){var nt,jt;if(ae=!1,Z.hasOwnProperty(at)||(Z[at]={},ie[at]=0),ie[at]||1!=s[be])for(jt in nt=Z[be])nt.hasOwnProperty(jt)&&(Z[at][jt]||(Z[at][jt]=!0,ie[at]+=1));else Z[at]=Z[be],ie[at]=ie[be];return 2}),ae&&(se[be]=!0,Y+=1)}),Bt={},se)if(se.hasOwnProperty(De))for(pe in ve=Z[De])ve.hasOwnProperty(pe)&&(Bt[pe]||(Bt[pe]=[]),Bt[pe].push(De.toString()));for(;Y>0;){for(me in W=null,se)se.hasOwnProperty(me)&&(!W||ie[me]<W)&&(W=ie[me],V=me);if(null!=V){for(pe in N?.call(z,V,a[V]),ve=Z[V])if(ve.hasOwnProperty(pe)&&!de[pe]){for(Yn=0,Mt=(cn=Bt[pe]).length;Yn<Mt;Yn+=1)ie[cn[Yn]]-=1;de[pe]=!0}delete se[V],Y-=1}}},hasNodes:function C(){return!xu(a)},hasCommonChild:function A(z){var V,W,Y,Z,ie,ae,se,N=!1;for(V={},Y=0,Z=0,ie=z.length;Z<ie;Z+=1)null!=a[ae=z[Z]]&&!V[ae]&&(V[ae]=!0,Y+=1);for(ae in W={},V)V.hasOwnProperty(ae)&&h(this,i,ae,function(de){W[de]?W[de]+=1:W[de]=1});for(se in W)if(W.hasOwnProperty(se)&&null!=o[se]&&(s[se]||0)==W[se]&&W[se]==Y){N=!0;break}return N},loopNeighbours:function Rt(z,N,V){var W={};null!=V&&(S(this,N,function(Y,Z,ie){return W.hasOwnProperty(Y)||(W[Y]=null,V.call(z,Y,Z,1)&&(W[Y]=2),_(this,Y,function(ae,se,de){return W.hasOwnProperty(ae)||(W[ae]=null,V.call(z,ae,se,2)&&(W[ae]=2)),W[ae]})),W[Y]}),_(this,N,function(Y,Z,ie){return W.hasOwnProperty(Y)||(W[Y]=null,V.call(z,Y,Z,1)&&(W[Y]=2),S(this,Y,function(ae,se,de){return W.hasOwnProperty(ae)||(W[ae]=!0,V.call(z,ae,se,2)&&(W[ae]=2)),W[ae]})),W[Y]}))},countChildren:G,countParents:oe,firstParent:je,firstChild:ge,validate:function Ru(z){var N,V;function W(Y){var ie,Z=0;if(null!=Y)for(ie in Y)Y.hasOwnProperty(ie)&&(Z+=1);return Z}for(N in y(this,function(Y,Z){h(this,i,Y,function(ie){if(!o.hasOwnProperty(ie)||!o[ie].hasOwnProperty(Y))return null!=z&&(z.message="Child #"+ie+" does not reference parent #"+Y),!1}),h(this,o,Y,function(ie){if(!i.hasOwnProperty(ie)||!i[ie].hasOwnProperty(Y))return null!=z&&(z.message="Parent #"+ie+" does not reference child #"+Y),!1})}),o)if(o.hasOwnProperty(N)){if((s[N]||0)!=W(o[N]))return null!=z&&(z.message="Parents count for item #"+N+" missmatch."),!1;if(o.hasOwnProperty(N)&&!a.hasOwnProperty(N))return null!=z&&(z.message="Orphant parents for item #"+N),!1}for(V in i)if(i.hasOwnProperty(V)){if((r[V]||0)!=W(i[V]))return null!=z&&(z.message="Children count for item "+V+" missmatch."),!1;if(i.hasOwnProperty(V)&&!a.hasOwnProperty(V))return null!=z&&(z.message="Orphant children of item "+V),!1}for(V in t)if(t.hasOwnProperty(V)){if((n[V]||0)!=W(t[V]))return null!=z&&(z.message="Root children count for item @"+V+" missmatch."),!1;h(this,t,V,function(Y){if(!a.hasOwnProperty(Y))return null!=z&&(z.message="Child #"+Y+"of root #"+V+" does not exists."),!1})}return!0},hasLoops:function Bu(){var z=zu();return I(this,function(N,V,W){z.removeNode(N)}),z.hasNodes()},clone:zu,BREAK:1,SKIP:2}}function ur(e){var t;if(1===(this.id=null,this.familyId=null,this.itemConfig=null,this.isVisible=!0,this.isActive=!0,this.isLevelNeutral=!1,this.level=null,this.levelGravity=tt.None,this.hideParentConnection=!1,this.hideChildrenConnection=!1,arguments.length))for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function jR(e){var t={logicalFamily:null,maximumId:null};return{process:function n(o){var s,a,l,u,d,c=e.getItems(),h=ba(),f=0;if(c.length>0)for(s=0,a=c.length;s<a;s+=1)null!=(l=c[s])&&(u=new ur({id:l.id,itemConfig:l,isActive:l.isActive}),h.add(l.parents,u.id,u),d=parseInt(l.id,10),f=Math.max(isNaN(d)?0:d,f));if(t.logicalFamily=h,t.maximumId=f,o&&!h.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function i(){return t.logicalFamily},getMaximumId:function r(){return t.maximumId}}}function Ou(e,t){this.from=e,this.to=t}function UR(e){var t={logicalFamily:null,maximumId:null,loops:[]};return{process:function n(a){var l=e.getLogicalFamily(),c=function i(a,l,u){var c,h,f,d,p,g,m=function $R(e,t){var i,r,o,s,a,l,c,n=[],h=e.clone();e.loopTopo(this,function(P){h.removeNode(P)}),e.loopTopoReversed(this,function(P){h.removeNode(P)});var f=h.clone();for(f.loop(this,function(P){if(null!=h.node(P)){h.loopParents(this,P,function(A){return n.push(new Ou(A,P)),h.removeChildRelation(A,P),h.SKIP});var M=[];h.loopTopo(this,function(A){M.push(A)}),h.loopTopoReversed(this,function(A){M.push(A)});for(var E=0;E<M.length;E+=1)h.removeNode(M[E])}}),r=0,o=n.length;r<o;r+=1)if(!f.removeChildRelation((i=n[r]).from,i.to))throw"Relation does not exists";if(t&&f.hasLoops())throw"Failed to clean loops in family";var d=f.getGraph(this,function(P,M){return{from:P,to:M,capacity:1,flow:0}}),p="__1000__",g="__2000__",m=n.length;for(r=0,o=n.length;r<o;r+=1)null==(c=d.edge((i=n[r]).from,g))?d.addEdge(i.from,g,{from:i.from,to:g,capacity:1,flow:0,tos:[i.to]}):(c.capacity+=1,c.tos.push(i.to)),null==(c=d.edge(p,i.to))?d.addEdge(p,i.to,{from:p,to:i.to,capacity:1,flow:0,froms:[i.from]}):(c.capacity+=1,c.froms.push(i.from));for(var w=0;d.getLevelGraph(this,p,function(P,M,E){return P==E.from?E.capacity>E.flow:E.flow>0}).hasNode(g);)for(;;){var C=d.dfsPath(this,p,g,function(P,M,E){return P==E.from?E.capacity>E.flow:E.flow>0});if(0==C.length)break;var y=1/0;for(r=0,o=C.length;r<o-1;r+=1){var T;if(0==(T=(c=d.edge(l=C[r],C[r+1])).from==l?c.capacity-c.flow:c.flow))throw"Broken flow path";y=Math.min(y,T)}for(r=0,o=C.length;r<o-1;r+=1)(c=d.edge(l=C[r],C[r+1])).from==l?c.flow+=y:c.flow-=y;w+=y}if(w<m){var S=d.getLevelGraph(this,p,function(P,M,E){return P==E.from&&E.capacity>E.flow}),_=[];S.loopNodes(this,p,function(P){d.loopNodeEdges(this,P,function(M,E){if(E.to==M&&!S.hasNode(M)){var A=!1;d.dfsLoop(this,M,function(F,x,O){return O.from==F&&!S.hasNode(F)},function(F){return F==g&&(A=!0,!0)}),A&&_.push(new Ou(P,M))}})});var b=[],I=0;for(r=0,o=_.length;r<o;r+=1){var D=_[r];if(D.from==p)for(s=0,a=(c=d.edge(D.from,D.to)).froms.length;s<a;s+=1)b.push(new Ou(c.froms[s],D.to)),I+=1;else if(D.to==g)for(s=0,a=(c=d.edge(D.from,D.to)).tos.length;s<a;s+=1)b.push(new Ou(D.from,c.tos[s])),I+=1;else b.push(D),I+=1}I==w&&(n=b)}return n}(a,u),w=[],v=[],C={};for(f=0,d=m.length;f<d;f+=1){var y=m[f];C.hasOwnProperty(y.to)?C[y.to].parents.push(y.from):(C[y.to]={itemid:y.to,parents:[y.from]},v.push(C[y.to]))}var T={};if(v.length>0)for(a=a.clone(),f=0,d=v.length;f<d;f+=1){var S=v[f],_=S.parents,b=[];for(a.loopParents(this,S.itemid,function(M,E){return b.push(M),a.SKIP}),p=0,g=b.length;p<g;p+=1)a.removeChildRelation(b[p],S.itemid);var I=b.length<=_.length;for(h=new ur({id:l+=1,isVisible:!1,isActive:!1,isLevelNeutral:!1,hideParentConnection:I,hideChildrenConnection:I,levelGravity:tt.Children,itemConfig:{title:"fake parent #"+l,description:"This is a fake parent item, it was created by loops removal task."}}),a.add([],h.id,h),a.adopt([h.id],S.itemid),w.push({from:h.id,to:S.itemid,isOppositeFlow:!1}),p=0,g=_.length;p<g;p+=1){var D=_[p];null==(c=T[D])&&(c=new ur({id:l+=1,isVisible:!1,isActive:!1,isLevelNeutral:!1,hideParentConnection:!0,hideChildrenConnection:!0,levelGravity:tt.Parents,itemConfig:{title:"fake child #"+l,description:"This is a fake child item, it was created by loops removal task."}}),T[D]=c,a.add([D],c.id,c),w.push({from:D,to:c.id,isOppositeFlow:!1})),a.adopt([h.id],c.id),w.push({from:h.id,to:c.id,isOppositeFlow:!0})}var P={};for(p=0,g=_.length;p<g;p+=1)P[_[p]]=!0;for(p=0,g=b.length;p<g;p+=1)P.hasOwnProperty(b[p])||a.adopt([b[p]],h.id)}return{maximumId:l,logicalFamily:a,loops:w}}(l,e.getMaximumId(),a);if(t.logicalFamily=c.logicalFamily,t.maximumId=c.maximumId,t.loops=c.loops,a&&!l.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function r(){return t.logicalFamily},getMaximumId:function o(){return t.maximumId},getLoops:function s(){return t.loops}}}function GR(e,t,n){var i={annotations:[],configs:{},maximumId:null},r={},o=new Ze(new le({zOrderType:new fe(lt,!1,n.zOrderType),fromItem:new k(["string","number"],!0),toItems:new Ze(new k(["string","number"],!0),!0),title:new k(["string"],!0),itemTitleColor:new k(["string"],!1,n.itemTitleColor),templateName:new k(["string"],!0)},!1),!1,null,!0);return{process:function s(){var f,d,p,c={isChanged:!1,hash:r,sourceHash:{}},h=t.getMaximumId();i.annotations=o.read(i.annotations,e.getAnnotations(tn.Label),"annotations",c),i.configs={};var g=c.sourceHash.annotations;for(f=0,d=i.annotations.length;f<d;f+=1)(p=i.annotations[f]).id=h+=1,i.configs[p.id]=g[f];return i.maximumId=h,c.isChanged},getAnnotations:function a(){return i.annotations},getMaximumId:function l(){return i.maximumId},getConfig:function u(c){return i.configs[c]}}}function WR(e,t){var n={annotations:[]},i={},r=new Ze(new le({id:new k(["number"],!0),title:new k(["string"],!0),itemTitleColor:new k(["string"],!1,t.itemTitleColor),templateName:new k(["string"],!0)}),!0,"id");return{process:function o(){var a={isChanged:!1,hash:i};return n.annotations=r.read(n.annotations,e.getAnnotations(),"annotations",a),a.isChanged},getAnnotations:function s(){return n.annotations}}}function qR(e,t){var n={annotations:[]},i={},r=new Ze(new le({id:new k(["number"],!0),fromItem:new k(["string","number"],!0),toItems:new Ze(new k(["string","number"],!0),!0)}),!0,"id");return{process:function o(){var l={isChanged:!1,hash:i};return n.annotations=r.read(n.annotations,e.getAnnotations(),"annotations",l),l.isChanged},getAnnotations:function s(){return n.annotations},getMaximumId:function a(){return e.getMaximumId()}}}function to(e,t,n,i){this.values=[t,i],this[e]=0,this[n]=1}function YR(e,t){var n={logicalFamily:null,maximumId:null};function o(l,u,c,h,f){var d,m,w,v,C,p=!0,g=null,y=[];for(w=0,v=h.length;w<v;w+=1){if(null==(d=u.edge(c,m=h[w]))){p=!1;break}if(null==g)g=d.getFar(m);else if(g!=d.getFar(m)){p=!1;break}y.push(d.getNear(m))}if(p&&(C=f(),l.bundleParents(g,y,C.id,C)?(C.levelGravity=tt.Children,p=!0):l.bundleChildren(g,y,C.id,C)?(C.levelGravity=tt.Parents,p=!0):l.bundleParents(g,h,C.id,C)?(C.levelGravity=tt.Children,p=!0):l.bundleParents(g,h,C.id,C)&&(C.levelGravity=tt.Parents,p=!0),p))for(w=0,v=h.length;w<v;w+=1)(d=u.edge(c,m=h[w])).setFar(m,C.id)}return{process:function i(l){var u=t.getLogicalFamily(),c=e.getAnnotations();if(function r(l,u){var f,d,p,g,m,c=Xr(),h={};if(u.length>0){for(g=0,m=u.length;g<m;g+=1)h.hasOwnProperty((d=u[g]).fromItem)?h[d.fromItem].push(d):(h[d.fromItem]=[d],l.loopChildren(this,d.fromItem,function(w,v,C){return c.addEdge(d.fromItem,w,new to(d.fromItem,d.fromItem,w,w)),l.SKIP}),l.loopParents(this,d.fromItem,function(w,v,C){return c.addEdge(w,d.fromItem,new to(w,w,d.fromItem,d.fromItem)),l.SKIP}));for(p in h)if(h.hasOwnProperty(p))for((f=h[p]).sort(function(w,v){return v.toItems.length-w.toItems.length}),g=0;g<f.length;g+=1)o(l,c,(d=f[g]).fromItem,d.toItems,function(){return new ur({id:d.id,isVisible:!0,isLevelNeutral:!0,isActive:!1,itemConfig:d})})}}(u=u.clone(),c),n.logicalFamily=u,n.maximumId=e.getMaximumId(),l&&!u.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function s(){return n.logicalFamily},getMaximumId:function a(){return n.maximumId}}}function ZR(e,t){var n={maximumId:null,logicalFamily:null};return{process:function i(s){var a=t.getLogicalFamily(),l=t.getMaximumId();return a=1==e.getOptions().hideGrandParentsConnectors?a.getFamilyWithoutGrandParentsRelations():a.clone(),n.logicalFamily=a,n.maximumId=l,!0},getLogicalFamily:function r(){return n.logicalFamily},getMaximumId:function o(){return n.maximumId}}}function QR(e){var t={maximumId:null,logicalFamily:null};return{process:function n(o){var s=e.getLogicalFamily(),a=e.getMaximumId();if((s=s.clone()).optimizeReferences(function(){return new ur({id:a+=1,isVisible:!1,isActive:!1,itemConfig:{title:"bundle #"+a,description:" This item was created by references optimizer."},levelGravity:tt.Children,isLevelNeutral:!0})}),o&&!s.validate())throw"References are broken in family structure!";if(o&&s.hasLoops())throw"Structure has loops!";if(s.eliminateManyToMany(function(){return new ur({id:a+=1,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+a,description:"This is item used to eliminate M:M relations."},levelGravity:tt.Children,hideParentConnection:!1,hideChildrenConnection:!1,isLevelNeutral:!0})}),o&&!s.validate())throw"References are broken in family structure!";return t.logicalFamily=s,t.maximumId=a,!0},getLogicalFamily:function i(){return t.logicalFamily},getMaximumId:function r(){return t.maximumId}}}function Da(e){this.debug=e}function cr(){this.NORMAL_ITEM_WEIGHT=10010,this.LINE_ITEM_WEIGHT=1e4}function no(e,t,n,i,r){this.isChildren=e,this.items=t,this.len=t.length,this.matrixNodeId=n,this.connectionId=i,this.matrixWidth=r,this.blocksCount=Math.ceil(this.matrixWidth/2),this.rowsCount=Math.ceil(this.len/this.matrixWidth)}function Hd(e,t){this.fromItem=e,this.toItem=t}function qn(e,t,n){this.items=e,this.hideParentConnection=t,this.hideChildrenConnection=n,this.data={columns:[],rows:[]}}function Hi(e,t,n){this.items=e,this.hideParentConnection=t,this.hideChildrenConnection=n,this.data={columns:[],row:null}}function Au(e){this.parent=Da.prototype,this.parent.constructor.apply(this,arguments)}function KR(e,t){var n={maximumId:null,logicalFamily:null},i=new Au(!1);return{process:function r(h){var f=t.getLogicalFamily(),g=t.getMaximumId(),d=e.getOptions(),p={enableMatrixLayout:d.enableMatrixLayout,minimumMatrixSize:d.minimumMatrixSize,maximumColumnsInMatrix:d.maximumColumnsInMatrix};f=f.clone();var{maximumId:g,layouts:m,nestedLayoutParentConnectorIds:w,nestedLayoutBottomConnectorIds:v,bundles:C}=i.extract(p,e.getConfig,f,g);return n.logicalFamily=f,n.maximumId=g,n.layouts=m,n.nestedLayoutParentConnectorIds=w,n.nestedLayoutBottomConnectorIds=v,n.bundles=C,!0},getLogicalFamily:function o(){return n.logicalFamily},getMaximumId:function c(){return n.maximumId},getLayouts:function s(){return n.layouts},getNestedLayoutParentConnectorIds:function a(){return n.nestedLayoutParentConnectorIds},getNestedLayoutBottomConnectorIds:function l(){return n.nestedLayoutBottomConnectorIds},getBundles:function u(){return n.bundles}}}function ss(e){this.parent=Da.prototype,this.parent.constructor.apply(this,arguments)}function XR(e,t){var n={maximumId:null,logicalFamily:null},i=new ss(!1);return{process:function r(a){var l=t.getLogicalFamily(),u=t.getMaximumId(),c=e.getOptions(),h={groupByType:c.groupByType,alignBylevels:c.alignBylevels};return l=l.clone(),u=i.normalize(h,l,u),n.logicalFamily=l,n.maximumId=u,!0},getLogicalFamily:function o(){return n.logicalFamily},getMaximumId:function s(){return n.maximumId}}}function Lu(e,t,n){this.id=e,this.familyId=t,this.level=n,this.childIndex=0}function Vd(e){this.itemId=e,this.position=null,this.balance=0,this.left={},this.right={},this.crossings={}}function M_(){this.parentsStackSize=0}function jd(e,t,n){this.fromItems=e,this.toItems=t,this.dotId=n||null,this.fromOffset=0,this.fromStackSize=0}function un(){}function k_(){}function JR(e,t,n){var i={maximumId:null,logicalFamily:null,treeLevels:null,bundles:null,connectorStacks:null},r=new un,o=new k_,s=new M_;return{process:function a(d){var p=n.getLogicalFamily(),w=n.getMaximumId(),g=e.getOptions(),m={logicalFamily:p,maximumId:w,itemsPositions:t.getPositions(),itemsGroups:t.getGroups(),primaryParents:o.getUserDefinedPrimaryParents(g.items,p)},{maximumId:w,treeLevels:v,bundles:C,connectorStacks:y}=r.balance(m);return i.maximumId=w,i.treeLevels=v,i.bundles=C,i.connectorStacks=y,i.logicalFamily=p,!0},getLogicalFamily:function l(){return i.logicalFamily},getMaximumId:function u(){return i.maximumId},getTreeLevels:function c(){return i.treeLevels},getBundles:function h(){return i.bundles},getConnectorsStacksSizes:function f(d){return i.connectorStacks[d]||s}}}function e2(e,t,n){var i={items:{}};return{process:function r(){var l,u,s=e.getOptions(),a=t.getAnnotations();for(i.items={},l=0,u=a.length;l<u;l+=1){var c=a[l],h=new g_,f=n.getTemplate(c.templateName,s.defaultLabelAnnotationTemplate,n.DefaultWidgetLabelAnnotationTemplateName);h.template=f,i.items[c.id]=h}return!0},getTemplateParams:function o(s){return i.items[s]}}}function t2(e,t){return{process:function n(){return!0},getTemplateParams:function i(r){return e.getTemplateParams(r)||t.getTemplateParams(r)}}}function n2(e,t,n,i){var r={items:[]},o={},s=new Ze(new k(["string","number"],!0),!0);return{process:function a(){var c={isChanged:!1,hash:o},h=e.getCursorTreeItem(),f=n.getLogicalFamily(),d=t.getNeighboursSelectionMode(),p=i.getActiveItems();return r.items=s.read(r.items,function l(c,h,f,d){var p=[],g={};if(null!==c)switch(h){case Su.ParentsAndChildren:f.loopParents(this,c,function(m,w){if(w.isVisible&&!g.hasOwnProperty(m)&&(g[m]=!0,p.push(m)),d.hasOwnProperty(m))return f.SKIP}),f.loopChildren(this,c,function(m,w){if(w.isVisible&&!g.hasOwnProperty(m)&&(g[m]=!0,p.push(m)),d.hasOwnProperty(m))return f.SKIP});break;case Su.ParentsChildrenSiblingsAndSpouses:f.loopNeighbours(this,c,function(m,w){if(w.isVisible&&!g.hasOwnProperty(m)&&(g[m]=!0,p.push(m)),d.hasOwnProperty(m))return!0})}return p}(h,d,f,p),"items",c),c.isChanged},getItems:function u(){return r.items}}}function r2(e,t,n,i){var r={items:[]};return{process:function o(){var l=i.getSelectionPathMode(),u=e.getLogicalFamily(),c=t.getCursorTreeItem(),h=n.getItems().slice(0);return h.push(c),r.items=function s(l,u,c){var d,p,g,h=[],f={};for(p=0,g=l.length;p<g;p+=1)switch(d=l[p],c){case va.None:break;case va.FullStack:u.loopParents(this,d,function(m,w){if(null!=f[m])return u.SKIP;w.isVisible&&h.push(m),f[m]=!0})}return h}(h,u,l),!0},getItems:function a(){return r.items}}}function x_(){function e(t,n,i,r){this.left=t,this.right=n,this.leftIndex=i,this.rightIndex=r}this.items=[],this.add=function(t,n,i,r){switch(arguments.length){case 2:this.items.push(new e(-t/2,t/2,n,n));break;case 4:this.items.push(new e(t,n,i,r))}},this.merge=function(t,n){for(var i=this.getDistanceTo(t),r=0,o=0,s=this.items.length,a=t.items.length,l=Math.min(s,a),u=Math.max(s,a),c=0;c<l;c+=1){var h=this.items[s-1-c],f=t.items[a-1-c];if(0===c){var d=h.right-h.left+(i||0)+(n||0)+f.right-f.left;r=d/2+h.left,o=d/2-f.right}h.left-=r,h.right=f.right+o,h.rightIndex=f.rightIndex,this.items[u-1-c]=h}for(c=l;c<u;c+=1)f=t.items[a-1-c],null==(h=this.items[s-1-c])?this.items[u-1-c]=new e(f.left+o,f.right+o,f.leftIndex,f.rightIndex):(h.left-=r,h.right-=r);return i},this.attach=function(t,n){for(var i=this.getDistanceTo(t),r=n||0,o=this.items.length,s=t.items.length,a=Math.min(o,s),l=Math.max(o,s),u=0;u<a;u+=1){var c=this.items[o-1-u],h=t.items[s-1-u];0===u&&(r=c.right+(i||0)+(n||0)-h.left),c.right=h.right+r,c.rightIndex=h.rightIndex,this.items[l-1-u]=c}for(u=a;u<l;u+=1)null==(c=this.items[o-1-u])&&(this.items[l-1-u]=new e((h=t.items[s-1-u]).left+r,h.right+r,h.leftIndex,h.rightIndex));return i},this.getDistanceTo=function(t){var n=null,i=0,r=this.items.length,o=t.items.length,s=Math.min(r,o);if(s>0){for(var a=0;a<s;a+=1){var l=this.items[r-1-a],u=t.items[o-1-a];0===a?n=i=l.right-u.left:l.rightIndex<u.leftIndex&&(n=Math.max(n,l.right-u.left))}n-=i}return n},this.loop=function(t,n){if(null!=n)for(var i=0,r=this.items.length;i<r;i+=1){var o=this.items[r-1-i];if(n.call(t,i,o.left,o.right,o.leftIndex,o.rightIndex))break}},this.getLeft=function(t){var n=this.items.length-1;if(n>=t)return this.items[n-t].left}}function s2(e,t,n,i){var r,s,o={};function a(f,d){var p=f[d];return null==p&&(p=new x_,f[d]=p),p}function c(f,d,p,g,m,w,v,C){var y=w,T=w;p.loopSiblings(this,d,function(E){var A=v.getItemPosition(E);y=Math.min(y,A),T=Math.max(T,A)});for(var S=w-1;S>=y;S-=1){var _=v.getItemAtPosition(g,S);if(!f.hasOwnProperty(_)){var b=v.getItemAtPosition(g,S+1);f[_]=f[b]-(o[_]/2+(C[b]||0)+o[b]/2)}}for(S=w+1;S<=T;S+=1)_=v.getItemAtPosition(g,S),f.hasOwnProperty(_)||(b=v.getItemAtPosition(g,S-1),f[_]=f[b]+(o[b]/2+(C[_]||0)+o[_]/2));var I=f[_=v.getItemAtPosition(g,y)]-o[_]/2;I+=f[_=v.getItemAtPosition(g,T)]+o[_]/2,I/=2,y=null,T=null,p.loopNonSiblings(this,d,function(E){var A=v.getItemPosition(E);y=null!=y?Math.min(y,A):A,T=null!=T?Math.max(T,A):A});var D=0;for(S=y;S<=T;S+=1){var P=v.getItemAtPosition(m,S);D+=o[P],S>y&&(D+=C[P]||0)}var M=I-D/2;for(P=v.getItemAtPosition(m,y),f.hasOwnProperty(P)||(f[P]=M+o[P]/2),S=y+1;S<=T;S+=1)P=v.getItemAtPosition(m,S),f.hasOwnProperty(P)||(b=v.getItemAtPosition(m,S-1),f[P]=f[b]+(o[b]/2+(C[P]||0)+o[P]/2))}return null!=i&&n.loopItems(this,function(f,d,p,g,m){o[f]=i.call(e,f,d)}),s=function l(f,d){var p={},g={},m=null;return d.loopLevelsReversed(this,function(w,v){var C=new x_;null!=m&&(m.add(0,Number.MAX_VALUE),C.merge(m,0));var y=m=C;d.loopLevelItems(this,w,function(T,S,_){var b=a(g,T);switch(b.add(o[T],_),f.countParents(T)){case 0:null!=y&&(p[T]=y.attach(b));break;case 1:f.loopParents(this,T,function(O,R,H){var J=a(g,O);return p[T]=J.merge(b),y=J,f.BREAK});break;default:var I=0,D=null,P=null,M={};f.loopParents(this,T,function(O,R,H){if(H>0)return f.BREAK;I+=o[O];var J=d.getItemPosition(O);D=null==D?J:Math.min(D,J),P=null==P?J:Math.max(P,J),M[J]=O});for(var E=-I/2,A=D;A<=P;A+=1){var F=M[A];E+=o[F]/2;var x=a(g,F);x.attach(b,-E),y=x,E+=o[F]/2}}})}),p}(t,n),r=function u(f,d,p){var g={},m=function o2(e){var i,r,t=[],n={};function o(){this.fromIndex=0,this.toIndex=0,this.items=[],this.hash={}}function s(u){this.id=u,this.parents=new o,this.children=new o,this.loopSiblings=function(c,h,f){this._loop(c,this.parents.hash.hasOwnProperty(h)?this.parents.items:this.children.items,f)},this.loopNonSiblings=function(c,h,f){this._loop(c,this.parents.hash.hasOwnProperty(h)?this.children.items:this.parents.items,f)},this.loop=function(c,h){this._loop(c,this.parents.items,h),this._loop(c,this.children.items,h)},this._loop=function(c,h,f){if(null!=f)for(var d=0,p=h.length;d<p;d+=1)f.call(c,h[d])},this.addParent=function(c){this._add(c,this.parents)},this.addChild=function(c){this._add(c,this.children)},this._add=function(c,h){h.hash.hasOwnProperty(c)||(h.items.push(c),h.hash[c]=!0)}}i=0,e.loop(this,function(u,c){var h=e.countChildren(u);if(h>0&&!n.hasOwnProperty(u)){var f=new s(i);i+=1,f.addParent(u),e.loopChildren(this,u,function(d,p){return f.addChild(d),1==h&&e.loopParents(this,d,function(g){return f.addParent(g),n[g]=f,e.SKIP}),e.SKIP}),t.push(f),n[u]=f}});var a={};for(i=0,r=t.length;i<r;i+=1){var l=t[i];l.loop(this,function(u){a.hasOwnProperty(u)?a[u].push(l):a[u]=[l]})}return a}(f),w={};return d.loopLevels(this,function(v,C){d.loopLevelItems(this,v,function(y,T,S){if(!g.hasOwnProperty(y)){var _=0;if(0===S)null!=p[y]&&(_+=p[y]+o[y]/2);else{var b=d.getItemAtPosition(v,S-1);_+=g[b]+o[b]/2+(p[y]||0)+o[y]/2}g[y]=_}var I=m[y];if(null!=I)for(var D=0;D<I.length;D+=1){var P=I[D];w.hasOwnProperty(P.id)||(w[P.id]=!0,c(g,y,P,v,v+1,S,d,p))}})}),g}(t,n,s),{getOffset:function h(f){return r[f]}}}function Fu(e){if(this.currentvisibility=ne.Normal,this.actualVisibility=ne.Normal,this.shift=0,this.depth=0,this.nextLevelShift=0,this.horizontalConnectorsDepth=0,this.topConnectorShift=0,this.connectorShift=0,this.levelSpace=0,this.currentOffset=0,this.labels=[],this.labelsRect=null,this.showLabels=!0,this.hasFixedLabels=!1,null!=e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function a2(e,t,n){this.offset=e,this.leftPadding=t,this.rightPadding=n}function Ti(e,t,n){this.logicalFamily=e,this.treeLevels=t,this.getConnectorsStacksSizes=n,this.treeLevelsPositions=[],this.childLayoutsPositions={}}function $d(e){this.visibility=e}function l2(e,t){var n={layoutsTree:{},maximumId:null};return{process:function i(){var s=e.getLogicalFamily(),a=e.getTreeLevels(),l=e.getMaximumId(),u=e.getConnectorsStacksSizes,c=t.getLayouts(),h=new Ti(s,a,u),f=wa();l++,f.add(null,l,h);for(var d=[{id:l,levelLayout:h}];d.length>0;){for(var p=[],g=0;g<d.length;g+=1){var{id:m,levelLayout:w}=d[g];w.loop(this,function(v){var C=v.id,y=c[C];y?p.push({id:C,levelLayout:y}):y=new $d(v.isVisible?ne.Auto:ne.Invisible),f.add(m,C,y)})}d=p}return n.layoutsTree=f,n.maximumId=l,!0},getLayoutsTree:function r(){return n.layoutsTree},getMaximumId:function o(){return n.maximumId}}}function Ud(e,t){this.level=e,this.visibility=t}function u2(e,t,n,i,r,o,s,a,l,u){var c={treeItemsPositions:{},size:null};function p(_,b,I,D,P,M,E,A){var F={};return b.loopPostOrder(this,function(x,O,R,H){var re=I[D[x]],L=P==x,B=M(x),j=E(x);F[x]=O.measure(re,L,B,j,F,A)}),{treeItemsPositions:F,size:F[_].actualSize}}function g(_,b,I){for(var D,P,M=[],E=0;E<=_;E+=1)M.push(ne.Normal);for(D=0;D<=I;D+=1)M[(P=b[D]).level]=P.visibility;return M}function w(_,b,I){var D=!1;switch(I){case Wt.PageWidth:b.width>=_.width&&(D=!0);break;case Wt.PageHeight:b.height>=_.height&&(D=!0);break;case Wt.FitToPage:b.height>=_.height&&b.width>=_.width&&(D=!0)}return D}function v(_,b,I,D){var P=[];return P[ne.Normal]=_,P[ne.Dot]=b,P[ne.Line]=I,P[ne.Invisible]=D,P}function C(_,b,I,D){var P=[];return P[ne.Normal]=_,P[ne.Dot]=b,P[ne.Line]=I,P[ne.Invisible]=D,P}return{process:function h(){var{verticalAlignment:_,pageFitMode:b,minimalVisibility:I,padding:D,normalLevelShift:P,dotLevelShift:M,lineLevelShift:E,normalItemsInterval:A,dotItemsInterval:F,lineItemsInterval:x,checkBoxPanelSize:O,buttonsPanelSize:R,groupTitlePanelSize:H,groupTitlePlacementType:J,cousinsIntervalMultiplier:re}=i.getOptions(),{arrowsDirection:L,linesWidth:B}=r.getOptions(),{maximumColumnsInMatrix:j,horizontalAlignment:U}=o.getOptions(),{orientationType:q}=n.getOptions(),G=u.isItemSelected,oe=l.getCursorTreeItem(),ge=a.getTemplateParams,{optimalPanelSize:je}=e.getOptions(),Rt=new Te(je),{scale:wt}=t.getOptions();Rt.scale(1/wt);var on=s.getLayoutsTree(),as=null;on.loopLevels(this,function(W,Y,Z){return as=W,on.BREAK});var Sa={},Ia=0,Ru=!1;on.loopLevels(this,function(W,Y,Z){if(null!=Y.loop){var ie=on.parentid(W),ae=Sa[ie]||0;Y.loop(this,function(se,de){var me=ae+de;Sa[se.id]=me,Ia=Math.max(Ia,me),Ru=!0})}});var Bu={verticalAlignment:_,pageFitMode:b,padding:D,minimalVisibility:I,orientationType:q,arrowsDirection:L,linesWidth:B,checkBoxPanelSize:O,buttonsPanelSize:R,groupTitlePanelSize:H,groupTitlePlacementType:J,maximumColumnsInMatrix:j,horizontalAlignment:U,shifts:v(P,M,E,E),intervals:C(A,F,x,x),cousinsIntervalMultiplier:re};if(c.treeItemsPositions={},c.size=Rt,Ru){var{treeItemsPositions:zu,size:z}=function f(_,b,I,D,P,M,E,A,F){var x,O,R,{orientationType:H,pageFitMode:J,minimalVisibility:re}=F;switch(H){case Me.Left:case Me.Right:_.invert()}switch(J){case Wt.None:case Wt.AutoSize:O=[new Ud(0,ne.Normal)],R=g(b,O,0),x=p(I,D,R,P,M,E,A,F);break;default:if(O=function m(_,b){var I=[new Ud(0,ne.Normal)],D=[];switch(b){case ne.Normal:break;case ne.Dot:D.push(ne.Dot);break;case ne.Auto:case ne.Line:case ne.Invisible:D.push(ne.Dot),D.push(ne.Line)}for(var P=_;P>=0;P-=1)for(var M=0;M<D.length;M+=1)I.push(new Ud(P,D[M]));return I}(b,re),R=g(b,O,O.length-1),w((x=p(I,D,R,P,M,E,A,F)).size,_,J)){var L=new K(0,0,x.size.width,x.size.height);L.addRect(0,0,_.width,_.height),L.offset(0,0,5,5),function d(_,b,I){var P,D=0;if(!I.call(_,D)){for(P=b;b-D>1;)P=Math.floor((b+D)/2),I.call(_,P)?b=P:D=P;b!==P&&I.call(_,b)}}(this,O.length-1,function(B){return R=g(b,O,B),w((x=p(I,D,R,P,M,E,A,F)).size,L,F.pageFitMode)})}}return x}(Rt,Ia,as,on,Sa,oe,G,ge,Bu);c.treeItemsPositions=zu,c.size=z,c.treeItemsPositions[as].actualPosition=new K(0,0,c.size.width,c.size.height);var V={};on.loopPreOrder(this,function(W,Y,Z,ie){Y.arrange(this,c.treeItemsPositions[W].actualPosition,V[W],c.treeItemsPositions,Bu,function(de,me,pe){c.treeItemsPositions[de]=me,V[de]=pe})})}return!0},getItemsPositions:function T(){return c.treeItemsPositions},getItemPosition:function y(_){return c.treeItemsPositions[_]},getContentSize:function S(){return c.size}}}function c2(){var e={};return{register:function t(i,r){return e[i]=r,r},resolve:function n(){var i=[],r=arguments[0],o=arguments[1],s=arguments[2]||{};return function(){for(var a=Array.prototype.slice.call(arguments,0),l=0;l<r.length;l+=1){var u=r[l];i.push(e.hasOwnProperty(u)&&""!==u?e[u]:a.shift())}return i=i.concat(a),o.apply(s||{},i)}}}}function h2(){var e=new ba,t=new c2,n=[];function i(u,c,h,f){this.name=u,this.dependencies=c,this.factory=h,this.task=null,this.color=f}return{addTask:function r(u,c,h,f){if(n.length>0)throw"Task Manager is already initialized";e.add(c,u,new i(u,c,h,f))},addDependency:function s(u,c){if(n.length>0)throw"Task Manager is already initialized";t.register(u,c)},getTask:function o(u){var c=e.node(u);return c&&c.task},process:function a(u,c,h){var f=!1,d=h;0===n.length&&e.loopTopo(this,function(S,_){_.task=t.register(S,t.resolve(_.dependencies,_.factory)()),n.push(_)}),h&&console.log("-- process --");for(var p={},g=0,m=n.length;g<m;g+=1){var w=n[g],v=[];if(w.name==u||p.hasOwnProperty(w.name)){if(d)var C=performance.now();if((f=w.task.process(h))&&e.loopChildren(this,w.name,function(S,_){return p[S]=!0,h&&v.push(S),e.SKIP}),d)var y=performance.now();if(h){var T=Math.round(y-C,2);console.log(g+". "+w.name+", "+T+" ms. "+(f?" - forces: "+v.toString():""))}}if(w.name==c)return}},getProcessDiagramConfig:function l(){var u=[];0===n.length&&e.loopTopo(this,function(p,g){g.task=t.register(p,t.resolve(g.dependencies,g.factory)()),n.push(g)});for(var c=0,h=n.length;c<h;c+=1){var f=n[c],d={id:f.name,title:fN(f.name).join(" "),description:f.task.description||"",itemTitleColor:f.color,parents:[]};e.loopParents(this,f.name,function(p,g){return d.parents.push(p),e.SKIP}),u.push(d)}return u}}}function f2(e,t,n,i,r){var o=new h2;return o.addDependency("options",e),o.addDependency("graphics",t),o.addDependency("getLayout",n),o.addDependency("setLayout",i),o.addDependency("templates",r),o.addDependency("defaultConfig",new oN),o.addDependency("defaultItemConfig",new sN),o.addDependency("defaultTemplateConfig",new xd),o.addDependency("defaultPaletteItemConfig",new aN),o.addDependency("defaultBackgroundAnnotationConfig",new c_),o.addDependency("defaultConnectorAnnotationConfig",new lN),o.addDependency("defaultHighlightPathAnnotationConfig",new uN),o.addDependency("defaultShapeAnnotationConfig",new h_),o.addDependency("defaultLabelAnnotationConfig",new cN),o.addDependency("defaultLevelAnnotationConfig",new hN),o.addDependency("showElbowDots",!0),o.addDependency("null",null),o.addDependency("foreground",lt.Foreground),o.addDependency("background",lt.Background),o.addTask("OptionsTask",["options"],AR,$.Black),o.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],pN,$.Navy),o.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],gN,$.Navy),o.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],mN,$.Navy),o.addTask("ItemsContentOptionTask",["OptionsTask","defaultItemConfig"],vN,$.Navy),o.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],yN,$.Navy),o.addTask("MinimumVisibleLevelsOptionTask",["OptionsTask","defaultConfig"],wN,$.Navy),o.addTask("LabelsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],TN,$.Navy),o.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],_N,$.Navy),o.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],CN,$.Navy),o.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],LR,$.Navy),o.addTask("MinimizedItemsOptionTask",["OptionsTask"],bN,$.Navy),o.addTask("HideGrandParentsConnectorsOptionTask",["OptionsTask","defaultConfig"],FR,$.Navy),o.addTask("NormalizeOptionTask",["OptionsTask","defaultConfig"],NR,$.Navy),o.addTask("ExtractNestedLayoutsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],RR,$.Navy),o.addTask("OrderFamilyNodesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],BR,$.Navy),o.addTask("LinePaletteOptionTask",["OptionsTask","defaultPaletteItemConfig"],zR,$.Navy),o.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],DN,$.Navy),o.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],SN,$.Navy),o.addTask("SelectedItemsOptionTask",["OptionsTask"],IN,$.Navy),o.addTask("CursorSelectionPathModeOptionTask",["OptionsTask","defaultConfig"],PN,$.Navy),o.addTask("NeighboursSelectionModeOptionTask",["OptionsTask","defaultConfig"],HR,$.Navy),o.addTask("SplitAnnotationsOptionTask",["OptionsTask"],MN,$.Cyan),o.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],f_,$.Navy),o.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],f_,$.Navy),o.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],d_,$.Navy),o.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],d_,$.Navy),o.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],p_,$.Navy),o.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],p_,$.Navy),o.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],kN,$.Navy),o.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],xN,$.Navy),o.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],EN,$.Navy),o.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],ON,$.Navy),o.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],AN,$.Navy),o.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],LN,$.Navy),o.addTask("UserDefinedNodesOrderTask",["OrderFamilyNodesOptionTask","defaultItemConfig"],VR,$.Red),o.addTask("LogicalFamilyTask",["ItemsOptionTask"],jR,$.Cyan),o.addTask("LabelAnnotationOptionTask",["SplitAnnotationsOptionTask","LogicalFamilyTask","defaultLabelAnnotationConfig"],GR,$.Navy),o.addTask("LabelAnnotationTemplateOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],WR,$.Navy),o.addTask("LabelAnnotationPlacementOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],qR,$.Navy),o.addTask("CombinedContextsTask",["ItemsContentOptionTask","LabelAnnotationOptionTask"],FN,$.Cyan),o.addTask("AddLabelAnnotationsTask",["LabelAnnotationPlacementOptionTask","LogicalFamilyTask"],YR,$.Red),o.addTask("RemoveLoopsTask",["AddLabelAnnotationsTask"],UR,$.Red),o.addTask("HideGrandParentsConnectorsTask",["HideGrandParentsConnectorsOptionTask","RemoveLoopsTask"],ZR,$.Red),o.addTask("BindFamilyConnectorsTask",["HideGrandParentsConnectorsTask"],QR,$.Red),o.addTask("ExtractNestedLayoutsTask",["ExtractNestedLayoutsOptionTask","BindFamilyConnectorsTask"],KR,$.Red),o.addTask("NormalizeLogicalFamilyTask",["NormalizeOptionTask","ExtractNestedLayoutsTask"],XR,$.Red),o.addTask("OrderFamilyNodesTask",["OrderFamilyNodesOptionTask","UserDefinedNodesOrderTask","NormalizeLogicalFamilyTask"],JR,$.Red),o.addTask("FamCreateLayoutsTreeTask",["OrderFamilyNodesTask","ExtractNestedLayoutsTask"],l2,$.Red),o.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],NN,$.Cyan),o.addTask("ActiveItemsTask",["ItemsSizesOptionTask","ReadTemplatesTask"],RN,$.Cyan),o.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],BN,$.Cyan),o.addTask("LabelAnnotationTemplateParamsTask",["ItemsSizesOptionTask","LabelAnnotationTemplateOptionTask","ReadTemplatesTask"],e2,$.Cyan),o.addTask("CombinedTemplateParamsTask",["ItemTemplateParamsTask","LabelAnnotationTemplateParamsTask"],t2,$.Cyan),o.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],zN,$.Cyan),o.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],HN,$.Cyan),o.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],VN,$.Cyan),o.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],jN,$.Cyan),o.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],$N,$.Cyan),o.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","OrderFamilyNodesTask","ExtractNestedLayoutsTask","AlignDiagramTask","RemoveLoopsTask"],GN,$.Cyan),o.addTask("HighlightItemTask",["HighlightItemOptionTask","ActiveItemsTask"],WN,$.Cyan),o.addTask("CursorItemTask",["CursorItemOptionTask","ActiveItemsTask"],qN,$.Cyan),o.addTask("CursorNeighboursTask",["CursorItemTask","NeighboursSelectionModeOptionTask","AddLabelAnnotationsTask","ActiveItemsTask"],n2,$.Cyan),o.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],YN,$.Cyan),o.addTask("SelectionPathItemsTask",["RemoveLoopsTask","CursorItemTask","SelectedItemsTask","CursorSelectionPathModeOptionTask"],r2,$.Cyan),o.addTask("NormalVisibilityItemsByForegroundShapeAnnotationTask",["ForegroundShapeAnnotationOptionTask"],Ta,$.Cyan),o.addTask("NormalVisibilityItemsByBackgroundShapeAnnotationTask",["BackgroundShapeAnnotationOptionTask"],Ta,$.Cyan),o.addTask("NormalVisibilityItemsByBackgroundAnnotationTask",["BackgroundAnnotationOptionTask"],Ta,$.Cyan),o.addTask("NormalVisibilityItemsByForegroundHighlightPathAnnotationTask",["ForegroundHighlightPathAnnotationOptionTask"],Ta,$.Cyan),o.addTask("NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask",["BackgroundHighlightPathAnnotationOptionTask"],Ta,$.Cyan),o.addTask("NormalVisibilityItemsByForegroundConnectorAnnotationTask",["ForegroundConnectorAnnotationOptionTask"],v_,$.Cyan),o.addTask("NormalVisibilityItemsByBackgroundConnectorAnnotationTask",["BackgroundConnectorAnnotationOptionTask"],v_,$.Cyan),o.addTask("NormalVisibilityItemsByMinimumVisibleLevelsTask",["MinimumVisibleLevelsOptionTask","OrderFamilyNodesTask"],ZN,$.Cyan),o.addTask("CombinedNormalVisibilityItemsTask",["ItemsSizesOptionTask","CursorItemTask","CursorNeighboursTask","SelectedItemsTask","SelectionPathItemsTask","NormalVisibilityItemsByForegroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundAnnotationTask","NormalVisibilityItemsByForegroundHighlightPathAnnotationTask","NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask","NormalVisibilityItemsByForegroundConnectorAnnotationTask","NormalVisibilityItemsByBackgroundConnectorAnnotationTask","NormalVisibilityItemsByMinimumVisibleLevelsTask"],QN,$.Cyan),o.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],KN,$.Navy),o.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],XN,$.Navy),o.addTask("LayoutOptionsTask",["getLayout","OptionsTask"],JN,$.Black),o.addTask("CurrentControlSizeTask",["LayoutOptionsTask","ItemsSizesOptionTask","FrameSizeTask","LevelTitleSizeTask"],eR,$.Black),o.addTask("CurrentScrollPositionTask",["LayoutOptionsTask"],tR,$.Black),o.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","OrderFamilyNodesOptionTask","FamCreateLayoutsTreeTask","CombinedTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],u2,$.Red),o.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","ActiveItemsTask","ItemsPositionsTask"],aR,$.Red),o.addTask("CreateTransformTask",["OrientationOptionTask","ScaleOptionTask","AlignDiagramTask"],lR,$.Cyan),o.addTask("PaletteManagerTask",["ConnectorsOptionTask","LinePaletteOptionTask"],uR,$.Cyan),o.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],cR,$.Cyan),o.addTask("CenterOnCursorTask",["LayoutOptionsTask","ApplyLayoutChangesTask","CurrentScrollPositionTask","CursorItemTask","AlignDiagramTask","CreateTransformTask","ScaleOptionTask"],hR,$.Cyan),o.addTask("ProjectItemsToFrameTask",["CreateTransformTask","FrameSizeTask","ApplyLayoutChangesTask","ScaleOptionTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","SelectedItemsTask"],fR,$.Cyan),o.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],dR,$.Green),o.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],pR,$.Green),o.addTask("LogicalLevelsPlacementTask",["OrderFamilyNodesTask","AlignDiagramTask"],gR,$.Green),o.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],mR,$.Green),o.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground"],T_,$.Cyan),o.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background"],T_,$.Cyan),o.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","LogicalFamilyTask","AlignDiagramTask"],yR,$.Green),o.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],D_,$.Green),o.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],D_,$.Green),o.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],S_,$.Green),o.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],S_,$.Green),o.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask"],_R,$.Green),o.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask"],CR,$.Green),o.addTask("DrawHighlightAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","CombinedContextsTask","CalloutOptionTask","ReadTemplatesTask","AlignDiagramTask","CenterOnCursorTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","FrameSizeTask"],bR,$.Green),o.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","CenterOnCursorTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask"],DR,$.Green),o.addTask("DrawMinimizedItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","MinimizedItemsOptionTask","CombinedTemplateParamsTask","AlignDiagramTask"],SR,$.Green),o.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask"],IR,$.Green),o.addTask("DrawItemLabelsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","LabelsOptionTask","AlignDiagramTask"],MR,$.Green),o.addTask("DrawFrameItemsTask",["graphics","ApplyLayoutChangesTask","ProjectItemsToFrameTask","ItemTemplateParamsTask","MinimizedItemsOptionTask"],kR,$.Green),o.addTask("DrawFrameHighlightTask",["graphics","ProjectItemsToFrameTask","CombinedContextsTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask"],xR,$.Green),o.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],OR,$.Green),o.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],ER,$.Green),o}we.prototype.isEmpty=function(){return 0===this.left&&0===this.top&&0===this.right&&0===this.bottom},we.prototype.isPositive=function(){return this.left>0||this.top>0||this.right>0||this.bottom>0},we.prototype.isNegative=function(){return this.left<0||this.top<0||this.right<0||this.bottom<0},we.prototype.maxThickness=function(e){return this.left=Math.max(this.left,e.left),this.top=Math.max(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom),this},we.prototype.addThickness=function(e,t,n,i){switch(arguments.length){case 1:null!==e&&"object"==typeof e?(this.left+=e.left,this.top+=e.top,this.right+=e.right,this.bottom+=e.bottom):(this.left+=e,this.top+=e,this.right+=e,this.bottom+=e);break;case 4:this.left+=e,this.top+=t,this.right+=n,this.bottom+=i}return this},we.prototype.scale=function(e){return this.left=this.left*e,this.top=this.top*e,this.right=this.right*e,this.bottom=this.bottom*e,this},we.prototype.toString=function(e){return this.top+(e=void 0!==e?e:"px")+" "+this.right+e+" "+this.bottom+e+" "+this.left+e},Ze.prototype.read=function(e,t,n,i){var s,a,c,h,f,d,p,r=[],o={},l={},u={},g=n+"-seq";for((!t||!Array.isArray(t))&&(t=[]),s=i.hash.hasOwnProperty(n)?i.hash[n]:{},a=i.hash.hasOwnProperty(g)?i.hash[g]:{},f=0,d=t.length;f<d;f+=1)c=t[f],o.hasOwnProperty(h=this.containsUniqueItems?this.containsPrimitiveValues?c:c[this.uniquePropertyKey]:f)||(p=this.itemTemplate.read(s.hasOwnProperty(h)?s[h]:{},c,n+"-"+f,i),r.push(p),o[h]=p,l[f]=h,this.createSourceHash&&(u[h]=c),this.isOrdered&&a[f]!=l[f]&&(i.isChanged=!0));return i.hash[n]=o,i.hash[g]=l,this.createSourceHash&&(i.sourceHash[n]=u),(null==e||e.length!=r.length)&&(i.isChanged=!0),r},k.prototype.stringify=function(e){if(1==this.hash.object){var t=[];return JSON.stringify(e,function(i,r){return"_"===i[0]?null:null!==r&&"object"==typeof r?-1==t.indexOf(r)?(t.push(r),r):null:r})}return e},k.prototype.read=function(e,t,n,i){var r;return(null===t||typeof t>"u"||!this.hash.hasOwnProperty(typeof t))&&(t=this.isNullable?null:this.defaultValue),r=t,this.stringify(e)!==this.stringify(t)&&(i.isChanged=!0),r},le.prototype.read=function(e,t,n,i){var s,r=null,o=ya(e);if(t||(t=this.isNullable?null:this.defaultValue),ya(t))for(s in r={},this.dataTemplate)this.dataTemplate.hasOwnProperty(s)&&(r[s]=this.dataTemplate[s].read(o?e[s]:null,t[s],n+"-"+s,i));else r=t,e!==t&&(i.isChanged=!0);return r},fe.prototype.read=function(e,t,n,i){var r;return(null===t||typeof t>"u"||!this.hash.hasOwnProperty(t))&&(t=this.isNullable?null:this.defaultValue),r=t,e!==t&&(i.isChanged=!0),r},sr.prototype.read=function(e,t,n,i){return"function"==typeof t?t:null},te.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this},te.prototype.distanceTo=function(e,t){var r,o,n=0,i=0;switch(arguments.length){case 1:n=e.x,i=e.y;break;case 2:n=e,i=t}return r=this.x-n,o=this.y-i,Math.sqrt(r*r+o*o)},te.prototype.equalTo=function(e){return this.x==e.x&&this.y==e.y},te.prototype.swap=function(e){var t=e.x,n=e.y;e.x=this.x,e.y=this.y,this.x=t,this.y=n},te.prototype.clone=function(){return new te(this)},te.prototype.toString=function(e){var t="";return(t+="left:"+this.x+(e=void 0!==e?e:"px")+";")+"top:"+this.y+e+";"},te.prototype.getCSS=function(e){return{left:this.x+(e=void 0!==e?e:"px"),top:this.y+e}},Jr.prototype.determinant=function(){return this.a1*this.b2-this.b1*this.a2},ft.prototype.isNull=function(){return this.from.x==this.to&&this.from.y==this.to.y},ft.prototype.length=function(){return this.from.distanceTo(this.to)},ft.prototype.equalTo=function(e){return this.from.equalTo(e.from)&&this.to.equalTo(e.to)},ft.prototype.getMiddlePoint=function(){return new te((this.from.x+this.to.x)/2,(this.from.y+this.to.y)/2)},ft.prototype.relateTo=function(e){var t=Bi.None,n=this.to.x-this.from.x,i=this.to.y-this.from.y,r=e.to.x-e.from.x,o=e.to.y-e.from.y;switch((n?8:0)+(i?4:0)+(r?2:0)+(o?1:0)){case 0:case 1:case 2:case 3:case 4:case 8:case 12:t=Bi.Null;break;case 5:t=i*o>0?Bi.Collinear:Bi.Opposite;break;case 10:t=n*r>0?Bi.Collinear:Bi.Opposite;break;case 15:n/r==i/o&&(t=n/r>0?Bi.Collinear:Bi.Opposite)}return t},ft.prototype.offset=function(e){var t=this.length(),n=(this.to.y-this.from.y)*e/t,i=-(this.to.x-this.from.x)*e/t;this.from.x+=n,this.from.y+=i,this.to.x+=n,this.to.y+=i},ft.prototype.getLine=function(){var e=this.from.x,t=this.from.y,n=this.to.x,i=this.to.y;return[i-t,e-n,e*(t-i)+t*(n-e)]},ft.prototype.getLineKey=function(){var e=this.getLine(),t=e[0],n=e[1],i=e[2],r=1e4;return(e=0!==n?[Math.floor(t/n*r),1,Math.floor(i/n*r)]:[1,0,Math.floor(i/t*r)]).toString()},ft.prototype.intersect=function(e){var a,u,c,t=this.getLine(),n=e.getLine(),r=new Jr(t[0],t[1],n[0],n[1]).determinant(),h=!1;return 0!==r&&(a=new Jr(-t[2],t[1],-n[2],n[1]).determinant(),c=new Jr(t[0],-t[2],n[0],-n[2]).determinant()/r,e.to.x=u=a/r,e.to.y=c,this.from.x=u,this.from.y=c,h=!0),h},ft.prototype.getIntersectionPoint=function(e,t,n){var h,f,i=this.getLine(),r=e.getLine(),s=new Jr(i[0],i[1],r[0],r[1]).determinant(),d=null;return 0!==s&&(h=new Jr(-i[2],i[1],-r[2],r[1]).determinant()/s,f=new Jr(i[0],-i[2],r[0],-r[2]).determinant()/s,t?e._contains(h,f,n)&&this._contains(h,f,n)&&(d=new te(h,f)):d=new te(h,f)),d},ft.prototype._contains=function(e,t,n){var i=Math.min(this.from.x,this.to.x),r=Math.min(this.from.y,this.to.y),o=Math.max(this.from.x,this.to.x),s=Math.max(this.from.y,this.to.y);return i-n<=e&&e<=o+n&&r-n<=t&&t<=s+n},ai.prototype.width=function(){return this.to-this.from},ai.prototype.equalTo=function(e){return this.from==e.from&&this.to==e.to},ai.prototype.clone=function(){return new ai(this)},ai.prototype.toString=function(){return this.from+", "+this.to},ai.prototype.overlaps=function(e){var t=!0;return(this.to<e.from||e.to<this.from)&&(t=!1),t},K.prototype.left=function(){return this.x},K.prototype.top=function(){return this.y},K.prototype.right=function(){return this.x+this.width},K.prototype.bottom=function(){return this.y+this.height},K.prototype.verticalCenter=function(){return this.y+this.height/2},K.prototype.horizontalCenter=function(){return this.x+this.width/2},K.prototype.centerPoint=function(){return new te(this.horizontalCenter(),this.verticalCenter())},K.prototype.isEmpty=function(){return null===this.x||null===this.y||null===this.width||null===this.height||this.width<0||this.height<0},K.prototype.offset=function(e,t,n,i){switch(arguments.length){case 1:null!==e&&"object"==typeof e?(this.x=this.x-e.left,this.y=this.y-e.top,this.width=this.width+e.left+e.right,this.height=this.height+e.top+e.bottom):(this.x=this.x-e,this.y=this.y-e,this.width=this.width+2*e,this.height=this.height+2*e);break;case 4:this.x=this.x-e,this.y=this.y-t,this.width=this.width+e+n,this.height=this.height+t+i}return this},K.prototype.scale=function(e){return this.x=this.x*e,this.y=this.y*e,this.width=this.width*e,this.height=this.height*e,this},K.prototype.translate=function(e,t){return this.x=this.x+e,this.y=this.y+t,this},K.prototype.invert=function(){var e=this.width,t=this.x;return this.width=this.height,this.height=e,this.x=this.y,this.y=t,this},K.prototype.loopEdges=function(e){var t=[new te(this.left(),this.top()),new te(this.right(),this.top()),new te(this.right(),this.bottom()),new te(this.left(),this.bottom())],n=[ce.Top,ce.Right,ce.Bottom,ce.Left];if(t.push(t[0]),null!=e)for(var i=1,r=t.length;i<r&&!e(new ft(t[i-1],t[i]),n[i-1]);i+=1);return this},K.prototype.contains=function(e,t){switch(arguments.length){case 1:return this.x<=e.x&&e.x<=this.x+this.width&&this.y<=e.y&&e.y<=this.y+this.height;case 2:return this.x<=e&&e<=this.x+this.width&&this.y<=t&&t<=this.y+this.height;default:return!1}},K.prototype.cropByRect=function(e){return this.x<e.x&&(this.width-=e.x-this.x,this.x=e.x),this.right()>e.right()&&(this.width-=this.right()-e.right()),this.y<e.y&&(this.height-=e.y-this.y,this.y=e.y),this.bottom()>e.bottom()&&(this.height-=this.bottom()-e.bottom()),this.isEmpty()&&(this.x=null,this.y=null,this.width=null,this.height=null),this},K.prototype.overlaps=function(e){var t=!0;return(this.x+this.width<e.x||e.x+e.width<this.x||this.y+this.height<e.y||e.y+e.height<this.y)&&(t=!1),t},K.prototype.addRect=function(e,t,n,i){var r,o;switch(arguments.length){case 1:e.isEmpty()||(this.isEmpty()?(this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height):(r=Math.max(this.right(),e.right()),o=Math.max(this.bottom(),e.bottom()),this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=r-this.x,this.height=o-this.y));break;case 2:this.isEmpty()?(this.x=e,this.y=t,this.width=0,this.height=0):(r=Math.max(this.right(),e),o=Math.max(this.bottom(),t),this.x=Math.min(this.x,e),this.y=Math.min(this.y,t),this.width=r-this.x,this.height=o-this.y);break;case 4:this.isEmpty()?(this.x=e,this.y=t,this.width=n,this.height=i):(r=Math.max(this.right(),e+n),o=Math.max(this.bottom(),t+i),this.x=Math.min(this.x,e),this.y=Math.min(this.y,t),this.width=r-this.x,this.height=o-this.y)}return this},K.prototype.getCSS=function(e){return{left:this.x+(e=void 0!==e?e:"px"),top:this.y+e,width:this.width+e,height:this.height+e}},K.prototype.toString=function(e){var t="";return t+="left:"+this.x+(e=void 0!==e?e:"px")+";",t+="top:"+this.y+e+";",(t+="width:"+this.width+e+";")+"height:"+this.height+e+";"},K.prototype.validate=function(){if(isNaN(this.x)||isNaN(this.y)||isNaN(this.width)||isNaN(this.height))throw"Invalid rect position."},K.prototype.equalTo=function(e){return this.x==e.x&&this.y==e.y&&this.width==e.width&&this.height==e.height},K.prototype.getProjectionPoint=function(e){var t=null;if(!this.contains(e)){var n=new ft(this.centerPoint(),e);this.loopEdges(function(i){return null!=(t=n.getIntersectionPoint(i,!0,1))})}return t},K.prototype.verticalInterval=function(){return new ai(this.y,this.bottom())},ar.prototype.setOrientation=function(e){switch(e){case Me.Top:this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!1;break;case Me.Bottom:this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!0;break;case Me.Left:this.invertArea=!0,this.invertHorizontally=!1,this.invertVertically=!1;break;case Me.Right:this.invertArea=!0,this.invertHorizontally=!0,this.invertVertically=!1}},ar.prototype.getOrientation=function(e){var t=e;if(this.invertHorizontally)switch(e){case Me.Left:t=Me.Right;break;case Me.Right:t=Me.Left}if(this.invertVertically)switch(e){case Me.Top:t=Me.Bottom;break;case Me.Bottom:t=Me.Top}if(this.invertArea)switch(t){case Me.Top:t=Me.Left;break;case Me.Bottom:t=Me.Right;break;case Me.Left:t=Me.Top;break;case Me.Right:t=Me.Bottom}return t},ar.prototype.transformPoint=function(e,t,n,i,r){var o;n&&this.invertArea&&(o=e,e=t,t=o),this.invertHorizontally&&(e=this.size.width-e),this.invertVertically&&(t=this.size.height-t),n||this.invertArea&&(o=e,e=t,t=o),r.call(i,e,t)},ar.prototype.transformPoints=function(e,t,n,i,r,o,s){var a;r&&this.invertArea&&(a=e,e=t,t=a,a=n,n=i,i=a),this.invertHorizontally&&(e=this.size.width-e,n=this.size.width-n),this.invertVertically&&(t=this.size.height-t,i=this.size.height-i),r||this.invertArea&&(a=e,e=t,t=a,a=n,n=i,i=a),s.call(o,e,t,n,i)},ar.prototype.transform3Points=function(e,t,n,i,r,o,s,a,l){var u;s&&this.invertArea&&(u=e,e=t,t=u,u=n,n=i,i=u,u=r,r=o,o=u),this.invertHorizontally&&(e=this.size.width-e,n=this.size.width-n,r=this.size.width-r),this.invertVertically&&(t=this.size.height-t,i=this.size.height-i,o=this.size.height-o),s||this.invertArea&&(u=e,e=t,t=u,u=n,n=i,i=u,u=r,r=o,o=u),l.call(a,e,t,n,i,r,o)},ar.prototype.transformRect=function(e,t,n,i,r,o,s){var a;r&&this.invertArea&&(a=e,e=t,t=a,a=n,n=i,i=a),this.invertHorizontally&&(e=this.size.width-e-n),this.invertVertically&&(t=this.size.height-t-i),r||this.invertArea&&(a=e,e=t,t=a,a=n,n=i,i=a),s.call(o,e,t,n,i)},ar.prototype.transformThickness=function(e,t){var n,{left:i,right:r,top:o,bottom:s}=e;return t&&this.invertArea&&(n=i,i=o,o=n,n=r,r=s,s=n),this.invertHorizontally&&(n=i,i=r,r=n),this.invertVertically&&(n=o,o=s,s=n),t||this.invertArea&&(n=i,i=o,o=n,n=r,r=s,s=n),new we(i,o,r,s)},Qt.prototype.toAttr=function(){var e={lineWidth:this.lineWidth,lineType:this.lineType};return null!==this.fillColor&&(e.fillColor=this.fillColor),null!==this.opacity&&(e.opacity=this.opacity),null!==this.lineColor&&(e.borderColor=this.lineColor),e},Qt.prototype.toString=function(){return this._key},Ld.prototype.selectPalette=function(e){this.cursor=e%this.paletteLength},Ld.prototype.getPalette=function(e){var t=null;switch(e){case ma.Regular:t=this.regularIndex;break;case ma.Highlight:t=this.highlightIndex;break;case ma.Extra:t=this.cursor}return this.palette[t]},(Be.prototype=new te).clone=function(){return new Be(this)},Be.prototype.loop=function(e,t){t?.call(e,this.x,this.y,0)},Be.prototype.setPoint=function(e,t){this.x=e.x,this.y=e.y},Be.prototype.getEndPoint=function(){return this},Be.prototype.invert=function(e){this.x=e.x,this.y=e.y},Be.prototype.transform=function(e,t){var n=this;e.transformPoint(n.x,n.y,t,n,function(i,r){n.x=i,n.y=r})},(_e.prototype=new Be).clone=function(){return new _e(this)},_e.prototype.trim=function(e,t){var n=this.offsetPoint(this,e,t);return this.x=n.x,this.y=n.y,this},_e.prototype.offsetPoint=function(e,t,n){var r=e.distanceTo(t);return 0===r||0===n?new te(e):new te(e.x+(t.x-e.x)/r*n,e.y+(t.y-e.y)/r*n)},Nt.prototype.clone=function(){return new Nt(this.cpX,this.cpY,this.x,this.y)},Nt.prototype.loop=function(e,t){null!=t&&(t.call(e,this.cpX,this.cpY,0),t.call(e,this.x,this.y,1))},Nt.prototype.setPoint=function(e,t){switch(t){case 0:this.cpX=e.x,this.cpY=e.y;break;case 1:this.x=e.x,this.y=e.y}},Nt.prototype.getEndPoint=function(){return this},Nt.prototype.invert=function(e){this.x=e.x,this.y=e.y},Nt.prototype.transform=function(e,t){var n=this;e.transformPoints(n.x,n.y,n.cpX,n.cpY,t,n,function(i,r,o,s){n.x=i,n.y=r,n.cpX=o,n.cpY=s})},Nt.prototype.trim=function(e,t){var n=.5,i=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,n),o=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,.1);return n=t*(n/i.distanceTo(this.x,this.y)+.1/o.distanceTo(this.x,this.y))/2,i=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,e.x,e.y,n),this.x=i.x,this.y=i.y,this},Nt.prototype.offsetPoint=function(e,t,n,i,r,o,s){return new te((1-s)*(1-s)*e+2*(1-s)*s*n+s*s*r,(1-s)*(1-s)*t+2*(1-s)*s*i+s*s*o)},Ir.prototype._getLabelPosition=function(e,t,n,i,r,o,s,a){var l=null;switch(a){case ce.Top:l=new K(e+n/2-r/2,t-s-o,r,o);break;case ce.TopRight:l=new K(e+n-r,t-s-o,r,o);break;case ce.TopLeft:l=new K(e,t-s-o,r,o);break;case ce.Right:l=new K(e+n+s,t+i/2-o/2,r,o);break;case ce.RightTop:l=new K(e+n+s,t,r,o);break;case ce.RightBottom:l=new K(e+n+s,t+i-o,r,o);break;case ce.BottomRight:l=new K(e+n-r,t+i+s,r,o);break;case ce.BottomLeft:l=new K(e,t+i+s,r,o);break;case ce.Left:l=new K(e-r-s,t+i/2-o/2,r,o);break;case ce.LeftTop:l=new K(e-r-s,t,r,o);break;case ce.LeftBottom:l=new K(e-r-s,t+i-o,r,o);break;default:l=new K(e+n/2-r/2,t+i+s,r,o)}return l},Ir.prototype._betweenPoint=function(e,t){return new te((e.x+t.x)/2,(e.y+t.y)/2)},Ir.prototype._offsetPoint=function(e,t,n){var r=e.distanceTo(t);return 0===r||0===n?new te(e):new te(e.x+(t.x-e.x)/r*n,e.y+(t.y-e.y)/r*n)},(Nd.prototype=new Ir).draw=function(e){var n=new nn(new Qt({lineColor:this.borderColor,lineWidth:this.lineWidth,fillColor:this.fillColor,lineType:this.lineType,opacity:this.opacity}));(function vR(e,t,n){var i,r,o,s,a;t.sort(function(q,G){return q.x==G.x?q.y-G.y:q.x-G.x});var l=[],u={};for(i=0,r=t.length;i<r;i+=1)for(var c=t[i],h=[c.x,c.right()],f=0;f<h.length;f+=1){var d=h[f];null==(a=u[d])&&(u[d]=a={x:d,add:[],remove:[]},l.push(a)),d==c.x?a.add.push(i):a.remove.push(i)}function p(q,G){this.start=q,this.startHead=null,this.end=G,this.endHead=null,this.overlap=function(oe){return!(this.end<oe.start||this.start>oe.end)}}function g(q,G){this.x=q,this.ranges=G}l.sort(function(q,G){return q.x-G.x});var m={},w=[];for(w.push(new g(null,[])),i=0,r=l.length;i<r;i+=1){for(o=0,s=(a=l[i]).add.length;o<s;o+=1)m[a.add[o]]=!0;for(o=0,s=a.remove.length;o<s;o+=1)delete m[a.remove[o]];var v=[];for(var C in m)m.hasOwnProperty(C)&&v.push(t[C]);v.sort(function(q,G){return q.y-G.y});var y=[],T=null,S=null;for(o=0,s=v.length;o<s;o+=1){var _=v[o];null==T?(T=_.y,S=_.bottom()):S<_.y?(y.push(new p(T,S)),T=_.y,S=_.bottom()):S=Math.max(S,_.bottom())}null!=T&&y.push(new p(T,S)),w.push(new g(a.x,y))}var b=[],I={},D=1;function P(q,G){this.isHead=q,this.list=G,I.hasOwnProperty(G)||(I[G]=[]),I[G].push(this),this.add=function(oe){oe.from.equalTo(oe.to)||(this.isHead?(b[this.list].add(D,oe),D+=1):(b[this.list].unshift(D,oe),D+=1))},this.getTail=function(){return new P(!this.isHead,this.list)},this.attach=function(oe){if(this.list!=oe.list){b[this.list].attach(b[oe.list]);var ge=I[oe.list];if(delete I[oe.list],null!=ge)for(var je=0,Rt=ge.length;je<Rt;je+=1){var wt=ge[je];wt!=oe&&(wt.list=this.list,I[this.list].push(wt))}}}}function M(q){return b.push(new Fd),new P(q,b.length-1)}for(i=1,r=w.length;i<r;i+=1)for(var E=w[i-1],A=w[i],F=0,x=0;F<E.ranges.length||x<A.ranges.length;){var O=F<E.ranges.length?E.ranges[F]:null,R=x<A.ranges.length?A.ranges[x]:null;if(null!=R)if(null!=O)if(R.overlap(O)){for(l=[new te(E.x,O.start),new te(A.x,O.start),new te(A.x,R.start)],H=1;H<l.length;H+=1)O.startHead.add(new ft(l[H],l[H-1]));R.startHead=O.startHead;for(var J=!0;J;)if(J=!1,O.end>R.end){var re=x+1<A.ranges.length?A.ranges[x+1]:null;if(null!=re&&re.overlap(O)){var L=new te(A.x,re.start),B=new te(A.x,R.end);R.endHead=M(!0),R.endHead.add(new ft(L,B)),re.startHead=R.endHead.getTail(),x+=1,R=re,J=!0}}else{var j=F+1<E.ranges.length?E.ranges[F+1]:null;if(null!=j&&j.overlap(R)){for(l=[new te(E.x,O.end),new te(A.x,O.end),new te(A.x,j.start),new te(E.x,j.start)],H=1;H<l.length;H+=1)O.endHead.add(new ft(l[H-1],l[H]));O.endHead.attach(j.startHead),F+=1,O=j,J=!0}}for(l=[new te(E.x,O.end),new te(A.x,O.end),new te(A.x,R.end)],H=1;H<l.length;H+=1)O.endHead.add(new ft(l[H-1],l[H]));R.endHead=O.endHead,F+=1,x+=1}else{if(O.start<R.start){for(l=[new te(E.x,O.end),new te(A.x,O.end),new te(A.x,O.start),new te(E.x,O.start)],H=1;H<l.length;H+=1)O.endHead.add(new ft(l[H-1],l[H]));O.endHead.attach(O.startHead),F+=1;continue}R.endHead=M(!0),R.endHead.add(new ft(new te(A.x,R.start),new te(A.x,R.end))),R.startHead=R.endHead.getTail(),x+=1}else R.endHead=M(!0),R.endHead.add(new ft(new te(A.x,R.start),new te(A.x,R.end))),R.startHead=R.endHead.getTail(),x+=1;else{l=[new te(E.x,O.end),new te(A.x,O.end),new te(A.x,O.start),new te(E.x,O.start)];for(var H=1;H<l.length;H+=1)O.endHead.add(new ft(l[H-1],l[H]));O.endHead.attach(O.startHead),F+=1}}if(null!=n)for(i=0;i<b.length;i+=1)I.hasOwnProperty(i)&&(l=[],b[i].iterate(function(q,G){0==l.length&&l.push(q.from),l.push(q.to)}),n.call(e,l))})(this,e,function(i){for(var r=0,o=i.length;r<o;r+=1){var s=i[r];n.addSegment(0==r?new Be(s.x,s.y):new _e(s.x,s.y))}}),n.transform(this.transform,!0),this.graphics.polyline(n)},(Ca.prototype=new Ir).draw=function(e,t,n,i,r,o,s,a,l,u,c,h,f,d,p){var g,m,w,v,C,y=r/2,T=null,S=ce.Auto,_=ce.Auto,b=this;if(v=new ft(n.centerPoint(),i.centerPoint()),n.loopEdges(function(D,P){return g=D.getIntersectionPoint(v,!0,1),S=P,null!=g}),i.loopEdges(function(D,P){return m=D.getIntersectionPoint(v,!0,1),_=P,null!=m}),null!=g&&null!=m){var I=new ft(g,m);f.getOffset(I,function(D,P,M){switch(I.offset((D*o-(P-1)*o/2)*M),g=I.from,m=I.to,l){case wi.TwoWay:(C=new ft(m.clone(),g.clone())).offset(y),b._drawLine(e,t,C.from,C.to,!1),(C=new ft(g.clone(),m.clone())).offset(y),b._drawLine(e,t,C.from,C.to,!1);break;case wi.OneWay:b._drawLine(e,t,g,m,!1);break;case wi.BothWay:b._drawLine(e,t,g,m,!0)}if(h){switch(c){case Yr.From:T=b._getLabelPositionBySnapPoint(g.x,g.y,s.width,s.height,u,S);break;case Yr.Between:w=b._betweenPoint(g,m),T=b._getLabelPositionBySnapPoint(w.x,w.y,s.width,s.height,u,ce.Right);break;case Yr.To:T=b._getLabelPositionBySnapPoint(m.x,m.y,s.width,s.height,u,_)}d?.call(this,T,p)}})}},Ca.prototype._drawLine=function(e,t,n,i,r){var o;e.addInverted(function(s){(o=s.getPolyline(t)).addSegment(new Be(n)),o.addSegment(new _e(i)),o.addArrow(t.lineWidth,function(a){a.mergeTo(e.getPolyline(a.paletteItem))})},!1),r&&(o=e.getPolyline(t)).addArrow(t.lineWidth,function(s){s.mergeTo(e.getPolyline(s.paletteItem))})},Ca.prototype._getLabelPositionBySnapPoint=function(e,t,n,i,r,o){var s=null;switch(o){case ce.Auto:case ce.Top:s=new K(e-n/2,t-r-i,n,i);break;case ce.Right:s=new K(e+r,t-i/2,n,i);break;case ce.Bottom:s=new K(e-n/2,t+r,n,i);break;case ce.Left:s=new K(e-n-r,t-i/2,n,i)}return s},(Rd.prototype=new Ir).draw=function(e,t,n,i,r,o,s,a,l,u,c,h,f,d,p){var g,m,w,v,C,y,T,S,_,b,I,E,A,D=ce.Auto,P=ce.Auto,M=null;switch(E=e.getPolyline(t),S=[],l){case wi.TwoWay:S=[-r/2,r/2],A=!1;break;case wi.OneWay:S=[0],A=!1;break;case wi.BothWay:S=[0],A=!0}if(g=Math.max(h?s.width:0,5*r),n.right()+g<i.left()||n.left()>i.right()+g)if(n.left()>i.right()?(w=new te(n.left(),n.verticalCenter()),v=new te(i.right(),i.verticalCenter())):(w=new te(n.right(),n.verticalCenter()),v=new te(i.left(),i.verticalCenter())),h&&(n.left()>i.right()?(D=ce.Left,P=ce.Right):(D=ce.Right,P=ce.Left)),m=new K(w,v),I=w.y<=v.y,b=w.x<v.x,m.height<m.width){for(m.height<2*r&&m.offset(0,I?2*r:0,0,I?0:2*r),y=0,T=S.length;y<T;y+=1)_=S[y],e.addInverted(function(F){var x=F.getPolyline(t);x.addSegment(new Be(w.x,w.y+_)),x.addSegment(new Nt(m.horizontalCenter(),(I?m.top():m.bottom())+_,v.x,v.y+_)),A&&x.addArrow(t.lineWidth,function(O){O.mergeTo(e.getPolyline(O.paletteItem))})},y||l==wi.OneWay),E.addArrow(t.lineWidth,function(F){F.mergeTo(e.getPolyline(F.paletteItem))});h&&(M=new K((C=s.width<m.width/5*2?Nt.prototype.offsetPoint(w.x,w.y,m.horizontalCenter(),I?m.top():m.bottom(),v.x,v.y,.5):new te(w.x,I?m.top():m.bottom())).x+(b?r:-s.width-r),I?C.y-s.height-r:C.y+r,s.width,s.height))}else{for(y=0,T=S.length;y<T;y+=1)_=S[y],e.addInverted(function(F){var x=F.getPolyline(t);x.addSegment(new Be(w.x,w.y+_)),x.addSegment(new Nt(m.horizontalCenter()+_*(I!=b?1:-1),(I?m.top():m.bottom())+_,m.horizontalCenter()+_*(I!=b?1:-1),m.verticalCenter()+_)),x.addSegment(new Nt(m.horizontalCenter()+_*(I!=b?1:-1),(I?m.bottom():m.top())+_,v.x,v.y+_)),A&&x.addArrow(t.lineWidth,function(O){O.mergeTo(e.getPolyline(O.paletteItem))})},y||l==wi.OneWay),E.addArrow(t.lineWidth,function(F){F.mergeTo(e.getPolyline(F.paletteItem))});h&&(M=new K(m.horizontalCenter()+(I!=b?r:-(r+s.width)),m.verticalCenter()-s.height/2,s.width,s.height))}else if(n.verticalCenter()<i.top()||n.verticalCenter()>i.bottom()){for(w=new te((b=n.x<a.width/2)?n.right():n.left(),n.verticalCenter()),v=new te(b?i.right():i.left(),i.verticalCenter()),(m=new K(w,v)).offset(10*r,0,10*r,0),I=w.y<=v.y,y=0,T=S.length;y<T;y+=1)_=S[y],e.addInverted(function(F){var x=F.getPolyline(t);x.addSegment(new Be(w.x,w.y+_)),x.addSegment(new Nt(b?m.right()+_*(I?-1:1):m.left()-_*(I?-1:1),m.verticalCenter(),b?i.right():i.left(),i.verticalCenter()-_)),A&&x.addArrow(t.lineWidth,function(O){O.mergeTo(e.getPolyline(O.paletteItem))})},y||l==wi.OneWay),E.addArrow(t.lineWidth,function(F){F.mergeTo(e.getPolyline(F.paletteItem))});h&&(P=D=b?ce.Right:ce.Left,M=new K((C=Nt.prototype.offsetPoint(w.x,w.y,b?m.right():m.left(),m.verticalCenter(),v.x,v.y,.5)).x+(b?r/2:-r/2-s.width),C.y-s.height/2,s.width,s.height))}else{for(w=new te(n.horizontalCenter(),n.top()),v=new te(i.horizontalCenter(),i.top()),(m=new K(w,v)).offset(0,7*r,0,0),b=w.x<v.x,y=0,T=S.length;y<T;y+=1)_=S[y],e.addInverted(function(F){var x=F.getPolyline(t);x.addSegment(new Be(w.x+_,w.y)),x.addSegment(new Nt(m.horizontalCenter(),m.top()-_*(b?-1:1),i.horizontalCenter()-_,i.top())),A&&x.addArrow(t.lineWidth,function(O){O.mergeTo(e.getPolyline(O.paletteItem))})},y||l==wi.OneWay),E.addArrow(t.lineWidth,function(F){F.mergeTo(e.getPolyline(F.paletteItem))});h&&(D=ce.Top,P=ce.Top,M=new K((C=Nt.prototype.offsetPoint(w.x,w.y,m.horizontalCenter(),m.top(),v.x,v.y,.5)).x-s.width/2,C.y-(u+s.height),s.width,s.height))}if(h)switch(c){case Yr.From:M=this._getLabelPosition(n.x,n.y,n.width,n.height,M.width,M.height,u,D);break;case Yr.To:M=this._getLabelPosition(i.x,i.y,i.width,i.height,M.width,M.height,u,P)}d?.(M,p)},(os.prototype=new Ir).draw=function(e,t){var u,c,h,f,d,p,g,n=new te((t=new K(t).offset(this.offset)).x,t.y),i=new te(t.right(),t.y),r=new te(t.right(),t.bottom()),s=[null,null,null,null,null,null,null,null],a=[n,i,r,new te(t.left(),t.bottom())],l=this.m_graphics.getPxSize(this.cornerRadius,Math.min(n.distanceTo(i),i.distanceTo(r)));for(f={},null!==this.fillColor&&(f.fillColor=this.fillColor,f.opacity=this.opacity),null!==this.lineColor&&(f.lineColor=this.borderColor),f.lineWidth=this.lineWidth,f.lineType=this.lineType,d=new Qt(f),g=(p=new eo).getPolyline(d),null!==e&&null!==(u=this.pointerPlacement===ce.Auto?this._getPlacement(e,n,r):this.pointerPlacement)&&(s[u]=e),h=0;h<a.length;h+=1)this._drawSegment(g,a[0],a[1],a[2],this.pointerWidth,l,s[1],s[2]),c=a.shift(),a.push(c),c=s.shift(),s.push(c),c=s.shift(),s.push(c);this.m_graphics.polylinesBuffer(p)},os.prototype._getPlacement=function(e,t,n){return this.m_map[e.x<t.x?0:e.x>n.x?2:1][e.y<t.y?0:e.y>n.y?2:1]},os.prototype._drawSegment=function(e,t,n,i,r,o,s,a){var h,f,d,l=this._offsetPoint(t,n,o),u=this._offsetPoint(n,t,o),c=this._offsetPoint(n,i,o);r=this.m_graphics.getPxSize(r,t.distanceTo(n)/2),0===e.length()&&e.addSegment(new Be(l)),null!==s&&(h=this._betweenPoint(t,n),f=this._offsetPoint(h,t,r),d=this._offsetPoint(h,n,r),e.addSegment(new _e(f)),e.addSegment(new _e(s)),e.addSegment(new _e(d))),e.addSegment(new _e(u)),null!==a?(e.addSegment(new _e(a)),e.addSegment(new _e(c))):e.addSegment(new Nt(n,c))},(rn.prototype=new te).clone=function(){return new rn(this.cpX1,this.cpY1,this.cpX2,this.cpY2,this.x,this.y)},rn.prototype.loop=function(e,t){null!=t&&(t.call(e,this.cpX1,this.cpY1,0),t.call(e,this.cpX2,this.cpY2,1),t.call(e,this.x,this.y,2))},rn.prototype.setPoint=function(e,t){switch(t){case 0:this.cpX1=e.x,this.cpY1=e.y;break;case 1:this.cpX2=e.x,this.cpY2=e.y;break;case 2:this.x=e.x,this.y=e.y}},rn.prototype.getEndPoint=function(){return this},rn.prototype.invert=function(e){var t=this.cpX1,n=this.cpY1;this.x=e.x,this.y=e.y,this.cpX1=this.cpX2,this.cpY1=this.cpY2,this.cpX2=t,this.cpY2=n},rn.prototype.transform=function(e,t){var n=this;e.transform3Points(n.x,n.y,n.cpX1,n.cpY1,n.cpX2,n.cpY2,t,n,function(i,r,o,s,a,l){n.x=i,n.y=r,n.cpX1=o,n.cpY1=s,n.cpX2=a,n.cpY2=l})},rn.prototype.trim=function(e,t){var n=.5,i=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,n),o=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,.1);return n=t*(n/i.distanceTo(this.x,this.y)+.1/o.distanceTo(this.x,this.y))/2,i=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,e.x,e.y,n),this.x=i.x,this.y=i.y,this},rn.prototype.offsetPoint=function(e,t,n,i,r,o,s,a,l){return new te((1-l)*(1-l)*(1-l)*e+3*(1-l)*(1-l)*l*n+3*(1-l)*l*l*r+l*l*l*s,(1-l)*(1-l)*(1-l)*t+3*(1-l)*(1-l)*l*i+3*(1-l)*l*l*o+l*l*l*a)},Ce.Markers={},Ce.DrawCircle=function(e,t){var n=Math.min(t.width/2,t.height/2);t=new K(t.horizontalCenter()-n,t.verticalCenter()-n,2*n,2*n),Ce.DrawOval(e,t)},Ce.DrawRectangle=function(e,t){e.addSegment(new Be(t.x,t.verticalCenter())),e.addSegment(new _e(t.x,t.y)),e.addSegment(new _e(t.right(),t.y)),e.addSegment(new _e(t.right(),t.bottom())),e.addSegment(new _e(t.x,t.bottom())),e.addSegment(new _e(t.x,t.verticalCenter()))},Ce.DrawOval=function(e,t){var n,i;n=t.width/2*.5522848,i=t.height/2*.5522848,e.addSegment(new Be(t.x,t.verticalCenter())),e.addSegment(new rn(t.x,t.verticalCenter()-i,t.horizontalCenter()-n,t.y,t.horizontalCenter(),t.y)),e.addSegment(new rn(t.horizontalCenter()+n,t.y,t.right(),t.verticalCenter()-i,t.right(),t.verticalCenter())),e.addSegment(new rn(t.right(),t.verticalCenter()+i,t.horizontalCenter()+n,t.bottom(),t.horizontalCenter(),t.bottom())),e.addSegment(new rn(t.horizontalCenter()-n,t.bottom(),t.x,t.verticalCenter()+i,t.x,t.verticalCenter()))},Ce.DrawTriangle=function(e,t){e.addSegment(new Be(t.left(),t.bottom())),e.addSegment(new _e(t.horizontalCenter(),t.y)),e.addSegment(new _e(t.right(),t.bottom())),e.addSegment(new _e(t.left(),t.bottom()))},Ce.DrawCrossOut=function(e,t){e.addSegment(new Be(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new _e(t.x,t.y)),e.addSegment(new Be(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new _e(t.right(),t.bottom())),e.addSegment(new Be(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new _e(t.right(),t.y)),e.addSegment(new Be(t.horizontalCenter(),t.verticalCenter())),e.addSegment(new _e(t.left(),t.bottom()))},Ce.DrawRhombus=function(e,t){e.addSegment(new Be(t.horizontalCenter(),t.bottom())),e.addSegment(new _e(t.left(),t.verticalCenter())),e.addSegment(new _e(t.horizontalCenter(),t.y)),e.addSegment(new _e(t.right(),t.verticalCenter())),e.addSegment(new _e(t.horizontalCenter(),t.bottom()))},Ce.DrawWedge=function(e,t){e.addSegment(new Be(t.horizontalCenter(),t.y)),e.addSegment(new _e(t.right(),t.y)),e.addSegment(new _e(t.horizontalCenter(),t.bottom())),e.addSegment(new _e(t.left(),t.y)),e.addSegment(new _e(t.horizontalCenter(),t.y))},Ce.DrawFramedOval=function(e,t){Ce.DrawRectangle(e,t),Ce.DrawOval(e,t)},Ce.DrawFramedTriangle=function(e,t){Ce.DrawRectangle(e,t),Ce.DrawTriangle(e,t)},Ce.DrawFramedWedge=function(e,t){Ce.DrawRectangle(e,t),Ce.DrawWedge(e,t)},Ce.DrawFramedRhombus=function(e,t){Ce.DrawRectangle(e,t),Ce.DrawRhombus(e,t)},Ce.DrawNone=function(e,t){},Ce.Markers[Pt.Circle]=Ce.DrawCircle,Ce.Markers[Pt.Rectangle]=Ce.DrawRectangle,Ce.Markers[Pt.Oval]=Ce.DrawOval,Ce.Markers[Pt.Triangle]=Ce.DrawTriangle,Ce.Markers[Pt.CrossOut]=Ce.DrawCrossOut,Ce.Markers[Pt.Rhombus]=Ce.DrawRhombus,Ce.Markers[Pt.Wedge]=Ce.DrawWedge,Ce.Markers[Pt.FramedOval]=Ce.DrawFramedOval,Ce.Markers[Pt.FramedTriangle]=Ce.DrawFramedTriangle,Ce.Markers[Pt.FramedWedge]=Ce.DrawFramedWedge,Ce.Markers[Pt.FramedRhombus]=Ce.DrawFramedRhombus,Ce.Markers[Pt.None]=Ce.DrawNone,Ce.prototype.draw=function(e,t,n,i){var r;r=e.getPolyline(i),Ce.Markers[t](r,n)},(Bd.prototype=new Ir).draw=function(e,t){var n,i,r,o,s;e=new K(e).offset(this.offset),this.transform=new ar,this.transform.size=this.panelSize,this.transform.setOrientation(this.orientationType),this.hasLabel&&(n=this._getLabelPosition(e.x,e.y,e.width,e.height,this.labelSize.width,this.labelSize.height,this.labelOffset,this.labelPlacement)),this.shapeType===Pt.Rectangle?((i=new os(this.m_graphics)).cornerRadius=this.cornerRadius,i.opacity=this.opacity,i.lineWidth=this.lineWidth,i.lineType=this.lineType,i.borderColor=this.borderColor,i.fillColor=this.fillColor,i.draw(null,e)):(r=new Qt({lineColor:this.borderColor,lineWidth:this.lineWidth,lineType:this.lineType,fillColor:this.fillColor,opacity:this.opacity}),this.transform.transformRect(e.x,e.y,e.width,e.height,!1,this,function(a,l,u,c){e=new K(a,l,u,c)}),s=new Ce,o=new eo,s.draw(o,this.shapeType,e,r),o.transform(this.transform,!0),this.m_graphics.polylinesBuffer(o)),this.hasLabel&&this.m_graphics.template(n.x,n.y,0,0,0,0,n.width,n.height,this.labelTemplate.template(),this.labelTemplate.getHashCode(),this.labelTemplate.render,t,null)},zd.prototype=new K,I_.prototype.getUserDefinedPositions=function(e){var t,n,i,r=wa(),o={};for(n=0,i=e.length;n<i;n+=1)null!=(t=e[n]).relativeItem&&(o[t.relativeItem]=!0),null!=t.id&&(o[t.id]=!0);for(n=0,i=e.length;n<i;n+=1)o.hasOwnProperty((t=e[n]).id)&&r.add(t.relativeItem||null,t.id,t);function a(g,m){this.position=g,this.items=m}var l={},u={},c={};r.loopPostOrder(this,function(g,m,w,v){var S,C=[],y=u[g],T=c[g];if(null!=y)for(y.sort(function(_,b){return b.position-_.position}),S=0;S<y.length;S+=1)C=C.concat(y[S].items);if(C.push(g),null!=T)for(T.sort(function(_,b){return _.position-b.position}),S=0;S<T.length;S+=1)C=C.concat(T[S].items);null!=w?m.placementType==St.Left?(u.hasOwnProperty(w)||(u[w]=[]),u[w].push(new a(m.position,C))):(c.hasOwnProperty(w)||(c[w]=[]),c[w].push(new a(m.position,C))):l[g]=C});var h={},f={};for(var d in l)if(l.hasOwnProperty(d))for(e=l[d],n=0;n<e.length;n+=1){var p=e[n];h[p]=n,f[p]=d}return{position:h,group:f}},to.prototype.getNear=function(e){return this.values[this[e]]},to.prototype.getFar=function(e){return this.values[Math.abs(this[e]-1)]},to.prototype.setNear=function(e,t){this.values[this[e]]=t},to.prototype.setFar=function(e,t){this.values[Math.abs(this[e]-1)]=t},to.prototype.toString=function(){return this.parent+","+this.child},Da.prototype.validate=function(e,t){if(!e.validate())throw"Family structure failed to pass validation!";e.loop(this,function(n,i){e.loopChildren(this,n,function(r,o,s){if(null===o.level||null===i.level||(t?o.level!=i.level+1:o.level<=i.level))throw"Family tree is broken. Children/Parents or levels mismatch!";return e.SKIP})})},cr.prototype.trace=function(e,t,n){},cr.prototype.getId=function(e){var t="_"+e.nodeid;return e.nodeid+=1,t},cr.prototype.ConnectorEdge=function(e,t,n,i,r,o,s,a,l,u,c){this.polyline=n,this.from=e,this.to=t,this.weight=s||0,this.fromOffset=a||0,this.hasArrow=c||!1,this.parentsArrowId=i,this.childrenArrowId=r,this.dotId=o,this.hasMiddle=l,this.middleParent=u,this.isOppositeFlow=!1},cr.prototype.ConnectorDestination=function(e){for(var t in this.id=null,this.x=null,this.y=null,this.bundleid=null,this.hasElbow=!1,this.elbowPoint1=null,this.elbowPoint2=null,this.visibility=null,this.isSquared=!0,e)e.hasOwnProperty(t)&&(this[t]=e[t])},cr.prototype.traceFork=function(e,t,n,i,r,o,s,a,l){var u,c,h,f,p,g,m,w,v,C,y,T,S,d=[];if(o){for(d=[],u=0,h=r.length;u<h&&(f=r[u]).x<i.x&&!f.isSquared;u+=1)d.push(f);for((h=d.length)>0&&(p=(g=d[h-1]).x==i.x?i:new this.ConnectorDestination({id:g.bundleid,x:g.x,y:i.y}),this.traceAngularSegments(e,t,n,p,d,!1)),d=[],c=r.length-1;c>=u&&(f=r[c]).x>i.x&&!f.isSquared;c-=1)d.push(f);for((h=d.length)>0&&(p=(g=d[h-1]).x==i.x?i:new this.ConnectorDestination({id:g.bundleid,x:g.x,y:i.y}),this.traceAngularSegments(e,t,n,p,d,!1)),m=u;m<=c;m+=1){switch(f=r[m],(v=n.bevelSize)<2&&(v=0),n.elbowType){case Zr.Bevel:case Zr.Round:v>0&&Math.abs(i.x-f.x)>v&&Math.abs(i.y-f.y)>v&&(f.hasElbow=!0,f.elbowPoint1=new te(f.x,i.y+(i.y>f.y?-v:v)),f.elbowPoint2=new te(f.x+(i.x>f.x?v:-v),i.y))}w=new nn,f.hasElbow?(t.transform.transform3Points(f.elbowPoint2.x,f.elbowPoint2.y,f.elbowPoint1.x,f.elbowPoint2.y,f.elbowPoint1.x,f.elbowPoint1.y,!0,this,function(I,D,P,M,E,A){switch(n.elbowType){case Zr.Bevel:w.addSegment(new Be(I,D)),w.addSegment(new _e(E,A));break;case Zr.Round:w.addSegment(new Be(I,D)),w.addSegment(new rn(I,D,P,M,E,A))}}),t.transform.transformPoints(f.elbowPoint1.x,f.elbowPoint1.y,f.x,f.y,!0,this,function(I,D,P,M){w.addSegment(new _e(P,M))})):t.transform.transformPoints(f.x,i.y,f.x,f.y,!0,this,function(I,D,P,M){w.addSegment(new Be(I,D)),w.addSegment(new _e(P,M))});var _=f.x==i.x?i.id:f.bundleid,b=f.visibility!==ne.Invisible;e.graph.addEdge(_,f.id,new this.ConnectorEdge(_,f.id,w,s?f.id:null,s?null:f.id,null,b?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,a,null,null,b))}for(u=Math.max(u-1,0),c=Math.min(c+1,r.length-1),C=i,y=i.id,m=u;m<=c;m+=1)S=(T=r[m]).bundleid,T.x>C.x&&(w=new nn,t.transform.transformPoints(C.x,i.y,null!=T.elbowPoint2?T.elbowPoint2.x:T.x,i.y,!0,this,function(I,D,P,M){w.addSegment(new Be(I,D)),w.addSegment(new _e(P,M))}),e.graph.addEdge(y,S,new this.ConnectorEdge(y,S,w,null,null,y,Math.abs(T.x-C.x)/1e4,a,l,s?S:y)),C=T.elbowPoint2||T,y=S);for(C=i,y=i.id,m=c;m>=u;m-=1)S=(T=r[m]).bundleid,T.x<C.x&&(w=new nn,t.transform.transformPoints(C.x,i.y,null!=T.elbowPoint2?T.elbowPoint2.x:T.x,i.y,!0,this,function(I,D,P,M){w.addSegment(new Be(I,D)),w.addSegment(new _e(P,M))}),e.graph.addEdge(y,S,new this.ConnectorEdge(y,S,w,null,null,y,Math.abs(T.x-C.x)/1e4,a,l,s?S:y)),C=T.elbowPoint2||T,y=S)}else this.traceAngularSegments(e,t,n,i,r,!0)},cr.prototype.traceAngularSegments=function(e,t,n,i,r,o){var s,a,l,u,c;for(s=0,a=r.length;s<a;s+=1){switch(u=r[s],c=new nn,t.transform.transformPoint(i.x,i.y,!0,this,function(f,d){c.addSegment(new Be(f,d))}),n.connectorType){case rs.Angular:t.transform.transformPoint(u.x,u.y,!0,this,function(f,d){c.addSegment(new _e(f,d))});break;case rs.Curved:l=new K(i,u),o?i.x>l.x?t.transform.transform3Points(l.right(),l.verticalCenter(),l.x,l.verticalCenter(),l.x,l.bottom(),!0,this,function(f,d,p,g,m,w){c.addSegment(new rn(f,d,p,g,m,w))}):t.transform.transform3Points(l.x,l.verticalCenter(),l.right(),l.verticalCenter(),l.right(),l.bottom(),!0,this,function(f,d,p,g,m,w){c.addSegment(new rn(f,d,p,g,m,w))}):i.x>l.x?t.transform.transformPoints(l.x,l.y,l.x,l.bottom(),!0,this,function(f,d,p,g){c.addSegment(new Nt(f,d,p,g))}):t.transform.transformPoints(l.right(),l.y,l.right(),l.bottom(),!0,this,function(f,d,p,g){c.addSegment(new Nt(f,d,p,g))})}var h=u.visibility!==ne.Invisible;e.graph.addEdge(i.id,u.id,new this.ConnectorEdge(i.id,u.id,c,null,h?u.id:null,h?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,null,null,null,!0))}},(no.prototype=new cr).trace=function(e,t,n){this.isChildren?this.traceChildrenLayout(e,t,n):this.traceParentsLayout(e,t,n)},no.prototype.traceChildrenLayout=function(e,t,n){for(var i,r=[],o=0;o<this.blocksCount;o+=1){for(var s=null,a=this.rowsCount-1;a>=0;a-=1){var l=this.getNodeIndex(o,a,!0,!0),u=null,c=null;l<this.len&&(c=t.treeItemsPositions[u=this.items[l]]);var h=this.getNodeIndex(o,a,!1,!0),f=null,d=null;h<this.len&&(d=t.treeItemsPositions[f=this.items[h]]);var p=null;null==p&&null!=c&&(p=new this.ConnectorDestination({id:this.getId(e),x:c.actualPosition.horizontalCenter()+c.rightMedianOffset,y:c.horizontalConnectorsShift})),null==p&&null!=d&&(p=new this.ConnectorDestination({id:this.getId(e),x:d.actualPosition.horizontalCenter()-d.leftMedianOffset,y:d.horizontalConnectorsShift})),null!=c&&t.transform.transformPoints((i=c.actualPosition).right(),p.y,p.x,p.y,!0,this,function(w,v,C,y){var T=new nn;T.addSegment(new Be(w,v)),T.addSegment(new _e(C,y)),e.graph.addEdge(u=t.nestedLayoutParentConnectorIds[u]||u,p.id,new this.ConnectorEdge(u,p.id,T,null,u,null,10,null,null,null,!0))}),null!=d&&t.transform.transformPoints((i=d.actualPosition).left(),p.y,p.x,p.y,!0,this,function(w,v,C,y){var T=new nn;T.addSegment(new Be(w,v)),T.addSegment(new _e(C,y)),e.graph.addEdge(f=t.nestedLayoutParentConnectorIds[f]||f,p.id,new this.ConnectorEdge(f,p.id,T,null,f,null,10,null,null,null,!0))}),null!=s&&null!=p&&t.transform.transformPoints(s.x,s.y,p.x,p.y,!0,this,function(w,v,C,y){var T=new nn;T.addSegment(new Be(w,v)),T.addSegment(new _e(C,y)),e.graph.addEdge(s.id,p.id,new this.ConnectorEdge(s.id,p.id,T,null,null,null,0))}),null!=p&&(s=p)}null!=s&&r.push(new this.ConnectorDestination({id:s.id,bundleid:this.getId(e),x:s.x,y:s.y,isSquared:!0,visibility:ne.Invisible}))}var m=new this.ConnectorDestination({id:this.matrixNodeId,x:(i=t.treeItemsPositions[this.matrixNodeId].actualPosition).horizontalCenter(),y:i.top()});this.traceFork(e,t,n,m,r,!0,!1,0,n.showExtraArrows)},no.prototype.traceParentsLayout=function(e,t,n){for(var i,r=[],o=0;o<=this.blocksCount;o+=1){for(var s=null,a=0;a<this.rowsCount;a+=1){var l=this.getNodeIndex(o,a,!0,!1),u=null,c=null;l<this.len&&(c=t.treeItemsPositions[u=this.items[l]]);var h=this.getNodeIndex(o,a,!1,!1),f=null,d=null;h<this.len&&(d=t.treeItemsPositions[f=this.items[h]]);var p=null;null==p&&null!=c&&(p=new this.ConnectorDestination({id:this.getId(e),x:c.actualPosition.horizontalCenter()+c.rightMedianOffset,y:c.horizontalConnectorsShift})),null==p&&null!=d&&(p=new this.ConnectorDestination({id:this.getId(e),x:d.actualPosition.horizontalCenter()-d.leftMedianOffset,y:d.horizontalConnectorsShift})),null!=c&&t.transform.transformPoints((i=c.actualPosition).right(),p.y,p.x,p.y,!0,this,function(w,v,C,y){var T=new nn;T.addSegment(new Be(w,v)),T.addSegment(new _e(C,y)),e.graph.addEdge(u=t.nestedLayoutBottomConnectorIds[u]||u,p.id,new this.ConnectorEdge(u,p.id,T,u,null,null,10,null,null,null,!0))}),null!=d&&t.transform.transformPoints((i=d.actualPosition).left(),p.y,p.x,p.y,!0,this,function(w,v,C,y){var T=new nn;T.addSegment(new Be(w,v)),T.addSegment(new _e(C,y)),e.graph.addEdge(f=t.nestedLayoutBottomConnectorIds[f]||f,p.id,new this.ConnectorEdge(f,p.id,T,f,null,null,10,null,null,null,!0))}),null!=s&&null!=p&&t.transform.transformPoints(s.x,s.y,p.x,p.y,!0,this,function(w,v,C,y){var T=new nn;T.addSegment(new Be(w,v)),T.addSegment(new _e(C,y)),e.graph.addEdge(s.id,p.id,new this.ConnectorEdge(s.id,p.id,T,null,null,null,0,null,null,null,!0))}),null!=p&&(s=p)}null!=s&&r.push(new this.ConnectorDestination({id:s.id,bundleid:this.getId(e),x:s.x,y:s.y,isSquared:!0,visibility:ne.Invisible}))}var m=new this.ConnectorDestination({id:this.connectionId,x:(i=t.treeItemsPositions[this.matrixNodeId].actualPosition).horizontalCenter(),y:i.bottom()});this.traceFork(e,t,n,m,r,!0,!0,0,n.showExtraArrows)},no.prototype.getNodeIndex=function(e,t,n,i){var o,r=null;return i?this.matrixWidth>(o=2*e+(n?0:1))&&(r=t*this.matrixWidth+o):(o=2*e+(n?-1:0))>=0&&o<this.matrixWidth&&(r=t*this.matrixWidth+o),r},(Hd.prototype=new cr).trace=function(e,t,n){var i=this.fromItem,r=this.toItem,o=t.treeItemsPositions[i],s=t.treeItemsPositions[r],a=new nn;o.actualPosition.x<s.actualPosition.x?t.transform.transformPoints(o.actualPosition.right(),o.horizontalConnectorsShift,s.actualPosition.x,s.horizontalConnectorsShift,!0,this,function(c,h,f,d){a.addSegment(new Be(c,h)),a.addSegment(new _e(f,d))}):t.transform.transformPoints(o.actualPosition.x,o.horizontalConnectorsShift,s.actualPosition.right(),o.horizontalConnectorsShift,!0,this,function(c,h,f,d){a.addSegment(new Be(c,h)),a.addSegment(new _e(f,d))});var l=s.actualVisibility!==ne.Invisible,u=o.actualVisibility!==ne.Invisible;e.graph.addEdge(i,r,new this.ConnectorEdge(i,r,a,l?r:null,u?i:null,null,l||u?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,null,null,null,!0))},qn.prototype.loop=function(e,t){if(null!=t)for(var n=0,i=this.items.length;n<i;n+=1)t.call(e,this.items[n],0)},qn.prototype.Column=function(){this.depth=0,this.offset=0,this.leftPadding=0,this.rightPadding=0,this.layoutDirection=St.Left},qn.prototype.Row=function(){this.depth=0,this.offset=0,this.horizontalConnectorsDepth=0,this.minimalDepth=null,this.dotsDepth=null},qn.prototype.getMatrixWidth=function(e,t){return Math.min(e,Math.ceil(Math.sqrt(t)))},qn.prototype.measure=function(e,t,n,i,r,o){var s={columns:[],rows:[]};this.measureColumns(s,this.items,r,o),this.measureRows(s,this.items,r,o),this.data=s;var a=new _a;return a.actualVisibility=ne.Normal,a.actualSize=this.getLayoutSize(s),a},qn.prototype.measureColumns=function(e,t,n,i){var r,o,s,a=this.getMatrixWidth(i.maximumColumnsInMatrix,t.length);for(o=0,s=t.length;o<s;o+=1){var c=n[t[o].id],h=i.intervals[c.actualVisibility]/2,f=o%a;null==(r=e.columns[f])&&((r=new this.Column).layoutDirection=f%2?St.Right:St.Left,e.columns[f]=r),r.depth=Math.max(r.depth,h+c.actualSize.width+h)}var p=8*i.linesWidth,g=0;for(o=0,s=e.columns.length;o<s;o+=1){if(r=e.columns[o],o%2==0)switch(i.arrowsDirection){case tt.Parents:r.leftPadding=this.hideChildrenConnection?0:p,r.rightPadding=0;break;case tt.Children:r.leftPadding=0,r.rightPadding=this.hideParentConnection?0:p}else switch(i.arrowsDirection){case tt.Parents:r.leftPadding=0,r.rightPadding=this.hideChildrenConnection?0:p;break;case tt.Children:r.leftPadding=this.hideParentConnection?0:p,r.rightPadding=0}r.offset=g+r.leftPadding+r.depth/2,g=r.offset+r.depth/2+r.rightPadding}},qn.prototype.measureRows=function(e,t,n,i){var r,o,s,a=this.getMatrixWidth(i.maximumColumnsInMatrix,t.length);for(r=0,o=t.length;r<o;r+=1){var c=n[t[r].id],h=Math.floor(r/a),f=i.shifts[c.actualVisibility]/2;switch(null==(s=e.rows[h])&&(s=new this.Row,e.rows[h]=s),s.depth=Math.max(s.depth,f+c.actualSize.height+f),c.actualVisibility){case ne.Dot:case ne.Line:case ne.Invisible:s.dotsDepth=s.dotsDepth?Math.min(s.dotsDepth,c.actualSize.height):c.actualSize.height;break;default:s.minimalDepth=s.minimalDepth?Math.min(s.minimalDepth,c.actualSize.height):c.actualSize.height}}var d=0;for(r=0,o=e.rows.length;r<o;r+=1)switch(s=e.rows[r],s.offset=d+s.depth/2,d=s.offset+s.depth/2,null==s.minimalDepth&&(s.minimalDepth=s.depth),null!=s.dotsDepth&&s.dotsDepth>s.minimalDepth&&(s.minimalDepth=s.dotsDepth),i.verticalAlignment){case Re.Top:s.horizontalConnectorsDepth=s.minimalDepth/2;break;case Re.Middle:s.horizontalConnectorsDepth=s.depth/2;break;case Re.Bottom:s.horizontalConnectorsDepth=s.depth-s.minimalDepth/2}},qn.prototype.getLayoutSize=function(e){return new K(0,0,Math.round(this.getLayoutWidth(e)),Math.round(this.getLayoutHeight(e)))},qn.prototype.getLayoutWidth=function(e){var t=0,n=e.columns.length;if(n>0){var i=e.columns[n-1];t=i.offset+i.depth/2+i.rightPadding}return t},qn.prototype.getLayoutHeight=function(e){var t=0,n=e.rows.length;if(n>0){var i=e.rows[n-1];t=i.offset+i.depth/2}return t},qn.prototype.arrange=function(e,t,n,i,r,o){if(null!=o)for(var s=this.getMatrixWidth(r.maximumColumnsInMatrix,this.items.length),a=0,l=this.items.length;a<l;a+=1){var c=this.items[a].id,f=this.data.columns[a%s],d=Math.floor(a/s),p=this.data.rows[d],g=i[c],m=this.getItemPosition(g.actualVisibility,f,p,g.actualSize,r.verticalAlignment);m.translate(t.x,t.y),g={...g,actualPosition:m,horizontalConnectorsShift:t.y+p.offset-p.depth/2+p.horizontalConnectorsDepth,leftMedianOffset:f.depth/2+f.leftPadding,rightMedianOffset:f.depth/2+f.rightPadding,topConnectorShift:p.depth/2,bottomConnectorShift:p.depth/2},o.call(e,c,g,f.layoutDirection)}},qn.prototype.getItemPosition=function(e,t,n,i,r){var o=0;switch(e){case ne.Normal:switch(r){case Re.Top:o=0;break;case Re.Middle:o=(n.depth-i.height)/2;break;case Re.Bottom:o=n.depth-i.height}break;case ne.Dot:case ne.Line:case ne.Invisible:o=n.horizontalConnectorsDepth-i.height/2}return new K(t.offset-i.width/2,n.offset-n.depth/2+o,i.width,i.height)},Hi.prototype.loop=function(e,t){if(null!=t)for(var n=0,i=this.items.length;n<i;n+=1)t.call(e,this.items[n],0)},Hi.prototype.Column=function(){this.depth=0,this.offset=0,this.parentsPadding=0,this.childrenPadding=0},Hi.prototype.Row=function(){this.depth=0,this.offset=0,this.minimalDepth=null,this.dotsDepth=null},Hi.prototype.measure=function(e,t,n,i,r,o){var s={columns:[],row:null};this.measureColumns(s,this.items,r,o),this.measureRow(s,this.items,r,o),this.data=s;var a=new _a;return a.actualVisibility=ne.Normal,a.actualSize=this.getLayoutSize(s),a},Hi.prototype.measureColumns=function(e,t,n,i){for(var r,o=0,s=8*i.linesWidth,a=0;a<t.length;a+=1){var c=n[t[a].id];null==(r=e.columns[a])&&(r=new this.Column,e.columns[a]=r),r.depth=c.actualSize.width;var h=i.intervals[c.actualVisibility]/2;switch(0!=a&&(r.parentsPadding=h),a!=t.length-1&&(r.childrenPadding=h),i.arrowsDirection){case tt.Parents:a!=t.length-1&&(r.childrenPadding+=this.hideChildrenConnection?0:s);break;case tt.Children:0!=a&&(r.parentsPadding+=this.hideParentConnection?0:s)}r.offset=o+r.parentsPadding+r.depth/2,o=r.offset+r.depth/2+r.childrenPadding}},Hi.prototype.measureRow=function(e,t,n,i){e.row=new this.Row;for(var r=e.row,o=0;o<t.length;o+=1){var l=n[t[o].id],u=i.shifts[l.actualVisibility]/2;switch(r.depth=Math.max(r.depth,u+l.actualSize.height+u),l.actualVisibility){case ne.Dot:case ne.Line:case ne.Invisible:r.dotsDepth=r.dotsDepth?Math.min(r.dotsDepth,l.actualSize.height):l.actualSize.height;break;default:r.minimalDepth=r.minimalDepth?Math.min(r.minimalDepth,l.actualSize.height):l.actualSize.height}}r.offset=r.depth/2,null==r.minimalDepth&&(r.minimalDepth=r.depth),null!=r.dotsDepth&&r.dotsDepth>r.minimalDepth&&(r.minimalDepth=r.dotsDepth)},Hi.prototype.getLayoutSize=function(e){var t=0,n=e.columns.length;if(n>0){var i=e.columns[n-1];t=i.offset+i.depth/2+i.childrenPadding}var r=e.row.offset+e.row.depth/2;return new K(0,0,Math.round(t),Math.round(r))},Hi.prototype.arrange=function(e,t,n,i,r,o){if(null!=o)for(var s=0;s<this.items.length;s+=1){var l=this.items[s].id,u=this.data.columns[s],c=this.data.row,h=i[l],f=u.offset;n==St.Left&&(f=t.width-u.offset);var d=this.getItemPosition(h.actualVisibility,f,c,h.actualSize,r);d.translate(t.x,t.y),h={...h,actualPosition:d,horizontalConnectorsShift:t.y+c.offset-c.depth/2+c.offset,leftMedianOffset:u.depth/2+(n==St.Left?u.childrenPadding:u.parentsPadding),rightMedianOffset:u.depth/2+(n==St.Left?u.parentsPadding:u.childrenPadding),topConnectorShift:c.depth/2,bottomConnectorShift:c.depth/2},o.call(e,l,h)}},Hi.prototype.getItemPosition=function(e,t,n,i,r){return new K(t-i.width/2,n.offset-i.height/2,i.width,i.height)},(Au.prototype=new Da).extract=function(e,t,n,i){var r={},o={},s={},a=[];return n.hasNodes()>0&&e.enableMatrixLayout&&n.groupBy(this,Math.max(2,e.minimumMatrixSize),function(l,u,c){for(var h=[],f=0;f<c.length;f+=1){var d=c[f];if(1==d.length)h.push(d[0].node);else{var C=i+=1,y=i+=1,p=new ur({id:C,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+C,description:"This is item used as aggregator of horizontally grouped nodes."},hideParentConnection:!0,hideChildrenConnection:!0});o[C]=d[0].id,s[C]=d[d.length-1].id;for(var g=0;g<d.length-1;g+=1)a.push(new Hd(d[g+1].id,d[g].id));for(g=0;g<d.length;g+=1)n.removeNode(d[g].id);var _=h.map(P=>P.id);if(l.length>0?(n.add(l,C,p),p.hideParentConnection=!1):n.add(null,C,p),u.length>0){for(g=0;g<u.length;g+=1)n.adopt([C],u[g]);p.hideChildrenConnection=!1}r[C]=new Hi(d.map(P=>P.node),p.hideParentConnection,p.hideChildrenConnection),h.push(p)}}C=i+=1,y=i+=1;var T=new ur({id:C,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+C,description:"This is item used as aggregator of matrixed nodes."},hideParentConnection:!0,hideChildrenConnection:!0});s[C]=y,g=0;for(var S=h.length;g<S;g+=1)n.removeNode(h[g].id);if(_=h.map(b=>b.id),l.length>0?(n.add(l,C,T),T.hideParentConnection=!1,a.push(new no(!0,_,C,C,this.getMatrixWidth(e.maximumColumnsInMatrix,_.length)))):n.add(null,C,T),u.length>0){for(g=0;g<u.length;g+=1)n.adopt([C],u[g]);T.hideChildrenConnection=!1,a.push(new no(!1,_,C,y,this.getMatrixWidth(e.maximumColumnsInMatrix,_.length)))}r[C]=new qn(h,T.hideParentConnection,T.hideChildrenConnection)},function(l){for(var u=null,c=0,h=0;h<l.length;h+=1){var d=t(l[h].id);if(null!=d){if(c>0){u=-1;break}if(c++,!d.addToMatrix){u=-1;break}u=d.matrixId}}return 0==c&&(u=-1),u}),{maximumId:i,nestedLayoutParentConnectorIds:o,nestedLayoutBottomConnectorIds:s,layouts:r,bundles:a}},Au.prototype.getMatrixWidth=function(e,t){return Math.min(e,Math.ceil(Math.sqrt(t)))},(ss.prototype=new Da).normalize=function(e,t,n){if(t.hasNodes()>0){var i=[];t.loop(this,function(h,f){f.isLevelNeutral&&i.push(h)});var r=t;if(i.length>0){r=t.clone();for(var o=0;o<i.length;o+=1){var s=i[o],a=[];r.loopParents(this,s,function(h,f,d){if(0!=d)return!0;a.push(h)});var l=[];if(a.length>0&&r.loopChildren(this,s,function(h,f,d){if(0!=d)return!0;l.push(h)}),r.removeNode(s),l.length>0)for(var u=0;u<l.length;u+=1)r.adopt(a,l[u])}}r.loopLevels(this,e.groupByType==tt.Parents,function(h,f,d){f.level=d}),e.alignBylevels?this.resortItemsBylevels(t):t.loopLevels(this,e.groupByType==tt.Parents,function(h,f,d){f.level=d}),this.debug&&this.validate(t,!1),this.fillInItems(t,function(h){return new ur({id:n+=1,levelGravity:tt.Children,isVisible:!1,isActive:!1,itemConfig:{title:"extension #"+n,description:"This is item used to fill gaps in levels."}})}),this.debug&&this.validate(t,!0)}return n},ss.prototype.resortItemsBylevels=function(e){var r,t=[],n=null,i=null;for(e.loop(this,function(s,a){a.originalLevel=a.level,a.level=null,null!=a.originalLevel&&(t[a.originalLevel]||(t[a.originalLevel]={}),t[a.originalLevel][s]=a,n=null!=n?Math.min(a.originalLevel,n):a.originalLevel,i=null!=i?Math.max(a.originalLevel,i):a.originalLevel)}),r=n;r<=i;r+=1)this.setLevelsForItems(t[r],e);e.loopTopo(this,function(s,a,l){var u;a.levelGravity==tt.Parents&&(u=null,e.loopParents(this,s,function(c,h,f){return u=null==u?h.level+1:Math.max(h.level+1,u),e.SKIP}),a.level=u||a.level)})},ss.prototype.setLevelsForItems=function(e,t){var i,r,o,n=0;for(i in e)e.hasOwnProperty(i)&&t.loopParents(this,i,function(s,a,l){return n=Math.max(a.level+1,n),t.SKIP});for(i in e)e.hasOwnProperty(i)&&((r=e[i]).level=n);for(;!xu(e);){for(i in o={},e)e.hasOwnProperty(i)&&(r=e[i],t.loopChildren(this,i,function(s,a,l){return(null==a.originalLevel||a.isLevelNeutral)&&(a.level=null==a.level?r.level+1:Math.max(a.level,r.level+1),o[s]=a),t.SKIP}));e=o}},ss.prototype.fillInItems=function(e,t){var n;e.loop(this,function(i,r){for(var s,o=!0;o;)o=!1,s=[],e.loopParents(this,i,function(a,l,u){return r.level-1>l.level&&s.push(a),e.SKIP}),s.length>1&&((n=t(r)).level=r.level-1,n.hideParentConnection=!1,n.hideChildrenConnection=!1,e.bundleParents(i,s,n.id,n),o=!0,i=n.id,r=n)}),e.loop(this,function(i,r){for(var s,o=!0,a=!0;o;)o=!1,s=[],e.loopChildren(this,i,function(l,u,c){return r.level+1<u.level?s.push(l):a=!1,e.SKIP}),s.length>1&&((n=t(r)).level=r.level+1,a&&(n.hideParentConnection=!1,n.hideChildrenConnection=!1),e.bundleChildren(i,s,n.id,n),o=!0,i=n.id,r=n)}),e.loop(this,function(i,r){for(var s,o=!0;o;)o=!1,s=[],e.loopParents(this,i,function(a,l,u){return r.level-1>l.level&&s.push(a),e.SKIP}),s.length>0&&((n=t(r)).level=r.level-1,n.hideParentConnection=!1,n.hideChildrenConnection=!1,e.bundleParents(i,s,n.id,n),o=!0,i=n.id,r=n)})},Vd.prototype.clone=function(e){var n,t=new Vd(e);for(n in this.left)this.left.hasOwnProperty(n)&&(t.left[n]=this.left[n]);for(n in this.right)this.right.hasOwnProperty(n)&&(t.right[n]=this.right[n]);for(n in this.crossings)this.crossings.hasOwnProperty(n)&&(t.crossings[n]=this.crossings[n]);return t.itemid=e,t},(jd.prototype=new cr).trace=function(e,t,n){var i,r,o,s,a,l,u,c,h,f,d,p,g,w=n.connectorType===rs.Squared;if(i=[],this.fromItems.length>0){for(l=0,u=(o=this.fromItems).length;l<u;l+=1)a=t.treeItemsPositions[s=o[l]],g=new this.ConnectorDestination({id:t.nestedLayoutBottomConnectorIds.hasOwnProperty(s)?t.nestedLayoutBottomConnectorIds[s]:s,bundleid:this.getId(e),x:a.actualPosition.horizontalCenter(),y:a.actualPosition.bottom(),isSquared:!0,visibility:a.actualVisibility}),i.push(g);i.sort(function(y,T){return y.x-T.x}),d=a.bottomConnectorShift-a.bottomConnectorInterval*(this.fromStackSize-this.fromOffset+1)}if(r=[],this.toItems.length>0){for(h=!1,o=this.toItems,l=0;l<o.length;l+=1){switch(c=!0,(a=t.treeItemsPositions[s=o[l]]).actualVisibility){case ne.Dot:case ne.Line:c=w}g=new this.ConnectorDestination({id:s,bundleid:this.getId(e),x:a.actualPosition.horizontalCenter()+0,y:a.actualPosition.top(),isSquared:c,visibility:a.actualVisibility}),r.push(g),h=h||g.isSquared}r.sort(function(y,T){return y.x-T.x}),p=a.topConnectorShift}f=1==r.length?r[0].x:1==i.length?i[0].x:r.length>0&&i.length>0?(i[0].x+i[i.length-1].x+r[0].x+r[r.length-1].x)/4:r.length>0?(r[0].x+r[r.length-1].x)/2:(i[0].x+i[i.length-1].x)/2;var v=null;i.length>0&&(v=new this.ConnectorDestination({id:0==r.length&&this.dotId?this.dotId:this.getId(e),x:f,y:d}),this.traceFork(e,t,n,v,i,!0,!0,this.fromOffset,n.showExtraArrows));var C=null;r.length>0&&(C=new this.ConnectorDestination({id:0==i.length&&this.dotId?this.dotId:this.getId(e),x:f,y:p}),null!=v&&C.y==v.y&&(C=v),this.traceFork(e,t,n,C,r,h,!1,0,n.showExtraArrows)),null!=v&&null!=C&&v.id!=C.id&&t.transform.transformPoints(v.x,v.y,C.x,C.y,!0,this,function(y,T,S,_){var b=new nn;b.addSegment(new Be(y,T)),b.addSegment(new _e(S,_)),e.graph.addEdge(v.id,C.id,new this.ConnectorEdge(v.id,C.id,b,null,null,null,0))})},un.prototype.balance=function(e){var t={maximumId:null,treeLevels:Ad(),bundles:[],connectorStacks:[]},n={orgTree:wa(),maximumId:e.maximumId,orgPartners:{},itemByChildrenKey:{},minimumLevel:null,maximumLevel:null};this.createOrgTree(e,n);var i,r=-1;return n.orgTree.loopLevels(this,function(o,s,a){var l=e.logicalFamily.node(o);null!=l&&(i!==a&&(i=a,r+=1),t.treeLevels.addItem(r,o,l))}),this.recalcLevelsDepth(t.bundles,t.connectorStacks,t.treeLevels,e.logicalFamily),t.maximumId=n.maximumId,t},un.prototype.Family=function(e){this.id=null,this.familyPriority=1,this.childFamilies=[],this.items=[],this.links=[],this.backLinks=[],1==arguments.length&&(this.id=e)},un.prototype.FamLink=function(e,t){this.fromItem=e,this.toItem=t},un.prototype.createOrgTree=function(e,t){var n,i,r,o,s,a,l,u,c,f,d,p,g,m,v,C,y,T,S,_,b,I,D,P,E,h=[],M=[];if(e.logicalFamily.hasNodes()>0){if(P={},p=0,E=[],e.logicalFamily.loopRoots(this,function(A,F){g=new this.Family(p),this.extractOrgChart(A,e.logicalFamily,e.primaryParents,t.orgTree,t.orgPartners,t.itemByChildrenKey,P,g),M.push(g),E.push(g),p+=1}),E.sort(function(A,F){var x=A.items[0].level,O=F.items[0].level;return x!=O?x-O:F.items.length-A.items.length}),h=[],f={},M.length>0){for(s=Xr(),n=0,i=M.length;n<i;n+=1)for(r=0,o=(g=M[n]).links.length;r<o;r+=1)(u=e.logicalFamily.node((a=g.links[r]).fromItem).familyId)!=(c=e.logicalFamily.node(a.toItem).familyId)&&(s.addEdge(u,c,{weight:0}),s.edge(u,c).weight+=1),M[c].backLinks.push(new this.FamLink(a.toItem,a.fromItem));for(;h.length<M.length;)for(n=0,i=E.length;n<i;n+=1)f.hasOwnProperty((g=E[n]).id)||(null!=(_=s.getSpanningTree(g.id,function(A){return-A.weight})).node(g.id)?(_.loopPostOrder(this,function(A,F,x,O){var H=M[x],J=[];null!=x&&(H.familyPriority=H.familyPriority+M[A].familyPriority),J=[],_.loopChildren(this,A,function(re,L,B){J.push(re)}),J.sort(function(re,L){return M[re].familyPriority-M[L].familyPriority}),_.arrangeChildren(A,J)}),_.loopPreOrder(this,function(A,F){h.push(A),f[A]=!0})):(h.push(g.id),f[g.id]=!0))}for(t.maximumId+=1,D=new Lu(t.maximumId,null,t.minimumLevel-1),t.orgTree.add(null,D.id,D),d={},n=0,i=h.length;n<i;n+=1){for(y={},T=D,S=0,l=(g=M[h[n]]).links.concat(g.backLinks),r=0;r<l.length;r+=1)v=t.orgTree.node((a=l[r]).toItem),t.orgTree.node(a.fromItem),!0===d[v.familyId]&&((C=v).level>=(m=g.items[0]).level&&t.orgTree.loopParents(this,C.id,function(A,F){if(C=F,F.level<m.level)return!0}),y.hasOwnProperty(C.id)?y[C.id]+=1:y[C.id]=1,S<y[C.id]&&(T=C,S=y[C.id]));this.attachFamilyToOrgChart(t,T,g),d[g.id]=!0}b=this.getExtraGravity(t),I=this.getGrandChildren(t),this.balanceOrgTree(t.orgTree,b,I,e.itemsPositions,e.itemsGroups)}},un.prototype.getGrandChildren=function(e){var t={};return e.orgTree.loopPostOrder(this,function(n,i,r,o){var s;if(e.minimumLevel=null!=e.minimumLevel?Math.min(e.minimumLevel,i.level):i.level,e.maximumLevel=null!=e.maximumLevel?Math.max(e.maximumLevel,i.level):i.level,null!=r&&(t[r]||(t[r]={}),t[r][s=i.level-1]?t[r][s]+=1:t[r][s]=1,null!=t[n]))for(s in t[n])t[n].hasOwnProperty(s)&&(t[r][s]?t[r][s]+=t[n][s]:t[r][s]=t[n][s])}),t},un.prototype.balanceOrgTree=function(e,t,n,i,r){var o,s,a,l,u,c,h,f,d,m,w,p="__left__",g="__right__";e.loopLevels(this,function(v,C,y){var b,T=Xr(),S={},_=null;if(h=[],e.loopChildren(this,C.id,function(I,D,P){var M;if(null==_&&(_=D),S[D.id]={},t.hasOwnProperty(D.id))for(M in c=t[D.id])if(c.hasOwnProperty(M))for(m=c[M],S[D.id][M]={},o=0,s=m.length;o<s;o+=1)b=(u=m[o]).commonParent==C.id?u.toParent:e.node(u.fromParent).childIndex<e.node(u.toParent).childIndex?g:p,D.id!=b&&(T.addEdge(D.id,b,{weight:0}),T.edge(D.id,b).weight+=1,null==S[D.id][M][b]&&(S[D.id][M][b]=0),S[D.id][M][b]+=1);P>0&&T.addEdge(D.id,_.id,{weight:0})}),null!=_)for(w=[],T.getTotalWeightGrowthSequence(this,function(I){return I.weight},function(I){w.push(I)}),0===w.length&&(w=[_.id]),f=this.balanceItems(w,p,g,S,n,i,r),a=0,l=f.length;a<l;a+=1)(d=e.node(f[a])).childIndex=a,h.push(d.id);e.arrangeChildren(C.id,h)})},un.prototype.balanceItems=function(e,t,n,i,r,o,s){var l,f,d,p,g,w,v,C,y,T,S,_,b,I,D,P,M,E,A,F,x,O,R,H,J,re,L,B,j,a=[],u=Fd(),c=0,h={},m={};for(v=[t,null,n],l=0;l<v.length;l+=1)p=c++,(g=new Vd(w=v[l])).position=l,u.add(p,g),null!==w&&(m[w]=p);for(l=0;l<e.length;l+=1)if((w=e[l])!=t&&w!=n)for(x in C=null,y=null,T=null,S=null,_=null,b=null,f=null,d=null,s.hasOwnProperty(w)&&h.hasOwnProperty(L=s[w])&&(f=(B=h[L]).previousContext(J=o[w]),d=B.nextContext(J)),u.iterate(function(U,q){var G,oe,ge,je;if(null==U.itemId){for(G in E=r[w],I=0,D=0,P=0,M=0,U.crossings)U.crossings.hasOwnProperty(G)&&(E&&null!=E[G]&&(I+=U.crossings[G]*E[G]),M+=U.crossings[G]);for(G in i[w])if(i[w].hasOwnProperty(G))for(oe in ge=i[w][G])ge.hasOwnProperty(oe)&&m.hasOwnProperty(oe)&&null!=(je=u.item(m[oe]))&&(je.position<U.position?(I+=(U.left[G]||0)-(je.left[G]||0),P+=Math.abs(je.balance+1)):(I+=(U.right[G]||0)-(je.right[G]||0),P+=Math.abs(je.balance-1)),D+=Math.abs(je.position-U.position));(null==T||T>I||T==I&&(S>D||S==D&&(_>P||_==P&&b>M)))&&(C=q,T=I,y=U,S=D,_=P,b=M)}},f,d),u.insertBefore(C,c++,y.clone(null)),m[w]=c,F=c,A=y.clone(w),o.hasOwnProperty(w)&&(h.hasOwnProperty(L=s[w])||(h[L]=Od()),(B=h[L]).add(o[w],c)),u.insertBefore(C,c++,A),A.position=0,re=0,u.iterate(function(U,q){var G,oe;if(q!=F){for(G in oe=r[w])oe.hasOwnProperty(G)&&(U.left[G]?U.left[G]+=oe[G]:U.left[G]=oe[G]);U.position=re+=1}},F),re=0,u.iterateBack(function(U,q){var G,oe;if(q!=F){for(G in oe=r[w],r[w])r[w].hasOwnProperty(G)&&(U.right[G]?U.right[G]+=oe[G]:U.right[G]=oe[G]);U.position=re-=1}},F),i[w])if(i[w].hasOwnProperty(x))for(R in O=i[w][x])O.hasOwnProperty(R)&&m.hasOwnProperty(R)&&null!=(H=u.item(j=m[R]))&&(H.position<0?(H.balance+=1,A.balance-=1,u.iterateBack(function(U,q){q!=F&&q!=j&&(U.crossings[x]?U.crossings[x]+=O[R]:U.crossings[x]=O[R])},F,j)):(H.balance-=1,A.balance+=1,u.iterate(function(U,q){q!=F&&q!=j&&(U.crossings[x]?U.crossings[x]+=O[R]:U.crossings[x]=O[R])},F,j)));return u.iterate(function(U){var q=U.itemId;null!=q&&q!=t&&q!=n&&a.push(q)}),a},un.prototype.ExtraGravity=function(e){this.commonParent=null,this.fromParent=null,this.toParent=null,this.level=e},un.prototype.getExtraGravity=function(e){var t,n,r,o,s,a,i={};for(t in e.orgPartners)if(e.orgPartners.hasOwnProperty(t))for(n=e.orgTree.node(t),r=0,o=(s=e.orgPartners[t]).length;r<o;r+=1)a=e.orgTree.node(s[r]),this.addExtraGravitiesForConnection(e.orgTree,i,a,n);return i},un.prototype.addExtraGravitiesForConnection=function(e,t,n,i){var r=new this.ExtraGravity(n.level),o=new this.ExtraGravity(i.level);e.zipUp(this,n.id,i.id,function(s,a,l,u){if(this.addExtraGravityForItem(t,s,r),this.addExtraGravityForItem(t,l,o),a==u)return r.commonParent=a,r.fromParent=s,r.toParent=l,o.commonParent=a,o.fromParent=l,o.toParent=s,!0})},un.prototype.addExtraGravityForItem=function(e,t,n){e.hasOwnProperty(t)||(e[t]={}),null==e[t][n.level]&&(e[t][n.level]=[]),e[t][n.level].push(n)},un.prototype.attachFamilyToOrgChart=function(e,t,n){var i,r=n.items[0],o=null,s=t;for(i=t.level+1;i<r.level;i+=1)e.maximumId+=1,o=new Lu(e.maximumId,null,i),e.orgTree.add(s.id,o.id,o),n.items.push(o),s=o;r.hideParentConnection=!0,e.orgTree.adopt(s.id,r.id,r)},un.prototype.extractOrgChart=function(e,t,n,i,r,o,s,a){var l,u,h,p,c=[],g=t.node(e);for(p=new Lu(g.id,a.id,g.level),i.add(null,p.id,p),a.items.push(p),s[g.id]=g,g.familyId=a.id,c=this.extractChildren(g,t,n,i,r,o,s,a);c.length>0;){for(h=[],l=0,u=c.length;l<u;l+=1)h=h.concat(this.extractChildren(c[l],t,n,i,r,o,s,a));c=h}},un.prototype.extractChildren=function(e,t,n,i,r,o,s,a){var h,l=[],u=null,c=null;if(1==t.countChildren(e.id)&&(u=t.firstChild(e.id)),null!=o[u])null==r[(c=o[u]).id]&&(r[c.id]=[]),r[c.id].push(e.id),a.links.push(new this.FamLink(e.id,u));else{if(null!=u){if(n.hasOwnProperty(u)){var f=n[u];if(f!=e.id)return null==r[f]&&(r[f]=[]),r[f].push(e.id),a.links.push(new this.FamLink(e.id,u)),l}o[u]=e}t.loopChildren(this,e.id,function(d,p,g){if(s[p.id])throw"Many to many relations should not exist at this stage";return l.push(p),h=new Lu(p.id,a.id,p.level),i.add(e.id,h.id,h),a.items.push(h),s[p.id]=!0,p.familyId=a.id,t.SKIP})}return l},un.prototype.recalcLevelsDepth=function(e,t,n,i){var r,o,s,a,l,u,c,f,d,p,h={};n.loopLevels(this,function(g,m){var w=new M_;if(t[g]=w,c=[],n.loopLevelItems(this,g,function(v,C,y){var T=[],S=[],_=null;h.hasOwnProperty(v)||(h[v]=!0,C.hideChildrenConnection?_=v:T.push(v),i.loopChildren(this,v,function(b,I,D){return i.loopParents(this,b,function(P,M){return h.hasOwnProperty(P)||(h[P]=!0,M.hideChildrenConnection?_=P:T.push(P)),i.SKIP}),I.hideParentConnection?_=b:S.push(b),i.SKIP}),(T.length>1||S.length>0)&&(u=new jd(T,S,_),e.push(u),T.length>1&&c.push(u)))}),c.length>0){for(p=b_(),r=0,o=c.length;r<o;r+=1){for(f=null,d=null,s=0,a=(u=c[r]).fromItems.length;s<a;s+=1)l=n.getItemPosition(u.fromItems[s]),f=null!=f?Math.min(f,l):l,d=null!=d?Math.max(d,l):l;p.add(f,d,u)}w.parentsStackSize=p.resolve(this,function(v,C,y,T,S){y.fromOffset=T+1,y.fromStackSize=S})}})},k_.prototype.getUserDefinedPrimaryParents=function(e,t){var i,r,n={},o={};for(i=0,r=e.length;i<r;i+=1){var s=e[i];null!=s.primaryParent&&(o[s.id]=s.primaryParent)}for(var a in o)for(var l=o[a],u={},c=[a];c.length>0;){var h=[];for(i=0,r=c.length;i<r;i+=1)t.loopParents(this,a=c[i],function(f,d){if(u[f]=a,f==l){for(;null!=u[f];)n[u[f]]=f,f=u[f];return h=[],t.BREAK}return 0==d.isVisible&&h.push(f),t.SKIP});c=h}return n},Fu.prototype.setShift=function(e,t,n,i,r){return this.shift=e,this.levelSpace=t,this.topConnectorShift=-t/2-n,this.connectorShift=this.depth+i+(r+1)*(t/2),this.nextLevelShift=n+this.depth+i+t+r*t/2,this.nextLevelShift},Fu.prototype.getNodesBottom=function(){return this.shift+this.depth},Fu.prototype.toString=function(){return this.currentvisibility},Ti.prototype.loop=function(e,t){if(null!=t){var n=0;this.treeLevels.loopLevels(this,function(i){this.treeLevels.loopLevelItems(this,i,function(r,o){t.call(e,o,n)}),n+=1})}},Ti.prototype.measure=function(e,t,n,i,r,o){this.treeLevelsPositions=[],this.treeLevels.loopLevels(this,function(a,l){var u=new Fu;this.treeLevelsPositions.push(u)}),this.setOffsets(this.treeLevels,r,this.childLayoutsPositions,this.treeLevelsPositions,this.logicalFamily,o.intervals,o.padding),this.setLevelsDepth(this.treeLevels,r,this.treeLevelsPositions,o.verticalAlignment),this.shiftLevels(this.treeLevelsPositions,o.padding.top,o.shifts,o.arrowsDirection,o.linesWidth,this.getConnectorsStacksSizes);var s=new _a;return s.actualVisibility=ne.Normal,s.actualSize=this.getLayoutSize(this.treeLevels,r,this.childLayoutsPositions,this.treeLevelsPositions,o.padding),s},Ti.prototype.getLayoutSize=function(e,t,n,i,r){return new K(0,0,Math.round(this.getLayoutWidth(e,t,n,r)),Math.round(this.getLayoutHeight(i,r)))},Ti.prototype.getLayoutWidth=function(e,t,n,i){var r=0;return e.loopLevels(this,function(o,s){var a=e.getLevelLength(o);if(a>0){var l=e.getItemAtPosition(o,a-1);r=Math.max(r,n[l].offset+t[l].actualSize.width+i.right)}}),r},Ti.prototype.getLayoutHeight=function(e,t){return e[e.length-1].getNodesBottom()+t.bottom},Ti.prototype.setLevelsDepth=function(e,t,n,i){var r,o;e.loopLevels(this,function(s,a){var l=n[s];switch(l.shift=0,l.depth=0,l.actualVisibility=ne.Invisible,r=null,o=null,e.loopLevelItems(this,s,function(u,c,h){var f=t[u];switch(l.depth=Math.max(l.depth,f.actualSize.height),f.actualVisibility){case ne.Dot:case ne.Line:case ne.Invisible:o=o?Math.min(o,f.actualSize.height):f.actualSize.height;break;default:r=r?Math.min(r,f.actualSize.height):f.actualSize.height}l.actualVisibility=Math.min(l.actualVisibility,f.actualVisibility)}),null==r&&(r=l.depth),null!=o&&o>r&&(r=o),i){case Re.Top:l.horizontalConnectorsDepth=r/2;break;case Re.Middle:l.horizontalConnectorsDepth=l.depth/2;break;case Re.Bottom:l.horizontalConnectorsDepth=l.depth-r/2}})},Ti.prototype.shiftLevels=function(e,t,n,i,r,o){var s,a,l,u,c=0,h=0,f=8*r;switch(i){case tt.Parents:c=f,h=0;break;case tt.Children:c=0,h=f}for(s=0,a=e.length;s<a;s+=1)l=e[s],u=o(s).parentsStackSize,t+=l.setShift(t,n[l.actualVisibility],h,c,u)},Ti.prototype.setOffsets=function(e,t,n,i,r,o,s){var a,l;for(a=0,l=i.length;a<l;a+=1)i[a].currentOffset=0;var c=new s2(this,r.getPlanarFamily(e),e,function(f,d){var p=t[f],g=o[p.actualVisibility]/2;return n[f]=new a2(0,g,g),g+p.actualSize.width+g}),h=null;e.loopLevels(this,function(f,d){var p=e.getItemAtPosition(f,0);if(null!=p){var g=t[p],m=c.getOffset(p)-g.actualSize.width/2;h=null===h?m:Math.min(h,m)}}),e.loopLevels(this,function(f,d){e.loopLevelItems(this,f,function(p,g,m){var w=t[p],v=c.getOffset(p);n[p].offset=v-w.actualSize.width/2-h+s.left})})},Ti.prototype.arrange=function(e,t,n,i,r,o){var s=null;null!=o&&this.treeLevels.loopLevels(this,function(a,l){var u=this.treeLevelsPositions[a];this.treeLevels.loopLevelItems(this,a,function(c,h,f){var d=i[c],g=this.getItemPosition(d.actualVisibility,this.childLayoutsPositions[c].offset,d.actualSize,s,u,r.verticalAlignment);o.call(e,c,{...d,...g})}),s=u})},Ti.prototype.getItemPosition=function(e,t,n,i,r,o){var s=0;switch(e){case ne.Normal:switch(o){case Re.Top:s=0;break;case Re.Middle:s=(r.depth-n.height)/2;break;case Re.Bottom:s=r.depth-n.height}break;case ne.Dot:case ne.Line:case ne.Invisible:s=r.horizontalConnectorsDepth-n.height/2}return{actualPosition:new K(t,r.shift+s,n.width,n.height),horizontalConnectorsShift:r.shift+r.horizontalConnectorsDepth,topConnectorShift:null!=i?i.shift+i.connectorShift:null,topConnectorInterval:null!=i?i.levelSpace/2:null,bottomConnectorShift:r.shift+r.connectorShift,bottomConnectorInterval:r.levelSpace/2}},$d.prototype.measure=function(e,t,n,i,r,o){var s,a,l,{orientationType:u,checkBoxPanelSize:c,buttonsPanelSize:h,groupTitlePanelSize:f,groupTitlePlacementType:d}=o,p=n||t?ne.Normal:this.visibility,g=p===ne.Auto?e:p;switch(g){case ne.Normal:l=new K(0,0,(a=new Te((s=i.template.templateConfig).itemSize)).width,a.height),t&&(a.height+=s.cursorPadding.top+s.cursorPadding.bottom,a.width+=s.cursorPadding.left+s.cursorPadding.right,l.x=s.cursorPadding.left,l.y=s.cursorPadding.top),i.hasSelectorCheckbox&&(a.height+=c),i.hasButtons&&(a.width+=h,d===St.Right)&&(l.x+=h),i.hasGroupTitle&&(a.width+=f,d===St.Right||(l.x+=f));break;case ne.Dot:a=new Te((s=i.template.templateConfig).minimizedItemSize);break;case ne.Line:case ne.Invisible:a=new Te}switch(u){case Me.Left:case Me.Right:a.invert()}var m=new _a;return m.actualVisibility=g,m.actualSize=a,m.contentPosition=l,m},$d.prototype.arrange=function(e,t,n,i,r,o){};class d2{constructor(t={}){this.navigationMode=_d.Default,this.pageFitMode=_u.FitToPage,this.minimalVisibility=ga.Dot,this.minimumVisibleLevels=0,this.orientationType=or.Top,this.verticalAlignment=On.Middle,this.arrowsDirection=ts.None,this.showExtraArrows=!0,this.extraArrowsMinimumSpace=30,this.groupByType=ts.Children,this.alignBylevels=!0,this.enableMatrixLayout=!1,this.minimumMatrixSize=4,this.maximumColumnsInMatrix=6,this.hideGrandParentsConnectors=!1,this.bevelSize=4,this.elbowType=wd.Round,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=qt.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=bd.None,this.neighboursSelectionMode=Cd.ParentsAndChildren,this.templates=[],this.defaultTemplateName=null,this.defaultLabelAnnotationTemplate=null,this.hasButtons=qt.Auto,this.buttonsTemplate=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor="#ffffff",this.itemTitleSecondFontColor="#000080",this.minimizedItemShapeType=Dd.None,this.linesColor="#c0c0c0",this.linesWidth=1,this.linesType=si.Solid,this.showNeigboursConnectorsHighlighted=!1,this.highlightLinesColor="#ff0000",this.highlightLinesWidth=1,this.highlightLinesType=si.Solid,this.linesPalette=[],this.calloutMaximumVisibility=ga.Dot,this.showCallout=!0,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=qr.Left,this.groupTitleOrientation=Yt.RotateRight,this.groupTitleVerticalAlignment=On.Middle,this.groupTitleHorizontalAlignment=yi.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor="#4169e1",this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.groupTitleTemplate=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=qr.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=Yt.Auto,this.levelTitleVerticalAlignment=On.Middle,this.levelTitleHorizontalAlignment=yi.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor="#ffffff",this.levelTitleColor="#4169e1",this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.levelTitleTemplate=null,this.levelBackgroundTemplate=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=1,this.showLabels=qt.Auto,this.labelSize=new Ct(80,24),this.labelOffset=1,this.labelOrientation=Yt.Horizontal,this.labelPlacement=Cu.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor="#000000",this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new Ct(800,600),this.autoSizeMaximum=new Ct(1024,768),this.showFrame=!1,this.frameInnerPadding=new zi(2,2,2,2),this.frameOuterPadding=new zi(2,2,2,2),this.padding=new zi(10,10,10,10),Object.assign(this,t)}}function p2(e,t){1&e&&kn(0)}const Nu=function(e){return{$implicit:e}};function g2(e,t){if(1&e){const n=Qs();Fe(0,"div",13,14),jn("click",function(r){return Wi(n),qi(Ee().onFrameClick(r))})("mousemove",function(r){return Wi(n),qi(Ee().onFrameMouseMove(r))}),Fe(2,"div",15,16),ye(4,p2,1,0,"ng-container",10),Ye()()}if(2&e){const n=Ee(),i=Vn(13);Q("ngStyle",n.frameMousePanelStyle),ee(2),Q("ngStyle",n.framePlaceholderStyle),ee(2),Q("ngTemplateOutlet",i)("ngTemplateOutletContext",ii(4,Nu,n.framePlaceholder))}}function m2(e,t){1&e&&kn(0)}function v2(e,t){if(1&e){const n=Qs();Fe(0,"div",17,18),jn("mousemove",function(r){return Wi(n),qi(Ee().onFrameMouseMove(r))})("click",function(r){return Wi(n),qi(Ee().onFrameClick(r))}),Fe(2,"div",19,20),ye(4,m2,1,0,"ng-container",10),Ye()()}if(2&e){const n=Ee(),i=Vn(13);Q("ngStyle",n.titlesMousePanelStyle),ee(2),Q("ngStyle",n.titlesPlaceholderStyle),ee(2),Q("ngTemplateOutlet",i)("ngTemplateOutletContext",ii(4,Nu,n.titlesPlaceholder))}}function y2(e,t){1&e&&kn(0)}function w2(e,t){1&e&&kn(0)}function T2(e,t){if(1&e&&(Fe(0,"div",21,22),ye(2,w2,1,0,"ng-container",10),Ye()),2&e){const n=Ee(),i=Vn(13);Q("ngStyle",n.calloutPlaceholderStyle),ee(2),Q("ngTemplateOutlet",i)("ngTemplateOutletContext",ii(3,Nu,n.calloutPlaceholder))}}function _2(e,t){if(1&e&&(Fe(0,"div",29)(1,"rotated-text",30),$n(2),Ye()()),2&e){const n=t.$implicit;Q("ngStyle",n.style),ee(1),Q("width",n.width)("height",n.height)("orientation",n.orientation)("horizontalAlignment",n.horizontalAlignment)("verticalAlignment",n.verticalAlignment),ee(1),ni(n.label)}}function C2(e,t){if(1&e&&(Ds(),ct(0,"path",33)),2&e){const n=t.$implicit;Q("ngStyle",n.style),Bo("d",n.data)}}const b2=function(e,t){return{width:e,height:t}};function D2(e,t){if(1&e&&(Ds(),Fe(0,"svg",31),ye(1,C2,1,2,"path",32),Ye()),2&e){const n=Ee(2).$implicit,i=Ee().$implicit;Hl("height","",i.size.height,"px")("width","",i.size.width,"px"),Q("ngStyle",Tf(4,b2,i.size.width+"px",i.size.height+"px")),ee(1),Q("ngForOf",n.polylines)}}function S2(e,t){if(1&e&&(ot(0),ct(1,"bp-item",38),st()),2&e){const n=Ee().$implicit;ee(1),Q("itemConfig",n.context.context)("itemTitleFirstFontColor",n.context.itemTitleFirstFontColor)("itemTitleSecondFontColor",n.context.itemTitleSecondFontColor)}}function I2(e,t){if(1&e&&(ot(0),ct(1,"bp-checkbox",39),st()),2&e){const n=Ee().$implicit;ee(1),Q("id",n.context.id)("isSelected",n.context.isSelected)("label",n.context.selectCheckBoxLabel)}}function P2(e,t){if(1&e&&(ot(0),ct(1,"bp-group-title",40),st()),2&e){const n=Ee().$implicit;ee(1),Q("options",n.context)("itemConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function M2(e,t){if(1&e&&(ot(0),ct(1,"bp-cursor",41),st()),2&e){const n=Ee().$implicit;ee(1),Q("templateConfig",n.context.templateConfig)}}function k2(e,t){if(1&e&&(ot(0),ct(1,"bp-highlight",41),st()),2&e){const n=Ee().$implicit;ee(1),Q("templateConfig",n.context.templateConfig)}}function x2(e,t){if(1&e&&(ot(0),ct(1,"bp-dot-highlight",41),st()),2&e){const n=Ee().$implicit;ee(1),Q("templateConfig",n.context.templateConfig)}}function E2(e,t){if(1&e&&(ot(0),ct(1,"bp-level-title",42),st()),2&e){const n=Ee().$implicit;ee(1),Q("options",n.context)("annotationConfig",n.context.context)("width",n.context.width)("height",n.context.height)}}function O2(e,t){if(1&e&&(ot(0),ct(1,"bp-level-background",43),st()),2&e){const n=Ee().$implicit;ee(1),Q("annotationConfig",n.context.context)}}function A2(e,t){if(1&e&&(ot(0),Fe(1,"div",44),$n(2),Ye(),st()),2&e){const n=Ee().$implicit;ee(2),ni(n.context.context.title)}}function L2(e,t){if(1&e&&(ot(0),Fe(1,"div",44),$n(2),Ye(),st()),2&e){const n=Ee().$implicit;ee(2),ni(n.context.context.label)}}function F2(e,t){1&e&&kn(0)}function N2(e,t){if(1&e&&(ot(0),ye(1,F2,1,0,"ng-container",10),st()),2&e){const n=Ee().$implicit;ee(1),Q("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",n.context)}}function R2(e,t){if(1&e&&(Fe(0,"div",34),ot(1,35),ye(2,S2,2,3,"ng-container",36),ye(3,I2,2,3,"ng-container",36),ye(4,P2,2,4,"ng-container",36),ye(5,M2,2,1,"ng-container",36),ye(6,k2,2,1,"ng-container",36),ye(7,x2,2,1,"ng-container",36),ye(8,E2,2,4,"ng-container",36),ye(9,O2,2,1,"ng-container",36),ye(10,A2,3,1,"ng-container",36),ye(11,L2,3,1,"ng-container",36),ye(12,N2,2,2,"ng-container",37),st(),Ye()),2&e){const n=t.$implicit;Q("ngStyle",n.style),ee(1),Q("ngSwitch",n.templateType),ee(1),Q("ngSwitchCase","itemTemplate"),ee(1),Q("ngSwitchCase","checkboxTemplate"),ee(1),Q("ngSwitchCase","groupTitleTemplate"),ee(1),Q("ngSwitchCase","cursorTemplate"),ee(1),Q("ngSwitchCase","highlightTemplate"),ee(1),Q("ngSwitchCase","dotHighlightTemplate"),ee(1),Q("ngSwitchCase","levelTitleTemplate"),ee(1),Q("ngSwitchCase","levelBackgroundTemplate"),ee(1),Q("ngSwitchCase","labelAnnotationTemplate"),ee(1),Q("ngSwitchCase","annotationLabelTemplate")}}function B2(e,t){if(1&e&&(ot(0),ye(1,_2,3,7,"div",26),ye(2,D2,2,7,"svg",27),ye(3,R2,13,12,"div",28),st()),2&e){const n=Ee().$implicit;ee(1),Q("ngForOf",n.labels),ee(1),Q("ngIf",n.polylines.length>0),ee(1),Q("ngForOf",n.items)}}function z2(e,t){if(1&e&&(Fe(0,"div",24),ye(1,B2,4,3,"ng-container",25),Ye()),2&e){const n=t.$implicit;ee(1),Q("ngIf",n)}}function H2(e,t){1&e&&ye(0,z2,2,1,"div",23),2&e&&Q("ngForOf",t.$implicit.layers)}let V2=(()=>{class e extends FF{constructor(n,i){super(n,i,new ZT(f2)),this.navigationMode=_d.Default,this.pageFitMode=_u.FitToPage,this.minimalVisibility=ga.Dot,this.minimumVisibleLevels=0,this.orientationType=or.Top,this.verticalAlignment=On.Middle,this.arrowsDirection=ts.None,this.showExtraArrows=!0,this.extraArrowsMinimumSpace=30,this.groupByType=ts.Children,this.alignBylevels=!0,this.enableMatrixLayout=!1,this.minimumMatrixSize=4,this.maximumColumnsInMatrix=6,this.hideGrandParentsConnectors=!1,this.bevelSize=4,this.elbowType=wd.Round,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=qt.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=bd.None,this.neighboursSelectionMode=Cd.ParentsAndChildren,this.templates=[],this.defaultTemplateName=null,this.defaultLabelAnnotationTemplate=null,this.hasButtons=qt.Auto,this.buttonsTemplate=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor="#ffffff",this.itemTitleSecondFontColor="#000080",this.minimizedItemShapeType=Dd.None,this.linesColor="#c0c0c0",this.linesWidth=1,this.linesType=si.Solid,this.showNeigboursConnectorsHighlighted=!1,this.highlightLinesColor="#ff0000",this.highlightLinesWidth=1,this.highlightLinesType=si.Solid,this.linesPalette=[],this.calloutMaximumVisibility=ga.Dot,this.showCallout=!0,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=qr.Left,this.groupTitleOrientation=Yt.RotateRight,this.groupTitleVerticalAlignment=On.Middle,this.groupTitleHorizontalAlignment=yi.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor="#4169e1",this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.groupTitleTemplate=null,this.levelTitlePanelSize=24,this.levelTitlePlacementType=qr.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=Yt.Auto,this.levelTitleVerticalAlignment=On.Middle,this.levelTitleHorizontalAlignment=yi.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor="#ffffff",this.levelTitleColor="#4169e1",this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.levelTitleTemplate=null,this.levelBackgroundTemplate=null,this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=1,this.showLabels=qt.Auto,this.labelSize=new Ct(80,24),this.labelOffset=1,this.labelOrientation=Yt.Horizontal,this.labelPlacement=Cu.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor="#000000",this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new Ct(800,600),this.autoSizeMaximum=new Ct(1024,768),this.showFrame=!1,this.frameInnerPadding=new zi(2,2,2,2),this.frameOuterPadding=new zi(2,2,2,2),this.padding=new zi(10,10,10,10),this.onHighlightChanging=new vn(!1),this.onHighlightChanged=new vn,this.onCursorChanging=new vn(!1),this.onCursorChanged=new vn,this.onSelectionChanging=new vn(!1),this.onSelectionChanged=new vn}ngOnChanges(n){var i=new d2(this);const{highlightItem:r,cursorItem:o,selectedItems:s}=i;this.state={...this.state,config:i,highlightItem:r,cursorItem:o,selectedItems:s,centerOnCursor:this.centerOnCursor},this.render()}_onHighlightChanging(n,i,r){var o=new u_({...this.getEventArgs(i,r),event:n});return this.onHighlightChanging.emit(o),o}_onHighlightChanged(n){this.onHighlightChanged.emit(n)}_onCursorChanging(n,i,r){var o=new u_({...this.getEventArgs(i,r),event:n});return this.onCursorChanging.emit(o),o}_onCursorChanged(n){this.onCursorChanged.emit(n)}_onSelectionChanging(n,i,r){var o=new NF({selectedItems:i,newSelectedItems:r,event:n});return this.onSelectionChanging.emit(o),o}_onSelectionChanged(n){this.onSelectionChanged.emit(n)}static#e=this.\u0275fac=function(i){return new(i||e)(Le(Cr),Le(_t))};static#t=this.\u0275cmp=Fn({type:e,selectors:[["fam-diagram",5,"a"]],inputs:{navigationMode:"navigationMode",pageFitMode:"pageFitMode",minimalVisibility:"minimalVisibility",minimumVisibleLevels:"minimumVisibleLevels",orientationType:"orientationType",verticalAlignment:"verticalAlignment",arrowsDirection:"arrowsDirection",showExtraArrows:"showExtraArrows",extraArrowsMinimumSpace:"extraArrowsMinimumSpace",groupByType:"groupByType",alignBylevels:"alignBylevels",enableMatrixLayout:"enableMatrixLayout",minimumMatrixSize:"minimumMatrixSize",maximumColumnsInMatrix:"maximumColumnsInMatrix",hideGrandParentsConnectors:"hideGrandParentsConnectors",bevelSize:"bevelSize",elbowType:"elbowType",elbowDotSize:"elbowDotSize",emptyDiagramMessage:"emptyDiagramMessage",items:"items",annotations:"annotations",cursorItem:"cursorItem",highlightItem:"highlightItem",highlightGravityRadius:"highlightGravityRadius",selectedItems:"selectedItems",hasSelectorCheckbox:"hasSelectorCheckbox",selectCheckBoxLabel:"selectCheckBoxLabel",selectionPathMode:"selectionPathMode",neighboursSelectionMode:"neighboursSelectionMode",templates:"templates",defaultTemplateName:"defaultTemplateName",defaultLabelAnnotationTemplate:"defaultLabelAnnotationTemplate",hasButtons:"hasButtons",buttonsTemplate:"buttonsTemplate",normalLevelShift:"normalLevelShift",dotLevelShift:"dotLevelShift",lineLevelShift:"lineLevelShift",normalItemsInterval:"normalItemsInterval",dotItemsInterval:"dotItemsInterval",lineItemsInterval:"lineItemsInterval",cousinsIntervalMultiplier:"cousinsIntervalMultiplier",itemTitleFirstFontColor:"itemTitleFirstFontColor",itemTitleSecondFontColor:"itemTitleSecondFontColor",minimizedItemShapeType:"minimizedItemShapeType",linesColor:"linesColor",linesWidth:"linesWidth",linesType:"linesType",showNeigboursConnectorsHighlighted:"showNeigboursConnectorsHighlighted",highlightLinesColor:"highlightLinesColor",highlightLinesWidth:"highlightLinesWidth",highlightLinesType:"highlightLinesType",linesPalette:"linesPalette",calloutMaximumVisibility:"calloutMaximumVisibility",showCallout:"showCallout",calloutPlacementOffset:"calloutPlacementOffset",defaultCalloutTemplateName:"defaultCalloutTemplateName",calloutfillColor:"calloutfillColor",calloutBorderColor:"calloutBorderColor",calloutOffset:"calloutOffset",calloutCornerRadius:"calloutCornerRadius",calloutPointerWidth:"calloutPointerWidth",calloutLineWidth:"calloutLineWidth",calloutOpacity:"calloutOpacity",buttonsPanelSize:"buttonsPanelSize",groupTitlePanelSize:"groupTitlePanelSize",checkBoxPanelSize:"checkBoxPanelSize",groupTitlePlacementType:"groupTitlePlacementType",groupTitleOrientation:"groupTitleOrientation",groupTitleVerticalAlignment:"groupTitleVerticalAlignment",groupTitleHorizontalAlignment:"groupTitleHorizontalAlignment",groupTitleFontSize:"groupTitleFontSize",groupTitleFontFamily:"groupTitleFontFamily",groupTitleColor:"groupTitleColor",groupTitleFontWeight:"groupTitleFontWeight",groupTitleFontStyle:"groupTitleFontStyle",groupTitleTemplate:"groupTitleTemplate",levelTitlePanelSize:"levelTitlePanelSize",levelTitlePlacementType:"levelTitlePlacementType",levelTitlePlaceInside:"levelTitlePlaceInside",levelTitleOrientation:"levelTitleOrientation",levelTitleVerticalAlignment:"levelTitleVerticalAlignment",levelTitleHorizontalAlignment:"levelTitleHorizontalAlignment",levelTitleFontSize:"levelTitleFontSize",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontColor:"levelTitleFontColor",levelTitleColor:"levelTitleColor",levelTitleFontWeight:"levelTitleFontWeight",levelTitleFontStyle:"levelTitleFontStyle",levelTitleTemplate:"levelTitleTemplate",levelBackgroundTemplate:"levelBackgroundTemplate",distance:"distance",scale:"scale",minimumScale:"minimumScale",maximumScale:"maximumScale",showLabels:"showLabels",labelSize:"labelSize",labelOffset:"labelOffset",labelOrientation:"labelOrientation",labelPlacement:"labelPlacement",labelFontSize:"labelFontSize",labelFontFamily:"labelFontFamily",labelColor:"labelColor",labelFontWeight:"labelFontWeight",labelFontStyle:"labelFontStyle",enablePanning:"enablePanning",autoSizeMinimum:"autoSizeMinimum",autoSizeMaximum:"autoSizeMaximum",showFrame:"showFrame",frameInnerPadding:"frameInnerPadding",frameOuterPadding:"frameOuterPadding",padding:"padding"},outputs:{onHighlightChanging:"onHighlightChanging",onHighlightChanged:"onHighlightChanged",onCursorChanging:"onCursorChanging",onCursorChanged:"onCursorChanged",onSelectionChanging:"onSelectionChanging",onSelectionChanged:"onSelectionChanged"},features:[Qh,Rn],decls:14,vars:13,consts:[["tabIndex","0",1,"control-panel",3,"ngStyle","keydown"],["controlPanelRef",""],["class","frame-mouse-panel",3,"ngStyle","click","mousemove",4,"ngIf"],["class","titles-mouse-panel",3,"ngStyle","mousemove","click",4,"ngIf"],[1,"scroll-panel",3,"ngStyle","scrollLeft","scrollTop","scroll"],["scrollPanelRef",""],[1,"mouse-panel",3,"ngStyle","mousemove","click","change"],["mousePanelRef",""],[1,"placeholder",3,"ngStyle"],["placeholderRef",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","callout-placeholder",3,"ngStyle",4,"ngIf"],["layerTemplate",""],[1,"frame-mouse-panel",3,"ngStyle","click","mousemove"],["frameMousePanelRef",""],[1,"frame-placeholder",3,"ngStyle"],["framePlaceholderRef",""],[1,"titles-mouse-panel",3,"ngStyle","mousemove","click"],["titlesMousePanelRef",""],[1,"titles-placeholder",3,"ngStyle"],["titlesPlaceholderRef",""],[1,"callout-placeholder",3,"ngStyle"],["calloutPlaceholderRef",""],["class","layer",4,"ngFor","ngForOf"],[1,"layer"],[4,"ngIf"],["class","label",3,"ngStyle",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle",4,"ngIf"],["class","template",3,"ngStyle",4,"ngFor","ngForOf"],[1,"label",3,"ngStyle"],[3,"width","height","orientation","horizontalAlignment","verticalAlignment"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"ngStyle"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"template",3,"ngStyle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"itemConfig","itemTitleFirstFontColor","itemTitleSecondFontColor"],[3,"id","isSelected","label"],[3,"options","itemConfig","width","height"],[3,"templateConfig"],[3,"options","annotationConfig","width","height"],[3,"annotationConfig"],[1,"label-annotation"]],template:function(i,r){if(1&i&&(Fe(0,"div",0,1),jn("keydown",function(s){return r.onKeyDown(s)}),ye(2,g2,5,6,"div",2),ye(3,v2,5,6,"div",3),Fe(4,"div",4,5),jn("scroll",function(s){return r.onScroll(s)}),Fe(6,"div",6,7),jn("mousemove",function(s){return r.onMouseMove(s)})("click",function(s){return r.onClick(s)})("change",function(s){return r.onCheckboxChange(s)}),Fe(8,"div",8,9),ye(10,y2,1,0,"ng-container",10),ye(11,T2,3,5,"div",11),Ye()()()(),ye(12,H2,1,1,"ng-template",null,12,Ko)),2&i){const o=Vn(13);Q("ngStyle",r.controlPanelStyle),ee(2),Q("ngIf",r.framePlaceholder),ee(1),Q("ngIf",r.titlesPlaceholder),ee(1),Q("ngStyle",r.scrollPanelStyle)("scrollLeft",r.placeholderOffset?r.placeholderOffset.x:void 0)("scrollTop",r.placeholderOffset?r.placeholderOffset.y:void 0),ee(2),Q("ngStyle",r.mousePanelStyle),ee(2),Q("ngStyle",r.placeholderStyle),ee(2),Q("ngTemplateOutlet",o)("ngTemplateOutletContext",ii(11,Nu,r.placeholder)),ee(1),Q("ngIf",r.calloutPlaceholder)}},dependencies:[id,mu,vu,mi,fa,od,sd,bu,e_,t_,n_,i_,r_,o_,a_,l_],styles:[".control-panel[_ngcontent-%COMP%]{position:relative;overflow:hidden;top:0;left:0;width:100%;height:100%;padding:0;margin-bottom:0;margin-right:0}.frame-mouse-panel[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.frame-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden;transform-origin:0 0}.titles-mouse-panel[_ngcontent-%COMP%], .titles-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.scroll-panel[_ngcontent-%COMP%]{position:absolute;overflow:auto;-webkit-overflow-scrolling:touch}.mouse-panel[_ngcontent-%COMP%]{position:absolute;overflow:hidden}.placeholder[_ngcontent-%COMP%]{position:absolute;overflow:hidden;transform-origin:0 0}.callout-placeholder[_ngcontent-%COMP%]{position:absolute;overflow:visible}.layer[_ngcontent-%COMP%]{position:absolute;overflow:visible;left:0;top:0}.label[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box}.template[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;padding:0;margin:0}.label-annotation[_ngcontent-%COMP%]{position:absolute;overflow:visible;font-family:Trebuchet MS,Tahoma,Verdana,Arial,sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;box-sizing:content-box;width:100%;text-align:center}"]})}return e})(),j2=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=oo({type:e});static#n=this.\u0275inj=Lr({imports:[bT]})}return e})();class io{constructor(t={}){this.id=null,this.parents=[],this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor="#4169e1",this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor="#4169e1",this.isActive=!0,this.hasSelectorCheckbox=qt.Auto,this.hasButtons=qt.Auto,this.templateName=null,this.showCallout=qt.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=qt.Auto,this.labelSize=null,this.labelOrientation=Yt.Auto,this.labelPlacement=Cu.Auto,this.primaryParent=null,this.relativeItem=null,this.position=null,this.placementType=qr.Right,this.matrixId=null,this.addToMatrix=!0,Object.assign(this,t)}}let $2=(()=>{class e{constructor(){this.title="First Family Chart",this.PageFitMode=_u,this.Enabled=qt,this.GroupByType=ts,this.photos={a:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA8CAIAAACrV36WAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGnSURBVGhD7dnBbQJBDAVQk1o2QjlQwKYGzpSwKQfq4IxICRTB9jLZHCJFwWv7/7EiDt6zmX2yPYMHNq01eb7n5flI36JiIXWpbFW2kAwgsdVblS0kA0hs9db/ZWs+vW/Wno9PxPE3dhls6Od+HI1XT1d64Sb8R5utEulwdbA8VY+LZ/kqkfF456pBHxDz5Xxze/p2vsxukBbAshTVOE0PO4B2cUlWKrgUTKsrV0eut3RVU/cm5aKKqPXVbjuIDPtDUh2JImq1+jmjkupIFNFStXadHncWXkecpb3393me4oJZnionXyjLV6W4QFZEleHCWNG+0eKggQJiRVV6vhAXwoqrul0AC1H1uuIsTLUyukYH1jBL7WJ8lgq6oqwkVXSQDrLSVEFXjJWoirlCrFRVyBVhJasirgCr65tEv7a5A5jL0tcN7vNl9OVcHqtXRbocVr+Kc9k3H/3qPL69Ise7dh0SsS+2JmtFddgvdy/gGbY7Jdp2GRcyrlu1BfUjxtiPRm/lqVbGHOMHnU39zQm0I/UbBLA+GVosJHGVrcoWkgEktnoLydYXkF/LiXG21MwAAAAASUVORK5CYII="},this.items=[new io({id:3,title:"Sonia Moura",label:"Sonia Moura",description:"test",image:this.photos.a}),new io({id:2,title:"Luiz Costa",label:"Luiz da Costa",description:"Luiz Vo",image:this.photos.a}),new io({id:1,title:"Jos\xe9 Moura",label:"Jos\xe9 Moura",description:"2nd Husband",image:this.photos.a}),new io({id:4,parents:[2,3,1],title:"Simone Mendes",label:"Simone Mendes",description:"1st son",image:this.photos.a}),new io({id:5,title:"Cesar Mendes",label:"Cesar Mendes",description:"Pai",image:this.photos.a}),new io({id:6,parents:[4,5],title:"Thais Mendes",label:"Thais Mendes",description:"Thais Mendes",image:this.photos.a}),new io({id:7,parents:[4,5],title:"Raphael Mendes",label:"Raphael Mendes",description:"Raphael Mendes",image:this.photos.a})]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Fn({type:e,selectors:[["app-root"]],decls:5,vars:16,consts:[[1,"content",2,"text-align","center"],[1,"sample"],[3,"items","pageFitMode","cursorItem","linesWidth","arrowsDirection","showExtraArrows","linesColor","normalLevelShift","dotLevelShift","lineLevelShift","normalItemsInterval","dotItemsInterval","lineItemsInterval","hasSelectorCheckbox","centerOnCursor"]],template:function(i,r){1&i&&(Fe(0,"div",0)(1,"h1"),$n(2),Ye()(),Fe(3,"div",1),ct(4,"fam-diagram",2),Ye()),2&i&&(ee(2),Xs("Welcome to ",r.title,"!"),ee(2),Q("items",r.items)("pageFitMode",r.PageFitMode.AutoSize)("cursorItem",2)("linesWidth",1)("arrowsDirection",r.GroupByType.Parents)("showExtraArrows",!1)("linesColor","black")("normalLevelShift",20)("dotLevelShift",20)("lineLevelShift",20)("normalItemsInterval",10)("dotItemsInterval",30)("lineItemsInterval",30)("hasSelectorCheckbox",r.Enabled.False)("centerOnCursor",!0))},dependencies:[V2]})}return e})(),U2=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=oo({type:e,bootstrap:[$2]});static#n=this.\u0275inj=Lr({imports:[QA,j2]})}return e})();YA().bootstrapModule(U2).catch(e=>console.error(e))}},xt=>{xt(xt.s=654)}]);